/*! For license information please see editor.js.LICENSE.txt */
(()=>{var e={340:(t,e,n)=>{n=[n(475),n(411),n(36),n(880),n(664),n(61),n(410),n(257),n(879),n(596),n(813),n(244),n(298),n(375),n(873),n(957),n(953),n(909),n(699),n(212),n(195),n(812),n(21),n(151),n(438)],e=function(t,e,n,r,o,i,a,s,l,c,d,u,f,p,h,g,m,v,b,y,w,x,_,E){"use strict";var A={option:{container:"#editor",baseUrl:"",saveUrl:"/doc/",pdfUrl:"/pdf",mode:"form",revision:!1,showPageLine:!1,scale:1,toolbar:{hide:!1,file:{hide:!1,open:{hide:!1},new:{hide:!1},savetoserver:{hide:!1}},start:{hide:!1},insert:{hide:!1},revision:{hide:!1},view:{hide:!1},layout:{hide:!1},help:{hide:!1}},statusbar:{hide:!1}}};function S(t,e){t=URL.createObjectURL(t);const n=document.createElement("a");document.body.appendChild(n),n.style="display: none",n.href=t,n.download=e,n.click(),window.URL.revokeObjectURL(t),document.body.removeChild(n)}return(window.editor=A).init=function(e){if(e)for(var n in e)e[n]instanceof Object?A.option[n]=Object.assign(A.option[n],e[n]):A.option[n]=e[n];A.layout=new t($(A.option.container)),A.document=document.getElementById("_emreditor").contentWindow.document,A.contentWindow=document.getElementById("_emreditor").contentWindow,A.printDocument=document.getElementById("_printview").contentWindow.document,window.$$=function(t){return $(A.document.body).find(t)},A.json2html=new r,A.html2json=new o,A.bindEvent(),A.bindTouchEvent(),A.option.ready&&A.option.ready()},A.bindEvent=function(){function t(t){t.ctrlKey&&(t.preventDefault(),79==t.keyCode?v.show():78==t.keyCode?A.newEmr():83==t.keyCode?A.saveToServer():89==t.keyCode?A.preview():80==t.keyCode&&A.print())}A.layout.bindEvent();var e=new FileReader;e.onload=function(t){A.history=null,"text/html"==t.target.type?(A.document.body.innerHTML=t.target.result,A.initInnerTool()):"application/json"==t.target.type?A.json2html.renderByJson(JSON.parse(t.target.result)):A.insertImageData(t.target.result)},$("#_importfile").change((function(t){(t=t.currentTarget.files[0])&&(e.type=t.type,"text/html"==t.type||"application/json"==t.type?e.readAsText(t):e.readAsDataURL(t))})),$(window).keydown(t),$(A.contentWindow).keydown(t),$(A.document.body).delegate("a[type]","blur",A.textInputBlur),$(A.document.body).delegate("a[type]","keydown",A.inputkeydown),$(A.document.body).delegate('a[type="DateTime"]',"focus",A.showDatePicker),$(A.document.body).delegate('a[type="DropdownList"]',"focus",(function(t){A._dropdownbox.show(t.currentTarget)})),$(A.document.body).delegate('input[type="checkbox"]',"change",A.checkChanged),$(A.document.body).delegate("svg","dblclick",(function(t){var e=t.currentTarget.getAttribute("type");"women"==e?y.show(t.currentTarget):"tooth"==e&&w.show(t.currentTarget)})),A.document.execCommand("styleWithCSS",!1,null),A.document.addEventListener("cmd",(function(t){A.execCommand(t.detail.cmd,t.detail.param,t.detail.target)})),A.option.revision&&h.bindEvent()},A.execCommand=function(t,e,n){switch(t){case"design":A.setMode("design");break;case"form":A.setMode("form");break;case"open":v.show();break;case"new":A.newEmr();break;case"import":A.importFile();break;case"preview":A.preview(n);break;case"showpageline":l.swithPageLine(n);break;case"print":A.print();break;case"savetoserver":A.saveToServer();break;case"savetolocal":A.saveToLocal();break;case"exportjson":A.exportJson();break;case"exportxml":A.exportXml();break;case"exporthtml":A.exportHtml();break;case"exportpdf":A.exportPdf();break;case"exportJsonData":A.exportJsonData();break;case"exportXmlData":A.exportXmlData();break;case"clear":A.clearLocal();break;case"zoomin":A.zoom(-.1);break;case"zoom":A.zoom();break;case"zoomout":A.zoom(.1);break;case"catalog":A._catalogPanel.toggle();break;case"history":A._histroyPanel.toggle();break;case"fullscreen":A.fullScreen(n);break;case"pagesize":a.show();break;case"property":A.layout.showProp(n);break;case"insertpagenum":A.insertPageNum();break;case"insertfield":A.insertFiled(e);break;case"insertCheckbox":A.insertCheckbox();break;case"insertRadio":A.insertRadio();break;case"insertimage":A.insertImage();break;case"insertbarcode":A.insertBarcode();break;case"insertqrcode":A.insertQRcode();break;case"insertSignate":b.show();break;case"insertFormula":y.show();break;case"insertTooth":w.show();break;case"insertSymbol":x.show();break;case"insertRow":A._tableResize.insertRow(e);break;case"insertCol":A._tableResize.insertCol(e);break;case"deleteRow":A._tableResize.deleteRow();break;case"deleteCol":A._tableResize.deleteCol();break;case"resetTable":A._tableResize.resetTable();break;case"mergeCell":A._tableResize.mergeCell(e);break;case"revision":h.swithRevision(n);break;case"textIndent":A.setTextIndent();break;case"cancelTextIndent":A.cancelTextIndent();break;case"paste":A.paste();break;case"undo":A.undo()||A.document.execCommand(t,!1,e);break;case"redo":A.redo()||A.document.execCommand(t,!1,e);break;case"previewHtml":window.open("/doc/"+A.document.id+".html");break;case"previewPdf":window.open("/doc/"+A.document.id+".pdf");break;case"help":window.open("https://www.x-emr.cn/sample.html");break;case"update":window.open("https://www.x-emr.cn/version.html");break;default:A.document.execCommand(t,!1,e)||console.log("not suport command "+t)}},A.bindTouchEvent=function(){function t(t){t.ctrlKey&&(t.preventDefault(),0<t.deltaY?A.zoom(-.1):A.zoom(.1))}document.addEventListener("wheel",t,{passive:!1}),A.document.addEventListener("wheel",t,{passive:!1}),A.printDocument.addEventListener("wheel",t,{passive:!1});var e=0;A.document.addEventListener("touchstart",(t=>{var n;2==t.touches.length&&(n=t.touches[0],t=t.touches[1],e=Math.sqrt(Math.pow(Math.abs(t.clientX-n.clientX),2)+Math.pow(Math.abs(t.clientY-n.clientY),2)))})),A.document.addEventListener("touchmove",(t=>{var n,r;2==t.touches.length&&(n=t.touches[0],r=t.touches[1],r=Math.sqrt(Math.pow(Math.abs(r.clientX-n.clientX),2)+Math.pow(Math.abs(r.clientY-n.clientY),2)),e<r&&30<r-e?(A.zoom(.1),e=r):r<e&&30<e-r&&(A.zoom(-.1),e=r),t.preventDefault())}),{passive:!1})},A.loadJson=function(t,e){A.contentWindow.startLoading(),A.document.id=e,$.get(t,(function(t,e,n){t.header?(A.json2html.renderByJson(t),A.setMode(A.option.mode)):A.newEmr(),A.contentWindow.stopLoading()}))},A.loadSvg=function(t){$.get(t,(function(t){A.document.body.innerHTML=t.rootElement.outerHTML}))},A.loadHtml=function(t,e){window.history.replaceState("","","/edit/"+e+".html"),A.document.body.innerHTML=null,A.contentWindow.startLoading&&A.contentWindow.startLoading(),$.ajax({type:"GET",url:t,success:function(t,r,o){""==t?A.loadJson("/doc/"+e+".json",e):(A.document.id=e,o=o.getResponseHeader("Title"),A.document.title=o?n.decode(o):"",A.document.body.innerHTML=t,A.setMode(A.option.mode),A.contentWindow.stopLoading&&A.contentWindow.stopLoading())},error:function(t,e,n){A.contentWindow.stopLoading&&A.contentWindow.stopLoading(),A.newEmr()}})},A.loadLocalHtml=function(t){A.document.body.innerHTML=t,A.setMode(A.option.mode)},A.setMode=function(t){A.option.mode=t,A.document.dispatchEvent(new CustomEvent("modechanged",{bubbles:!0,detail:{mode:t}})),A.clearInnerTool(),$("#_printview").hide(),"design"==t?(A.document.querySelector("#_style-mode").href="/stylesheets/"+t+".css",$$("#_header").attr("contenteditable","true"),$$("#_body").attr("contenteditable","true"),$$("#_footer").attr("contenteditable","true"),A.initInnerTool(),A.layout.showToolPanel()):"form"==t&&(A.document.querySelector("#_style-mode").href="/stylesheets/"+t+".css",$$("#_header").attr("contenteditable","false"),$$("#_body").attr("contenteditable","false"),$$("#_footer").attr("contenteditable","false"),A.initInnerTool(),A.layout.hideToolPanel())},A.print=function(){A.clearInnerTool(),s.print(),A.initInnerTool()},A.preview=function(t){$("#_printview").is(":hidden")?(A.clearInnerTool(),s.printView(),$("#_printview").show(),t&&t.classList.add("active")):($("#_printview").hide(),A.setMode(A.option.mode),t&&t.classList.remove("active"))},A.clearInnerTool=function(){function t(t){A.document.querySelectorAll(t).forEach((t=>{t.parentElement.removeChild(t)}))}c.clear(),t(".message"),t("#_readony-style"),t("#_dropdownbox"),t("#_catalogPanel"),t("#_historyPanel"),t("#_contexMenu"),t("#_resize-tool"),t("#_td-resize-line-x"),t("#_td-resize-line-y"),$$(".shink").removeClass("shink"),$$("#_header").removeClass("mask").attr("contenteditable",!1),$$("#_body").removeClass("mask").attr("contenteditable",!1),$$("#_footer").removeClass("mask").attr("contenteditable",!1),h.remonveRevison(),$$("input[type=radio]").each((function(t,e){e.checked?e.setAttribute("checked","true"):e.removeAttribute("checked")})),l.unbindResize()},A.initInnerTool=function(){A.scale(A.option.scale);var t=new CustomEvent("zoom",{bubbles:!0,detail:{scale:A.option.scale}});document.dispatchEvent(t),A._dropdownbox=new d,A._contentMenu=new u,A._catalogPanel=new p,A._histroyPanel=new f,"design"==A.option.mode&&(A._imageResize=new g,A._tableResize=new m,c.init()),A.history=[],A.historyRedo=[],h.showRevison(),l.bindResize()},A.saveToLocal=function(){A.clearInnerTool();var t=A.document.body.innerHTML,e=new Date;localStorage.setItem(A.document.id+"-"+e.getTime(),t),A.initInnerTool(),A.showMessage("保存到本地缓存!")},A.saveToServer=function(){A.clearInnerTool();var t=A.document.body.innerHTML;try{localStorage.setItem(A.document.id+"-"+(new Date).getTime(),t)}catch(t){A.clearLocal()}$.post(A.option.saveUrl+A.document.id+".html",{data:t,title:A.document.title},(function(t){A.initInnerTool(),A.showMessage("保存到服务器!")})),A.validate()},A.validate=function(){$$("[validate=true]").each((function(t,e){e.style.position="relative";var n=A.document.createElement("label");n.classList.add("message"),n.setAttribute("contenteditable","false"),n.innerHTML="必须输入",e.appendChild(n)}))},A.paste=function(){"Chrome"==e&&navigator.clipboard.read().then((t=>{for(let e=0;e<t.length;e++)for(const n of t[e].types)"text/html"==n&&t[e].getType(n).then((t=>{var e=new FileReader;e.onload=function(t){A.document.execCommand("insertHTML",!1,e.result)},e.readAsText(t,"utf-8")}))}))},A.exportJson=function(){var t=(new o).parse();t=JSON.stringify(t,void 0,2),S(new Blob([t],{type:"text/json"}),A.document.title+".json")},A.exportXml=function(){var t=(new o).parse();t=i(t,{header:!0}),S(new Blob([t],{type:"text/xml"}),A.document.title+".xml")},A.exportHtml=function(){A.clearInnerTool();var t='<link id="_style-mode" rel="stylesheet" href="http://www.x-emr.cn/stylesheets/preview.css">'+A.document.body.innerHTML;A.initInnerTool(),S(new Blob([t],{type:"text/html"}),A.document.title+".html")},A.exportPdf=function(){A.clearInnerTool();var t={title:A.document.title,html:s.getHtmlforPdf(),page:s.getPage()},e=(A.initInnerTool(),A.document.title+".pdf");fetch(A.option.pdfUrl,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json;charset=UTF-8"}}).then((t=>{const e=t.body.getReader();return new ReadableStream({start(t){!function n(){e.read().then((({done:e,value:r})=>{e?t.close():(t.enqueue(r),n())}))}()}})})).then((t=>new Response(t,{headers:{"Content-Type":"application/pdf"}}).blob())).then((t=>{S(t,e)})).catch((t=>{console.error(t)}))},A.exportJsonData=function(){let t=[];$$("[name]").each(((e,n)=>{t.push({name:n.getAttribute("name"),text:n.textContent})}));var e=JSON.stringify(t,void 0,2);S(new Blob([e],{type:"text/json"}),A.document.title+".json")},A.exportXmlData=function(){let t=[];$$("[name]").each(((e,n)=>{t.push({item:{name:n.getAttribute("name"),text:n.textContent}})}));var e=i({EMR:t},{header:!0});S(new Blob([e],{type:"text/xml"}),A.document.title+".xml")},A.commitDoc=function(){var t={};$$("a[name],input[name]:checked").each((function(e,n){var r=n.attributes.value?n.attributes.value.value:n.text;t[n.name]=r})),alert(JSON.stringify(t,null,2))},A.clearLocal=function(t){for(let t=localStorage.length-1;0<=t;t--){var e=localStorage.key(t);console.log(e),"filehistory"!=e&&localStorage.removeItem(e)}A._histroyPanel.hide(),A.showMessage("清除本地缓存!")},A.zoom=function(t){t?(0<t||.5<A.option.scale)&&(A.option.scale+=t):A.option.scale=1,A.scale(A.option.scale),t=new CustomEvent("zoom",{bubbles:!0,detail:{scale:A.option.scale}}),document.dispatchEvent(t)},A.scale=function(t){$$("#_page").css("transform","scale("+t+","+t+")"),$$("#_page").css("transform-origin","50% 0 0");var e=document.getElementById("_printview").contentWindow;$(e.document.body).find("#_page").css("transform","scale("+t+","+t+")"),$(e.document.body).find("#_page").css("transform-origin","50% 0 0")},A.fullScreen=function(t){document.fullscreenElement?(document.exitFullscreen(),t&&(t.children[0].classList.remove("icon-exitfullscreen"),t.children[0].classList.add("icon-fullscreen"))):(t&&(t.children[0].classList.remove("icon-fullscreen"),t.children[0].classList.add("icon-exitfullscreen")),document.documentElement.RequestFullScreen?document.documentElement.RequestFullScreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullScreen&&document.documentElement.webkitRequestFullScreen())},A.openList=function(){$("#listPanel").toggle(),$("#listPanel").is(":visible")?$(A.option.container).css("left","200px").css("width","calc(100% - 400px)"):$(A.option.container).css("left","0").css("width","calc(100% - 200px)")},A.newEmr=function(){A.document.title="新建文档",A.document.id=(new Date).getTime(),window.history.replaceState("","","/edit/"+A.document.id+".html"),A.json2html.renderByJson({pageSettings:{},header:{},body:{},footer:{}}),A.setMode(A.option.mode)},A.importFile=function(){$("#_importfile").val(""),$("#_importfile").attr("accept",".html"),$("#_importfile").click()},A.insertPageNum=function(){A.document.execCommand("insertHTML",!1,['第<a page="pageNum" style="font-size:10pt">#</a>页,','共<a page="pageTotal" style="font-size:10pt">#</a>页'].join(""))},A.insertFiled=function(t){var e,n="field"+$$(".input").length,r=["&nbsp<a",' tabindex="0"',' id="'+n+'"',' name="'+n+'"',' type="'+t+'"',' class="blank input shink"'];"DateTime"==t?(e=new Date,r.push(' format="yyyy年MM月dd日"'),r.push(' placeholder="日期输入域"'),r.push(" />"+e.toLocaleDateString())):"DropdownList"==t?(r.push(' placeholder="选择框"'),r.push(' data=[{"Text":"选项1","Value":"0"},{"Text":"选项2","Value":"1"},{"Text":"选项3","Value":"2"}]'),r.push(" />选择框")):"Text"==t&&(r.push(' contenteditable="true"'),r.push(' placeholder="文本输入域"'),r.push(" />文本输入域")),r.push("</a>&nbsp"),A.document.execCommand("insertHTML",!1,r.join("")),"Text"==t&&$$("#"+n).attr("contenteditable","true"),setTimeout((function(){$$(".shink").removeClass("shink")}),3e3)},A.insertDropdownByDic=function(t,e){var n="field"+$$(".input").length;n=[e&&e.split?e.split:"",'<a tabindex="0"',' id="'+n+'"',' name="'+n+'"',' type="DropdownList"',' class="input shink"',' placeholder="'+t.text+'"',' value="'+t.item[0].Value+'"'," data="+JSON.stringify(t.item)," />",t.item[0].Text,"</a>"],"有"==t.item[0].Text||"无"==t.item[0].Text?n.push(t.text):n.splice(0,0,t.text),e&&e.end&&n.push(e.end),A.document.execCommand("insertHTML",!1,n.join("")),setTimeout((function(){$$(".shink").removeClass("shink")}),3e3)},A.insertFieldByDic=function(t,e){var n="field"+$$(".input").length;t=[t.item[0].Text+"：",'<a tabindex="0"',' id="'+n+'"',' name="'+n+'"',' type="Text"',' class="input blank shink"',' placeholder="'+t.text+'"',' code="'+t.item[0].Value+'"'," />",t.item[0].Text,"</a>&nbsp"],e&&t.push(e),A.document.execCommand("insertHTML",!1,t.join("")),$$("#"+n).attr("contenteditable","true"),setTimeout((function(){$$(".shink").removeClass("shink")}),3e3)},A.insertCheckbox=function(){var t=['&nbsp<input type="checkbox" id="checkbox'+(t=$$("input[type=checkbox]").length)+'" name="checkbox'+t+'"/><label for="checkbox'+t+'">选项1</label>','&nbsp<input type="checkbox" id="checkbox'+(t+1)+'" name="checkbox'+(t+1)+'"/><label for="checkbox'+(t+1)+'">选项2</label>','&nbsp<input type="checkbox" id="checkbox'+(t+2)+'" name="checkbox'+(t+1)+'"/><label for="checkbox'+(t+2)+'">选项3</label>'];A.document.execCommand("insertHTML",!1,t.join(""))},A.insertRadio=function(){var t=['&nbsp<input type="radio" id="radio'+(t=$$("input[type=radio]").length)+'" name="radio'+t+'"/><label for="radio'+t+'">选项1</label>','&nbsp<input type="radio" id="radio'+(t+1)+'" name="radio'+t+'"/><label for="radio'+(t+1)+'">选项2</label>','&nbsp<input type="radio" id="radio'+(t+2)+'" name="radio'+t+'"/><label for="radio'+(t+2)+'">选项3</label>'];A.document.execCommand("insertHTML",!1,t.join(""))},A.insertImage=function(t){$("#_importfile").val(""),$("#_importfile").attr("accept",".jpg,.png"),$("#_importfile").click()},A.insertImageData=function(t){A.document.execCommand("insertHTML",!1,'<img src="'+t+'">')},A.insertTable=function(t,e){for(var n=['<table class="shink">',"<colgroup>"],r=0;r<e;r++)n.push('<col style="width:80px">');for(n.push("</colgroup>"),r=0;r<t;r++){n.push("<tr>");for(var o=0;o<e;o++)n.push("<td></td>");n.push("</tr>")}n.push("</table>"),A.document.execCommand("insertHTML",!1,n.join("")),setTimeout((function(){$$(".shink").removeClass("shink")}),3e3)},A.insertBarcode=function(t,e){t=t||Math.floor(1e9*Math.random()+1),A.document.execCommand("insertHTML",!1,'<img code="'+t+'" format="'+(e=e||"code128")+'"/>'),A.rendbarcode()},A.insertQRcode=function(t,e){t=t||Math.floor(1e9*Math.random()+1),A.document.execCommand("insertHTML",!1,'<img style="width:100px; height:100px;" code="'+t+'" format="qrcode"/>'),A.rendbarcode()},A.rendbarcode=function(){$$("img[code]").each((function(t,e){var n=(n=e.getAttribute("format"))||"code128",r=(r=e.getAttribute("code"))||"no value";"qrcode"==n?_.toDataURL(r,(function(t,n){e.setAttribute("src",n)})):JsBarcode(e,e.attributes.code.value,{height:30,format:n,displayValue:!0,fontSize:20}),e.setAttribute("code",r),e.setAttribute("format",n)}))},A.setTextIndent=function(){let t=A.contentWindow.getSelection().anchorNode;for(;"P"!=t.tagName&&"DIV"!=t.tagName;)t=t.parentElement;t.style.textIndent="30px"},A.cancelTextIndent=function(){let t=A.contentWindow.getSelection().anchorNode;for(;"P"!=t.tagName&&"DIV"!=t.tagName;)t=t.parentElement;t.style.textIndent=""},A.showDatePicker=function(t){$(t.currentTarget).removeClass("blank");var e=$(t.currentTarget).attr("format");return A.contentWindow.WdatePicker({el:t.currentTarget,isShowClear:!1,readOnly:!0,dateFmt:e,errDealMode:-1}),!1},A.inputkeydown=function(t){var e;function n(t,e){var n;(t=(n=$(A.document.body).find("a[type]:visible")).index(t)+e)<0?t=n.length-1:t>=n.length&&(t=0),e=n.eq(t),($$("#_dropdownbox").hide(),e.focus(),n=A.contentWindow.getSelection()).removeAllRanges(),"Text"==e.attr("type")&&((t=A.document.createRange()).selectNodeContents(e[0]),n.addRange(t))}13==t.keyCode?(t.ctrlKey||t.altKey||t.shiftKey?A.document.execCommand("insertHTML",!1,"<br>"):n(this,1),t.preventDefault()):39==t.keyCode?(e=A.contentWindow.getSelection().getRangeAt(0)).endOffset==e.endContainer.textContent.length&&(t.preventDefault(),n(this,1)):37==t.keyCode&&0==A.contentWindow.getSelection().focusOffset?(t.preventDefault(),n(this,-1)):38!=t.keyCode&&40!=t.keyCode||"DropdownList"!=$(t.currentTarget).attr("type")?"Text"==$(t.currentTarget).attr("type")&&$(t.currentTarget).hasClass("blank")&&$(t.currentTarget).removeClass("blank"):($$("#_dropdownbox").show(),$$("#_dropdownbox").focus(),t.preventDefault())},A.checkChanged=function(t){t.currentTarget.checked?t.currentTarget.attributes.setNamedItem(A.document.createAttribute("checked")):t.currentTarget.attributes.removeNamedItem("checked")},A.textInputBlur=function(t){""==(t=t.currentTarget).innerHTML&&(t.innerHTML=$(t).attr("placeholder"),$(t).addClass("blank"))},A.saveHistory=function(){A.historyRedo=[],A.history.push(A.document.getElementById("_page").outerHTML)},A.undo=function(){var t;return 0<A.history.length&&(t=A.history.pop(),0==A.historyRedo.length?A.historyRedo.push(A.document.getElementById("_page").outerHTML):A.historyRedo.push(t),A.document.getElementById("_page").outerHTML=t,!0)},A.redo=function(){var t;return 0<A.historyRedo.length&&(t=A.document.getElementById("_page").outerHTML,A.history.push(t),A.document.getElementById("_page").outerHTML=A.historyRedo.pop(),!0)},A.rebulidCatalog=function(){A._catalogPanel.rebulidCatalog()},A.Toast=function(t,e){e=isNaN(e)?1e3:e;var n=document.createElement("div");n.innerHTML=t,n.style.cssText=["font-size: 14px; color: rgb(255, 255, 255);","background-color: rgba(200, 0, 0, 0.5);","min-width: 200px;","padding: 10px 15px;","margin: 0 0 0 -60px;","border-radius: 4px;","position: fixed;  top: 10%; left: 50%;","text-align: center;"].join("\n"),document.body.appendChild(n),setTimeout((function(){n.style.opacity="0",setTimeout((function(){document.body.removeChild(n)}),1e3)}),e)},A.showMessage=function(t){A.layout.statusbar.showMessage(t)},A}.apply(e,n),void 0!==e&&(t.exports=e)},475:(t,e,n)=>{n=[n(169),n(984),n(949)],e=function(t,e,n){function r(r){this.container=r,this.statusbar=n,this.render(),t.render(),n.render(),e.render()}return r.prototype.bindEvent=function(){t.bindEvent(),n.bindEvent(),e.bindEvent()},r.prototype.render=function(){var t=['<div id="_layout" style="position: relative; top:0; left:0; width: 100%; height: 100%; user-select: none; -webkit-user-select: none;">','<div id="_toolbar" style="position: relative; width: 100%; z-index:1;"></div>','<div id="_toolpanel" style="display:none; position: absolute; right:0; top:55px; width: 240px; height: calc(100% - 76px); scrollbar-width: thin; background:#e6e6e6; border-left:1px solid #ccc;"></div>','<div id="_container" style="position: relative; width:100%; height: calc(100% - 76px);">','<iframe id="_emreditor" style="position: absolute; width:100%; height:100%; overflow:auto;" frameborder="0" '+("Firefox"==browser?'src="javascript:"':"")+"></iframe>",'<iframe id="_printview" style="position: absolute; display:none; width:100%; height:100%; overflow:auto;" frameborder="0"'+("Firefox"==browser?'src="javascript:"':"")+"></iframe>","</div>",'<div id= "_statusbar" style="display:flex; align-items:center; position: absolute; bottom:0; width: 100%; border-top:1px solid #ccc;"></div>',"</div>"].join("\n");$(this.container).html(t),t=['<link id="_style-mode" rel="stylesheet" href="/stylesheets/preview.css">','<style id="preview" type="text/css">',"@media print {.pagebreaker {display: none !important;}}","</style>",'<style id="printSzie" type="text/css">',"@page {margin: 0; size:A4 portrait;}","</style>"].join("\n"),document.getElementById("_printview").contentWindow.document.head.innerHTML=t},r.prototype.showToolPanel=function(){e.show()},r.prototype.hideToolPanel=function(){e.hide()},r.prototype.showProp=function(t){e.showProp(t)},r}.apply(e,n),void 0!==e&&(t.exports=e)},949:(t,e)=>{e=function(){function t(){this.render()}return t.render=function(){var t;editor.option.statusbar.hide?editor.option.toolbar.hide?($("#_container").css("height","100%"),$("#_toolpanel").css("height","100%").css("top","0")):($("#_container").css("height","calc(100% - 55px)"),$("#_toolpanel").css("height","calc(100% - 55px)").css("top","55px")):(t=['<button class="btn" cmd="showpageline">','<i title="分页线" class="icons-16 icon-pageline"></i>',"</button>",'<span id="_totalPage"></span>','<span style="margin-left:5px;" id="_message"></span>','<span style="flex-grow:1"></span>','<button class="btn" cmd="form">','<i  title="表单视图" class="icons-16 icon-form"></i>',"</button>",'<button class="btn" cmd="design">','<i  title="设计视图" class="icons-16 icon-design"></i>',"</button>",'<button class="btn" cmd="zoomin"> - </button>','<button class="btn" cmd="zoom" id="_scalevalue">100%</button>','<button class="btn" cmd="zoomout"> + </button>','<button class="btn" cmd="fullscreen">','<i  title="全屏" class="icons-16 icon-fullscreen"></i>',"</button>"].join(""),$("#_statusbar").html(t))},t.bindEvent=function(){editor.option.statusbar.hide||($("#_statusbar").children("button").bind("click",(function(t){t=new CustomEvent("cmd",{bubbles:!0,detail:{target:t.currentTarget,cmd:t.currentTarget.attributes.cmd.value}}),editor.document.dispatchEvent(t)})),editor.document.addEventListener("modechanged",(function(t){$("#_statusbar").children("button").each((function(e,n){0<=n.attributes.cmd.value.indexOf(t.detail.mode)?$(n).addClass("active"):$(n).removeClass("active")}))})))},document.addEventListener("zoom",(function(t){$("#_scalevalue").html(Math.round(100*t.detail.scale)+"%")})),t.showMessage=function(t){$("#_statusbar").children("#_message").html(t),setTimeout((function(){$("#_statusbar").children("#_message").html("")}),1e3)},t}.apply(e,[]),void 0!==e&&(t.exports=e)},984:(t,e,n)=>{n=[n(860),n(927)],e=function(t,e){function n(){}return n.render=function(){var n=['<div id="_tool-panel-head">','<span target="#_metaData" class="select">知识库</span>','<span target="#_proertyPanel">属性</span>',"</div>",'<div id="_tool-panel-body" style="padding:5px; border-top:1px solid #aaa; height:100%;">','<div id="_metaData"></div>','<div id="_proertyPanel" style="display:none; height:100%;">','<div id="_proertyContain"></div>','<div id="_path" style="position:absolute; bottom:5px;"></div>',"</div>","</div>"].join("\n");$("#_toolpanel").html(n),t.render(),e.render()},n.bindEvent=function(){$("#_toolpanel").find("#_tool-panel-head").delegate("span","click",(function(t){let e=t.target;$("#_toolpanel").children("#_tool-panel-head").children(".select").removeClass("select"),e.classList.add("select"),$("#_toolpanel").children("#_tool-panel-body").children("div").hide(),t=e.getAttribute("target"),$("#_toolpanel").children("#_tool-panel-body").children(t).show()})),t.bindEvent(),e.bindEvent()},n.show=function(){$("#_toolpanel").show(),$("#_container").css("width","calc(100% - 240px)")},n.hide=function(){$("#_toolpanel").hide(),$("#_container").css("width","100%")},n.showProp=function(t){$("#_metaData").hide(),$("#_tool-panel-head").find(".select").removeClass("select"),$("#_tool-panel-head").find('[target="#_proertyPanel"]').addClass("select"),$("#_proertyPanel").show(),e.showProp(t)},n}.apply(e,n),void 0!==e&&(t.exports=e)},169:(t,e,n)=>{n=[n(539),n(164),n(205),n(389),n(42),n(849)],e=function(t,e,n,r,o,i){function a(){}return a.render=function(){var o,a;editor.option.toolbar.hide?($("#_container").css("height","calc(100% - 20px)"),$("#_toolpanel").css("height","calc(100% - 20px)").css("top","0")):(o=['<div id="_tool-tab">',editor.option.toolbar.file.hide?"":'<span target="#file">文件</span>',editor.option.toolbar.start.hide?"":'<span target="#start" class="select">开始</span>',editor.option.toolbar.insert.hide?"":'<span target="#insert">插入</span>',editor.option.toolbar.revision.hide?"":'<span target="#revision">审阅</span>',editor.option.toolbar.view.hide?"":'<span target="#view">视图</span>',editor.option.toolbar.layout.hide?"":'<span target="#layout">页面</span>',editor.option.toolbar.help.hide?"":'<span target="#help">帮助</span>','<div id="user_info" style="position:absolute; top: 5px; right:20px; display:flex; align-items:center; cursor:pointer;">','<image id = "user_head" style=";width:20px; height:20px; border-radius:50%;">&nbsp;','<label id= "nickname"></label>',"</div>","</div>"].join("\n"),a=['<input type="file" id="_importfile" style="display:none" accept=".html,.png,.jpg"/>','<div id="file" class="tool-contain" style="display:none;">','<button class="btn" cmd="open">','<i  title="打开文档" class="icons-16 icon-list"></i>打开(Ctr+O)',"</button>",'<button class="btn" cmd="new">','<i  title="新建文档" class="icons-16 icon-new"></i>新建(Ctr+N)',"</button>",'<button title="保存到服务器" class="btn" cmd="savetoserver">','<i class="icons-16 icon-save"></i>保存(Ctr+S)',"</button>",'<div class="split-line"></div>','<button class="btn" cmd="previewHtml">','<i  title="预览HTML" class="icons-16 icon-savehtml"></i>预览HTML',"</button>",'<button class="btn" cmd="previewPdf" >','<i title="预览PDF" class="icons-16 icon-export-pdf"></i>预览PDF',"</button>",'<div class="split-line"></div>','<button class="btn" cmd="exporthtml" >','<i title="导出HTML" class="icons-16 icon-savehtml"></i>导出HTML',"</button>",'<button class="btn" cmd="exportpdf" >','<i title="导出PDF" class="icons-16 icon-export-pdf"></i>导出PDF',"</button>",'<div class="split-line"></div>','<button class="btn" cmd="exportJsonData" >','<i title="导出JSON" class="icons-16 icon-savejson"></i>导出数据(JSON)',"</button>",'<button class="btn" cmd="exportXmlData" >','<i title="导出XML" class="icons-16 icon-savehtml"></i>导出数据(XML)',"</button>",'<div class="split-line"></div>','<button class="btn" cmd="import" >','<i title="导入HTML" class="icons-16 icon-import"></i>导入HTML',"</button>","</div>",'<div id="layout" class="tool-contain" style="display:none;">','<button class="btn" cmd="catalog" >','<i  title="目录" class="icons-16 icon-structure"></i>目录',"</button>",'<button class="btn" cmd="pagesize" >','<i title="页面设置" class="icons-16 icon-pagesetting"></i>页面设置',"</button>",'<button class="btn" cmd="preview">','<i  title="打印预览" class="icons-16 icon-preview"></i>打印预览(Ctr+Y)',"</button>",'<button class="btn" cmd="print" >','<i title="打印" class="icons-16 icon-print"></i>打印(Ctr+P)',"</button>","</div>",'<div id="start" class="tool-contain">','<button class="btn" cmd="undo" >','<i  title="撤销" class="icons-16 icon-undo"></i>',"</button>",'<button class="btn" cmd="redo" >','<i title="恢复" class="icons-16 icon-redo"></i>',"</button>",'<div id="_fontHead" class="btn dropdown">',"<span>正文</span>","</div>",'<div id="_fontName" class="btn dropdown">',"<span>宋体</span>","</div>",'<div id="_fontSize" class="btn dropdown">',"<span>四号</span>","</div>",'<div class="btn-group">','<button id="_bold" class="btn" cmd="bold" >','<i title="粗体" class="icons-16 icon-font_bold"></i>',"</button>",'<button id="_italic" class="btn" cmd="italic">','<i title="斜体" class="icons-16 icon-font_italic"></i>',"</button>",'<button id="_underline" class="btn" cmd="underline">','<i title="下划线" class="icons-16 icon-font_underline"></i>',"</button>",'<button class="btn">','<div id="_foreColor">','<i title="字体颜色" class="icons-16 icon-font_color"></i>','<div class="current-color" style="background-color:red;height:4px;"></div>',"</div>","</button>",'<button class="btn">','<div id="_backColor">','<i title="字体背景" class="icons-16 icon-font_highlight"></i>','<div class="current-color" style="background-color:yellow; height:4px;"></div>',"</div>","</button>","</div>",'<div class="btn-group">','<button class="btn" cmd="superscript" >','<i title="上标" class="icons-16 icon-sup"></i>',"</button>",'<button class="btn" cmd="subscript" >','<i title="下标" class="icons-16 icon-sub"></i>',"</button>","</div>",'<div class="btn-group">','<button class="btn" cmd="justifyFull" >','<i title="两端对齐" class="icons-16 icon-alignment7"></i>',"</button>",'<button class="btn" cmd="justifyLeft" >','<i title="居左" class="icons-16 icon-align_left"></i>',"</button>",'<button class="btn" cmd="justifyCenter">','<i title="居中" class="icons-16 icon-align_horiz"></i>',"</button>",'<button class="btn" cmd="justifyRight" >','<i title="居右" class="icons-16 icon-align_right"></i>',"</button>","</div>",'<div class="btn-group">','<button class="btn" cmd="textIndent" >','<i title="首行缩进" class="icons-16 icon-text-indent"></i>',"</button>",'<button class="btn" cmd="cancelTextIndent" >','<i title="取消首行缩进" class="icons-16 icon-cancel-text-indent"></i>',"</button>",'<button class="btn" cmd="indent" >','<i title="增加缩进量" class="icons-16 icon-increase_indentation"></i>',"</button>",'<button class="btn" cmd="outdent" >','<i title="减少缩进量" class="icons-16 icon-reduce_indentation"></i>',"</button>","</div>",'<div class="btn-group">','<button class="btn" cmd="insertorderedlist" >','<i title="列表" class="icons-16 icon-numbeing"></i>',"</button>",'<button class="btn" cmd="insertunorderedlist" >','<i title="列表" class="icons-16 icon-bullet"></i>',"</button>","</div>",'<button class="btn" cmd="removeFormat">','<i title="清除格式" class="icons-16 icon-format_painter"></i>清除格式',"</button>","</div>",'<div id="revision" class="tool-contain" style="display:none;">','<button class="btn" cmd="revision">','<i title="修订" class="icons-16 icon-revision"></i>修订',"</button>",'<button class="btn" cmd="remark">','<i title="批注" class="icons-16 icon-remark"></i>批注',"</button>",'<button title="本地历史" class="btn" cmd="history" >','<i class="icons-16 icon-savetemp"></i>本地历史',"</button>",'<button title="清除历史" id="_editor_clear" class="btn" cmd="clear" >','<i class="icons-16 icon-clear"></i>清除历史',"</button>","</div>",'<div id="insert" class="tool-contain" style="display:none;">','<button id="inserttable" class="btn" >','<i title="插入表格" class="icons-16 icon-insertTable"></i>表格',"</button>",'<button class="btn" cmd="insertpagenum" >','<i title="插入页码" class="icons-16 icon-page-num"></i>插入页码',"</button>",'<button class="btn " cmd="insertfield" param="Text">','<i title="插入文本输入域" class="icons-16 icon-insertText"></i>输入域',"</button>",'<button class="btn" cmd="insertCheckbox" >','<i title="插入复选框" class="icons-16 icon-insertCheckbox"></i>复选框',"</button>",'<button class="btn" cmd="insertRadio" >','<i title="插入单选框" class="icons-16 icon-insertRadio"></i>单选框',"</button>",'<button class="btn" cmd="insertfield" param="DateTime">','<i title="插入日期" class="icons-16 icon-insertDateTime"></i>日期',"</button>",'<button class="btn" cmd="insertfield" param="DropdownList">','<i title="插入下拉框" class="icons-16 icon-insertDropdown"></i>下拉框',"</button>",'<button class="btn" cmd="insertimage" >','<i title="插入图片" class="icons-16 icon-insertImage"></i>图片',"</button>",'<button class="btn" cmd="insertbarcode" >','<i title="插入条码" class="icons-16 icon-insertBarcode"></i>条码',"</button>",'<button class="btn" cmd="insertqrcode" >','<i title="插入二维码" class="icons-16 icon-insertQRcode"></i>二维码',"</button>",'<button class="btn" cmd="insertSignate" >','<i title="插入电子签名" class="icons-16 icon-insertSignate"></i>电子签名',"</button>",'<button class="btn" cmd="insertFormula" >','<i title="插入月经史" class="icons-16 icon-insertFormula"></i>月经史',"</button>",'<button class="btn" cmd="insertTooth" >','<i title="插入牙位图" class="icons-16 icon-insertFormula"></i>牙位图',"</button>",'<button class="btn" cmd="insertSymbol" >','<i title="插入符号" class="icons-16 icon-insertFormula"></i>特殊符号',"</button>","</div>",'<div id="view" class="tool-contain" style="display:none;">','<button class="btn" cmd="form">','<i  title="表单视图" class="icons-16 icon-form"></i>表单视图',"</button>",'<button class="btn" cmd="design">','<i  title="设计视图" class="icons-16 icon-design"></i>设计视图',"</button>","</div>",'<div id="help" class="tool-contain" style="display:none;">','<button class="btn" cmd="help" >','<i title="帮助" class="icons-16 icon-help"></i>帮助',"</button>",'<button class="btn" cmd="update" >','<i title="更新" class="icons-16 icon-update"></i>更新',"</button>","</div>"].join("\n"),$("#_toolbar").html(o+a),$.get("/oauth.json",(function(t){t&&(editor.user=t,$("#_tool-tab").find("#user_head").attr("src",t.figureurl_qq_1).attr("title",t.nickname),$("#_tool-tab").find("#nickname").html(t.nickname),$("#_tool-tab").find("#user_info").click((function(t){0==$("#_tool-tab").find("#sys_users").length?$.get("/sys_user.json",(function(t){if(t){let e='<div class="menu-item">最近来看过...</div>';t.forEach((t=>{e+='<div class="menu-item"><img style="width:20px; height:20px; border-radius:50%;" src="'+t.figureurl+'">&nbsp;&nbsp;<small>'+t.nickname+"</samll></div>"})),e='<div id="sys_users" style="top:30px; right:0; width:160px; height: 800px; overflow:scroll;" class="menu-container">'+e+"</div>",$("#_tool-tab").find("#user_info").append(e),$("#_tool-tab").find("#sys_users").show()}})):$("#_tool-tab").find("#sys_users").toggle()})))})),t.render(),e.render(),r.render(),n.render(),i.render())},a.bindEvent=function(){editor.option.toolbar.hide||(t.bindEvent(),e.bindEvent(),n.bindEvent(),r.bindEvent(),i.bindEvent(),$("#_tool-tab").delegate("span","click",(function(t){let e=t.target;$("#_tool-tab").find(".select").removeClass("select"),e.classList.add("select"),$("#_toolbar").find(".tool-contain").hide(),t=e.getAttribute("target"),$("#_toolbar").find(t).show()})),$("#_toolbar").find(".btn").bind("click",(function(t){t.currentTarget.attributes.cmd&&(t={target:t.currentTarget,cmd:t.currentTarget.attributes.cmd.value,param:t.currentTarget.attributes.param?t.currentTarget.attributes.param.value:null},t=new CustomEvent("cmd",{bubbles:!0,detail:t}),editor.document.dispatchEvent(t))})),$("#_fontName").click((function(t){a.resetTool(),e.toggle(t.currentTarget)})),$("#_fontSize").click((function(t){a.resetTool(),n.toggle(t.currentTarget)})),$("#_fontHead").click((function(t){a.resetTool(),r.toggle(t.currentTarget)})),$("#inserttable").click((function(t){a.resetTool(),i.toggle(t.currentTarget)})),$("#_foreColor").click((function(e){a.resetTool(),t.toggle(e.currentTarget)})),$("#_backColor").click((function(e){a.resetTool(),t.toggle(e.currentTarget)})),editor.document.addEventListener("click",(function(t){a.setToolButtonStatus(t.target),a.resetTool()})))},a.resetTool=function(){$(".menu-container").hide()},a.setToolButtonStatus=function(t){var e=getComputedStyle(t);for(700<=e.fontWeight?$("#_bold").addClass("active"):$("#_bold").removeClass("active"),"italic"==e.fontStyle?$("#_italic").addClass("active"):$("#_italic").removeClass("active"),"underline"==e.textDecorationLine?$("#_underline").addClass("active"):$("#_underline").removeClass("active"),$("#_fontSize").children("span").html(o.convertFontSize(e.fontSize)),$("#_fontName").children("span").html(o.convertFontSize(e.fontFamily.replaceAll('"',""))),$("#_fontHead").children("span").html("正文");t;){if("H1"==t.nodeName){$("#_fontHead").children("span").html("标题1");break}if("H2"==t.nodeName){$("#_fontHead").children("span").html("标题2");break}if("H3"==t.nodeName){$("#_fontHead").children("span").html("标题3");break}if("H4"==t.nodeName){$("#_fontHead").children("span").html("标题4");break}t=t.parentNode}},a}.apply(e,n),void 0!==e&&(t.exports=e)},461:(t,e,n)=>{n=[n(340)],e=function(t){return t}.apply(e,n),void 0!==e&&(t.exports=e)},375:(t,e)=>{e=function(){function t(){this.render(),this.bindEvent()}return t.prototype.render=function(){var t=['<div id="_catalogPanel" >','<div style="margin: 10px">','<span style="font-size:20px;">目录</span>',"</div>",'<ul style="margin: 0; padding: 0; " id="_catalogList"></ul>',"</div>"].join("");$(editor.document.body).append(t)},t.prototype.bindEvent=function(){$$("#_catalogList").delegate("li","click",(function(t){t=$(t.currentTarget).attr("for"),$(editor.document.body).scrollTop($$(t).offset().top-10)}))},t.prototype.toggle=function(){$$("#_catalogPanel").toggle(),$$("#_catalogPanel").is(":visible")&&this.rebulidCatalog()},t.prototype.rebulidCatalog=function(){var t="";$$("h1,h2,h3,h4").each((function(e,n){n.id="_tag"+e,t+='<li for="#'+n.id+'">'+n.textContent+"</li>"})),$$("#_catalogList").html(t),$$("#_catalogPanel").show()},t}.apply(e,[]),void 0!==e&&(t.exports=e)},244:(t,e)=>{e=function(){var t;function e(){(t=this).render(),this.bindEvent()}return e.prototype.render=function(){var t=['<ul id="_contexMenu" onmousedown="return false;">','<li cmd="selectAll" >全选 <span>Ctrl+A</span></li>','<li cmd="copy">复制 <span>Ctrl+C</span></li>','<li cmd="paste">粘贴 <span>Ctrl+V</span></li>','<li cmd="delete">删除 <span>Del</span></li>','<li cmd="removeFormat">清除格式</li>',"<hr>",'<li cmd="insertRow" param="up" for="table">上方插入行</li>','<li cmd="insertRow" param="down" for="table">下方插入行</li>','<li cmd="insertCol" param="left" for="table" >左侧插入列</li>','<li cmd="insertCol" param="right"for="table" >右侧插入列</li>','<li cmd="mergeCell" param="marked" for="table">合并单元格</li>','<li cmd="mergeCell" param="right" for="table">向右合并单元格</li>','<li cmd="mergeCell" param="down" for="table">向下合并单元格</li>','<li cmd="mergeCell" param="cancel" for="table">取消合并单元格</li>','<li cmd="deleteRow" for="table" >删除行</li>','<li cmd="deleteCol" for="table" >删除列</li>','<li cmd="resetTable" for="table">重置表格</li>','<hr for="table">','<li cmd="property">属性</li>',"</ul>"].join("");$(editor.document.body).append(t)},e.prototype.bindEvent=function(){$(editor.document.body).on("contextmenu",(function(e){var n=e.pageX,r=e.pageY;return t.target=e.target,editor.document.body.clientHeight-e.clientY<360&&(r-=360),null==function(){var t=editor.contentWindow.getSelection();if(t.anchorNode){for(var e=t.anchorNode;e&&"TD"!=e.tagName;)e=e.parentElement;if(e&&"TD"==e.tagName)return e}return null}()?$$("#_contexMenu").children("[for=table]").hide():$$("#_contexMenu").children("[for=table]").show(),$$("#_contexMenu").css({left:n+"px",top:r+"px"}).show(),!1})),$$("#_contexMenu").click((function(t){t.stopPropagation()})),$(editor.document.body).click((function(){$$("#_contexMenu").hide()})),$$("#_contexMenu").children("li").bind("click",(function(e){e={target:t.target,cmd:e.currentTarget.attributes.cmd?e.currentTarget.attributes.cmd.value:null,param:e.currentTarget.attributes.param?e.currentTarget.attributes.param.value:null},e=new CustomEvent("cmd",{bubbles:!0,detail:e}),editor.document.dispatchEvent(e),$$("#_contexMenu").hide()}))},e}.apply(e,[]),void 0!==e&&(t.exports=e)},813:(t,e)=>{e=function(){function t(){this.render(),this._dropdown=$(editor.document.getElementById("_dropdownbox")),this.bindEvent(),this._input=null}var e;return t.prototype.render=function(){$$("#_page").append('<ul tabindex="0" id="_dropdownbox"></ul>')},t.prototype.bindEvent=function(){var t=this;this._dropdown.mousedown((function(t){t.stopPropagation()})),this._dropdown.bind("keydown",t.onKeydown),$(editor.document).unbind("mousedown").mousedown((function(){t._dropdown.hide()}))},t.prototype.onKeydown=function(t){if(t.preventDefault(),40==t.keyCode||38==t.keyCode){for(var e=!1,n=$(editor.document.getElementById("_dropdownbox")).find("li"),r=0;r<n.length;r++)if("lightgray"==n[r].style.backgroundColor){if(n[r].style.backgroundColor="",40==t.keyCode&&r<n.length-1){n[r+1].style.backgroundColor="lightgray",e=!0;break}if(38==t.keyCode&&0<r){n[r-1].style.backgroundColor="lightgray",e=!0;break}}e||40!=t.keyCode?e||38!=t.keyCode||(n[n.length-1].style.backgroundColor="lightgray"):n[0].style.backgroundColor="lightgray"}else 13==t.keyCode||39==t.keyCode?$(editor.document.getElementById("_dropdownbox")).find("li").each((function(t,e){"lightgray"==e.style.backgroundColor&&$(e).trigger("click")})):(t.keyCode=27,$(editor.document.getElementById("_dropdownbox")).hide())},t.prototype.show=function(t){e="true"==$(t).attr("multi"),this._input=t,this._input.attributes.data&&(o=JSON.parse(this._input.attributes.data.value),n="",r=0,o.forEach((function(t){var o;e?(o="_dropdownbox_check_id_"+r,r++,n+='<li class="item"><input id="'+o+'" name="dropdownbox_check" type="checkbox" value="'+t.Value+'" text="'+t.Text+'"><label for="'+o+'">'+t.Text+"</label></li>"):n+='<li class="item" value="'+t.Value+'">'+t.Text+"</li>"})),e&&(n+='<p style="text-align:center; font-size:12px; border-top:1px solid #ccc"> <span id="dropdownbox_confirm">确定</span></p>'),this._dropdown.html(n));var n,r,o=this.getXY(t);this._dropdown.css("left",o.x+"px"),this._dropdown.css("top",o.y+"px"),this._dropdown.show(),e?$(editor.document.getElementById("dropdownbox_confirm")).bind("click",this,this.onConfirmClick):$(editor.document.getElementById("_dropdownbox")).find("li").bind("click",this,this.onItemClick)},t.prototype.onConfirmClick=function(t){t=t.data;var e=0,n="",r="";$$("input[name='dropdownbox_check']:checked").each((function(t){n+=(e?"、":"")+$(this).attr("value"),r+=(e?"、":"")+$(this).attr("text"),e++})),$(t._input).removeClass("blank").attr({value:n}).html(r),t._dropdown.hide()},t.prototype.onItemClick=function(t){var e=t.data,n=t.currentTarget.innerText;$(e._input).removeClass("blank").html(n),$(e._input).attr({value:$(t.currentTarget).attr("value")}),$(e._input).focus(),(t=$(e._input).attr("event"))&&(0<=t.indexOf(n)?$(e._input).next().show():$(e._input).next().hide()),e._dropdown.hide()},t.prototype.getXY=function(t){for(var e=0,n=0;"_page"!=t.id;)n+=t.offsetTop,e+=t.offsetLeft,t=t.offsetParent;return{x:e,y:n+10}},t}.apply(e,[]),void 0!==e&&(t.exports=e)},298:(t,e)=>{e=function(){function t(){this.render(),this.bindEvent()}return t.prototype.render=function(){var t=['<div id="_historyPanel" >','<div style="margin: 10px">','<span style="font-size:20px;">本地历史</span>',"</div>",'<ul style="margin: 0; padding: 0; " id="_historyList"></ul>',"</div>"].join("");$(editor.document.body).append(t)},t.prototype.bindEvent=function(){$$("#_historyList").delegate("li","click",(function(t){t=$(t.currentTarget).attr("key"),t=localStorage.getItem(t),editor.loadLocalHtml(t)}))},t.prototype.toggle=function(){$$("#_historyPanel").toggle(),$$("#_historyPanel").is(":visible")&&this.rebulidHistory()},t.prototype.hide=function(){$$("#_historyPanel").hide()},t.prototype.rebulidHistory=function(){var t="",e=localStorage.length;for(let r=0;r<e;r++){let e=localStorage.key(r);var n=e.split("-");2==n.length&&n[0]==editor.document.id&&(t+='<li key="'+e+'">'+new Date(Number.parseInt(n[1])).toLocaleString()+"</li>")}$$("#_historyList").html(t),$$("#_historyPanel").show()},t}.apply(e,[]),void 0!==e&&(t.exports=e)},957:(t,e)=>{e=function(){"use strict";var t;function e(){(t=this).clientX=0,this.clientY=0,this.minW=8,this.minH=8,this.resizeable=!1,this.direc="",this.image=null,this.render(),this.bindEvent()}function n(t){for(var e=0,n=0;t&&"_page"!=t.id;)n+=t.offsetTop,e+=t.offsetLeft,t=t.offsetParent;return{x:e,y:n}}return e.prototype.render=function(){var t=['<div id="_resize-tool" style="display:none; position: absolute;outline:1px dashed #00f; user-select: none;-webkit-user-select: none;">','<div style="top:-7px; left:-7px;'+(t=["position: absolute;","width: 12px;","height: 12px;","z-index: 999;","pointer-events: all;","box-shadow: 0 1px 4px 0 rgb(0 0 0 / 40%);","box-sizing: border-box;","border: 2px solid #ffffff;","border-radius: 6px;","background-color: #1e6fff;"].join(""))+'"></div>','<div style="top:-7px; right:-7px;'+t+' "></div>','<div style="bottom:-7px; left:-7px; '+t+'"></div>','<div style="cursor: se-resize; bottom:-7px; right:-7px; '+t+'"></div>','<div style="top:-7px; left:calc(50% - 2px); width:5px; height:5px;'+t+'"></div>','<div style="cursor: s-resize; bottom:-7px; left:calc(50% - 2px); '+t+'"></div>','<div style="left:-7px; top:calc(50% - 2px); '+t+'"></div>','<div style="cursor: e-resize; right:-7px; top:calc(50% - 2px); '+t+'"></div>','<span style="position: absolute; left:calc(50% - 30px); top:calc(50% - 10px); font-size: 10px; background:#1e6fff; color: #fff; padding:5px; border-radius:3px;" id="_size-info"></span>',"</div>"].join("");$$("#_page").append(t)},e.prototype.bindEvent=function(){$(editor.document.body).delegate("img","mousedown",this.imageMousedown),$(editor.document.body).bind("mousemove",this.mousemove),$(editor.document.body).bind("mouseup",this.mouseup),$(editor.document.body).bind("mousedown",this.mousedown),t.resizetool=$$("#_resize-tool"),t.sizeinfo=$$("#_size-info"),t.resizetool.bind("mousedown",(function(t){t.stopPropagation()})),t.resizetool.delegate("div","mousedown",this.resizeMousedown),t.resizetool.on("contextmenu",(function(){return!1}))},e.prototype.imageMousedown=function(e){if(1==e.which&&"design"==editor.option.mode){var r=editor.contentWindow.getSelection();r.removeAllRanges();const o=new Range;o.selectNode(e.currentTarget),r.addRange(o),t.image=e.currentTarget,t.image.draggable=!1,r=n(t.image),t.resizetool.show().css("left",r.x).css("top",r.y).width(t.image.offsetWidth).height(t.image.offsetHeight),t.sizeinfo.html(t.image.offsetWidth+"x"+t.image.offsetHeight),e.stopPropagation(),editor.execCommand("property",null,t.image)}},e.prototype.resizeMousedown=function(e){t.resizeable=!0,t.direc=e.currentTarget.style.cursor,t.clientX=e.clientX,t.clientY=e.clientY,e.stopPropagation()},e.prototype.mousedown=function(e){t.image&&($(t.image).css("outline",""),t.resizetool.hide(),t.image=null)},e.prototype.mouseup=function(e){t.resizeable=!1,t.direc=""},e.prototype.mousemove=function(e){t.resizeable&&("e-resize"!=t.direc&&"se-resize"!=t.direc||(t.image.style.width=Math.max(t.minW,t.image.offsetWidth+(e.clientX-t.clientX))+"px",t.resizetool.width(t.image.style.width),t.clientX=e.clientX),"s-resize"!=t.direc&&"se-resize"!=t.direc||(t.image.style.height=Math.max(t.minH,t.image.offsetHeight+(e.clientY-t.clientY))+"px",t.resizetool.height(t.image.style.height),t.clientY=e.clientY),e=n(t.image),t.resizetool.css("left",e.x).css("top",e.y).width(t.image.offsetWidth).height(t.image.offsetHeight),t.sizeinfo.html(t.image.offsetWidth+"x"+t.image.offsetHeight))},e}.apply(e,[]),void 0!==e&&(t.exports=e)},873:(t,e,n)=>{n=[n(424)],e=function(t){var e=null;function n(){}function r(t){console.log(t.inputType+":"+t.data);let n=t.target;e.has(n)||(n.setAttribute("orgin",n.textContent),n.setAttribute("author",editor.user.nickname),a(n))}function o(t){let n=t.target;t=e.get(n);var r=n.getAttribute("orgin"),o=i(r,n.textContent,editor.user.nickname);t.innerHTML="",t.appendChild(o),r==n.textContent&&(e.delete(n),t.parentElement.removeChild(t))}function i(e,n,r){var o=t.diffChars(e,n),i=editor.document.createDocumentFragment(),a=(e=editor.document.createElement("p"),(((n=editor.document.createElement("img")).src=editor.user.figureurl_qq_1,n.setAttribute("style","width:20px;height:20px;border-radius:50%;"),e.appendChild(n),e.appendChild(editor.document.createTextNode(r+":")),n=editor.document.createElement("i")).classList.add("apply"),e.appendChild(n),r=editor.document.createElement("i")).classList.add("close"),e.appendChild(r),e.style.color="gray",e.style.fontSize="9",i.appendChild(e),0);return o.forEach((t=>{var e=t.value,n=(!t.add&&!t.removed&&20<t.count&&(0==a?e=e.slice(t.count-10,t.count):a==o.length-1&&(e=e.slice(0,10))),editor.document.createElement("span"));n.style.color=t.added?"blue":t.removed?"red":"",n.title=t.added?"添加":t.removed?"删除":"",n.style.textDecoration=!t.added&&t.removed?"line-through":"",t.added&&(n.style.textDecoration="underline"),n.appendChild(editor.document.createTextNode(e)),i.appendChild(n),a++})),(n=editor.document.createElement("p")).style.color="gray",n.style.fontSize="9",n.textContent=(new Date).toLocaleString(),i.appendChild(n),i}function a(t,n){t.pos=function(t){for(var e=0,n=0;t;)n+=t.offsetTop,e+=t.offsetLeft,t=t.offsetParent;return{x:e,y:n}}(t.parentElement);var r,o=t.pos.y,i=editor.document.createElement("div");for(r of(i.target=t,i.addEventListener("click",s),o=["width:150px; margin:8px 0; cursor:pointer; word-break:break-all;","background:#fff;border:rgba(0, 0, 0, 0.12); border-radius:4px;","padding: 10px; word-break: break-word;","box-shadow: 0 2px 8px 2px rgb(68 73 77 / 26%);","position:absolute; right:10px;","top:"+o+"px;"].join(""),i.setAttribute("style",o),editor.document.body.appendChild(i),n&&i.appendChild(n),e.values()))r.offsetTop<=i.offsetTop&&r.offsetTop+r.offsetHeight>=i.offsetTop&&(i.style.top=r.offsetTop+r.offsetHeight+5+"px");e.set(t,i)}function s(t){for(var n of e.values())n.style.right="10px",n.style.background="#fff";this.style.right="20px",this.style.background="#ffd",editor.document.body.appendChild(this),("3"==this.target.nodeType?$(this.target.parentElement):$(this.target)).addClass("shink"),setTimeout((function(){$$(".shink").removeClass("shink")}),1e3),"close"==t.target.className?(this.target.textContent=this.target.getAttribute("orgin"),this.target.removeAttribute("orgin"),editor.document.body.removeChild(this),e.delete(this.target)):"apply"==t.target.className&&(this.target.removeAttribute("orgin"),editor.document.body.removeChild(this),e.delete(this.target))}return n.swithRevision=function(t){editor.option.revision=!editor.option.revision,editor.option.revision?(n.bindEvent(),n.showRevison(),t.classList.add("active"),editor.setMode("form"),editor.showMessage("打开修订模式")):(n.unbindEvent(),n.remonveRevison(),t.classList.remove("active"),editor.showMessage("关闭修订模式"))},n.remonveRevison=function(){if(e){for(var t of e.values())t.parentElement.removeChild(t);e.clear()}},n.showRevison=function(){editor.option.revision&&"form"==editor.option.mode&&(e=new Map,$$("a[orgin]").each((function(t,e){var n;e.getAttribute("orgin")!=e.textContent&&(n=i(e.getAttribute("orgin"),e.textContent,e.getAttribute("author")),a(e,n))})))},n.unbindEvent=function(){editor.document.removeEventListener("beforeinput",r),editor.document.removeEventListener("input",o)},n.bindEvent=function(){editor.document.addEventListener("beforeinput",r),editor.document.addEventListener("input",o)},n}.apply(e,n),void 0!==e&&(t.exports=e)},953:(t,e)=>{e=function(){var t;function e(){(t=this).render(),this.bindEvent(),this.clientX=0,this.clientY=0,t.moveDirect=null}function n(t){for(var e=0,n=0;t&&"_page"!=t.id;)n+=t.offsetTop,e+=t.offsetLeft,t=t.offsetParent;return{x:e,y:n}}function r(t){for(var e=0;e<t.children.length;e++)for(var n=t.children[e],r=0;r<n.children.length;r++)n.children[r].style.background=""}function o(t){for(var e=0,n=t.parentElement,r=0;r<n.children.length&&t!=n.children[r];r++)e+=n.children[r].colSpan;return e}function i(){var t=editor.contentWindow.getSelection();if(t.anchorNode){for(var e=t.anchorNode;e&&"TD"!=e.tagName;)e=e.parentElement;if(e&&"TD"==e.tagName)return e}return null}function a(t){for(var e=0,n=0;n<t.children.length;n++){for(var r=t.children[n],o=0,i=0;i<r.children.length;i++)o+=r.children[i].colSpan;e<o&&(e=o)}return e}return e.prototype.render=function(){var e=['<div id="_td-resize-line-x" draggable="true" style="position:absolute; top:0; height:1px; width:0px; background:gray;"></div>','<div id="_td-resize-line-y" draggable="true" style="position:absolute; top:0; height:0px; width:1px; background:gray;"></div>'].join("");$$("#_page").append(e),t.xresizeLine=$$("#_td-resize-line-x"),t.yresizeLine=$$("#_td-resize-line-y")},e.prototype.bindEvent=function(){$(editor.document.body).delegate("td","mousedown",this.tdMousedown),$(editor.document.body).delegate("td","mousemove",this.tdMousemove),$(editor.document.body).bind("mousemove",this.mousemove),$(editor.document.body).bind("mouseup",this.mouseup),$(editor.document.body).delegate("table","mousedown",this.tableMousedown),$(editor.document.body).delegate("table","mousemove",this.tableMousemove),$(editor.document.body).delegate("table","mouseup",this.tableMouseup),$(editor.document.body).delegate("td","mousedown",this.tdMousedown)},e.prototype.tdMousedown=function(e){var r;"design"==editor.option.mode&&(t.clientX=e.clientX,t.clientY=e.clientY,t.target=e.currentTarget,"col-resize"==editor.document.body.style.cursor?(t.moveDirect="col",t.moveX=0,r=n(t.target.offsetParent),t.yresizeLine.show(),t.yresizeLine.css("top",r.y+"px"),t.yresizeLine.css("left",r.x+t.target.offsetLeft+t.target.offsetWidth+"px"),t.yresizeLine.css("height",t.target.offsetParent.offsetHeight+"px"),e.stopPropagation()):"row-resize"==editor.document.body.style.cursor&&(t.moveDirect="row",t.moveY=0,r=n(t.target.parentElement),t.xresizeLine.show(),t.xresizeLine.css("top",r.y+t.target.offsetHeight+"px"),t.xresizeLine.css("left",r.x+"px"),t.xresizeLine.css("width",t.target.parentElement.offsetWidth+"px"),e.stopPropagation()))},e.prototype.tdMousemove=function(e){"design"==editor.option.mode&&null==t.moveDirect&&(e.currentTarget.offsetWidth-e.offsetX<5?(editor.document.body.style.cursor="col-resize",e.stopPropagation()):e.currentTarget.offsetHeight-e.offsetY<5?(editor.document.body.style.cursor="row-resize",e.stopPropagation()):editor.document.body.style.cursor="text")},e.prototype.mouseup=function(e){if(editor.document.body.style.cursor="",t.xresizeLine.hide(),t.yresizeLine.hide(),"row"==t.moveDirect){editor.saveHistory(),t.target.parentElement.style.height=t.target.offsetHeight+t.moveY+"px";for(var n=t.target.parentElement.children,r=0;r<n.length;r++)n[r].style.height=""}else if("col"==t.moveDirect){editor.saveHistory();var o=-1;for(n=t.target.parentElement.children,r=0;r<n.length;r++){var i=parseInt(n[r].getAttribute("colspan"));if(o+=1<i?i:1,n[r]==t.target)break}var a=t.target.offsetParent;a.style.width="","COLGROUP"==a.firstChild.tagName?o<a.firstChild.children.length&&((a=a.firstChild.children[o]).style.width=a.offsetWidth+t.moveX+"px"):t.target.style.width=t.target.offsetWidth+t.moveX+"px"}t.moveDirect=null,t.target=null},e.prototype.mousemove=function(e){var r;"col"==t.moveDirect?(r=Math.round((e.clientX-t.clientX)/editor.option.scale),t.moveX+=r,t.yresizeLine.css("left",n(t.yresizeLine[0]).x+r+"px"),t.clientX=e.clientX,e.preventDefault()):"row"==t.moveDirect&&(r=Math.round((e.clientY-t.clientY)/editor.option.scale),t.moveY+=r,t.xresizeLine.css("top",n(t.xresizeLine[0]).y+r+"px"),t.clientY=e.clientY,e.preventDefault())},e.prototype.tableMousedown=function(e){for(var n=e.target;n&&"TD"!=n.tagName;)n=n.parentElement;0==e.button&&r(n.parentElement.parentElement),t.td=n,t.startPox={x:n.offsetLeft,y:n.offsetTop},e.currentTarget.style.cursor="default"},e.prototype.tableMouseup=function(e){t.startPox=null,e.currentTarget.style.cursor="",t.td=null},e.prototype.tableMousemove=function(e){if(t.startPox){for(var n=e.target;n&&"TD"!=n.tagName;)n=n.parentElement;if(n!=t.td){t.td=n,t.endPox={x:n.offsetLeft+n.offsetWidth,y:n.offsetTop+n.offsetHeight};for(var r=e.currentTarget.children[1],o=[],i=0;i<r.children.length;i++)for(var a=r.children[i],s=0;s<a.children.length;s++)(n=a.children[s]).offsetLeft+n.offsetWidth<=t.startPox.x||n.offsetLeft>=t.endPox.x||n.offsetTop+n.offsetHeight<=t.startPox.y||n.offsetTop>=t.endPox.y||o.push(n);var l={x:o[0].offsetLeft,y:o[0].offsetTop},c={x:0,y:0};for(i=0;i<o.length;i++)o[i].offsetLeft<l.x&&(l.x=o[i].offsetLeft),o[i].offsetTop<l.y&&(l.y=o[i].offsetTop),o[i].offsetLeft+o[i].offsetWidth>c.x&&(c.x=o[i].offsetLeft+o[i].offsetWidth),o[i].offsetTop+o[i].offsetHeight>c.y&&(c.y=o[i].offsetTop+o[i].offsetHeight);for(o=[],i=0;i<r.children.length;i++)for(a=r.children[i],s=0;s<a.children.length;s++)(n=a.children[s]).offsetLeft+n.offsetWidth<=l.x||n.offsetLeft>=c.x||n.offsetTop+n.offsetHeight<=l.y||n.offsetTop>=c.y?n.style.background="":(n.style.background="#eee",o.push(n));t.marktd=o,e.preventDefault()}}},e.prototype.resetTable=function(){if((e=editor.contentWindow.getSelection()).anchorNode){editor.saveHistory();for(var t=e.anchorNode;t&&"TBODY"!=t.tagName&&"THEAD"!=t.tagName;)t=t.parentElement;if(t&&("TBODY"==t.tagName||"THEAD"==t.tagName)){for(var e=a(t),n=Math.floor(t.offsetWidth/e),r=0;r<t.children.length;r++){var o=t.children[r];o.style.width="",o.style.height="",o.removeAttribute("style");for(var i=0;i<o.children.length;i++){var s=o.children[i];s.removeAttribute("width"),s.removeAttribute("height"),s.removeAttribute("style"),s.style.width="",s.style.height=""}}var l=function(t,e){var n=t.previousElementSibling;if(n||(n=editor.document.createElement("colgroup"),t.parentElement.appendChild(n)),n.children.length<e)for(var r=0;r<e-n.children.length;r++){var o=editor.document.createElement("col");o.style.width="80px",n.appendChild(o)}return n}(t,e);for(r=0;r<l.children.length;r++)l.children[r].style.width=n}}},e.prototype.mergeCell=function(e){var n=i();if(n)if(editor.saveHistory(),"right"==e&&n.nextSibling)(d=function(t){for(var e=t.parentElement.parentElement,n=0;n<e.children.length;n++)for(var r=e.children[n],o=0;o<r.children.length;o++){var i=r.children[o];if(t.offsetTop==i.offsetTop&&t.offsetHeight==i.offsetHeight&&t.offsetLeft+t.offsetWidth==i.offsetLeft)return i}return null}(n))&&(n.setAttribute("colspan",n.colSpan+d.colSpan),d.parentElement.removeChild(d));else if("down"==e)(d=function(t){for(var e=t.parentElement.parentElement,n=0;n<e.children.length;n++)for(var r=e.children[n],o=0;o<r.children.length;o++){var i=r.children[o];if(t.offsetLeft==i.offsetLeft&&t.offsetWidth==i.offsetWidth&&t.offsetTop+t.offsetHeight==i.offsetTop)return i}return null}(n))&&(n.setAttribute("rowspan",n.rowSpan+d.rowSpan),d.parentElement.removeChild(d));else if("cancel"==e){for(var r=n.parentElement,o=[],a=[],s=0;s<n.rowSpan;s++){for(var l=!1,c=0;c<r.children.length;c++){var d=r.children[c];!l&&d.offsetLeft>=n.offsetLeft+n.offsetWidth&&(o.push(r.children[c]),l=!0)}l||a.push(r),r=r.nextElementSibling}var u=null;for(s=0;s<o.length;s++)for(c=0;c<n.colSpan;c++){var f=editor.document.createElement("td");u=u||f,o[s].parentElement.insertBefore(f,o[s])}for(s=0;s<a.length;s++)for(c=0;c<n.colSpan;c++)f=editor.document.createElement("td"),u=u||f,a[s].appendChild(f);u.parentElement.insertBefore(n,u),u.parentElement.removeChild(u),n.colSpan=1,n.rowSpan=1}else if("marked"==e&&t.marktd&&0<t.marktd.length){var p,h=t.marktd[0],g=t.marktd[0].parentElement,m=0,v=0;for(s=0;s<t.marktd.length;s++)t.marktd[s].parentElement!=p&&(p=t.marktd[s].parentElement,m+=1),(t.marktd[s].parentElement!=g||(v+=t.marktd[s].colSpan,t.marktd[s]!=h))&&t.marktd[s].parentElement.removeChild(t.marktd[s]);t.marktd[0].rowSpan=m,t.marktd[0].colSpan=v,t.marktd[0].style.background="",t.marktd=[]}},e.prototype.insertRow=function(t){var e=i();if(e){editor.saveHistory();var n=e.parentElement,r=n.parentElement,o=a(r),s=editor.document.createElement("tr");"up"==t&&n.previousElementSibling&&(n=n.previousElementSibling);for(var l=0;l<r.children.length;l++){for(var c=r.children[l],d=0;d<c.children.length;d++)c.children[d].offsetTop+c.children[d].offsetHeight>n.offsetTop+n.offsetHeight&&(c.children[d].rowSpan+=1,o-=c.children[d].colSpan);if(c==n)break}for(n.nextElementSibling?r.insertBefore(s,n.nextElementSibling):r.appendChild(s),l=0;l<o;l++){var u=editor.document.createElement("td");s.appendChild(u)}$(s).addClass("shink"),setTimeout((function(){$$(".shink").removeClass("shink")}),3e3)}},e.prototype.deleteRow=function(){var t=i();if(t){editor.saveHistory();for(var e=t.parentElement,n=e.parentElement,o=0;o<n.children.length;o++){var a=n.children[o];if(a==e)break;for(var s=0;s<a.children.length;s++)1<(l=a.children[s]).rowSpan&&l.offsetTop+l.offsetHeight>e.offsetTop&&--l.rowSpan}var l,c,d;for(o=0;o<e.children.length;o++)1<(l=e.children[o]).rowSpan&&(c=e.nextElementSibling.children[o],(d=editor.document.createElement("td")).rowSpan=l.rowSpan-1,d.colSpan=l.colSpan,c.parentElement.insertBefore(d,c));n.removeChild(e),r(n)}},e.prototype.insertCol=function(t){var e=i();if(e){editor.saveHistory();var n=e.parentElement.parentElement;if("right"==t){if(null==e.nextElementSibling){var r=n;(t=r.previousElementSibling)&&((h=editor.document.createElement("col")).style.width="60px",t.appendChild(h));for(var a=0;a<r.children.length;a++)r.children[a].appendChild(editor.document.createElement("td"));return}e=e.nextElementSibling}for(var s=[],l=0;l<n.children.length;l++)for(var c=n.children[l],d=0;d<c.children.length;d++){var u=c.children[d];u.offsetLeft<=e.offsetLeft&&u.offsetLeft+u.offsetWidth>e.offsetLeft&&s.push(c.children[d])}t=o(e);var f,p,h=n.previousElementSibling;for(h&&((f=editor.document.createElement("col")).style.width="60px",h.insertBefore(f,h.children[t])),l=0;l<s.length;l++)1==s[l].colSpan&&1==s[l].rowSpan?(p=editor.document.createElement("td"),$(p).addClass("shink"),s[l].parentElement.insertBefore(p,s[l])):s[l].colSpan+=1;setTimeout((function(){$$(".shink").removeClass("shink")}),3e3)}},e.prototype.deleteCol=function(){var t=i();if(t){editor.saveHistory();for(var e=t.parentElement.parentElement,n=o(t),a=e.previousElementSibling,s=(a&&a.children.length>n&&a.removeChild(a.children[n]),[]),l=0;l<e.children.length;l++)for(var c=e.children[l],d=0;d<c.children.length;d++)(u=c.children[d]).offsetLeft<=t.offsetLeft&&u.offsetLeft+u.offsetWidth>t.offsetLeft&&s.push(u);var u;for(l=0;l<s.length;l++)1==(u=s[l]).colSpan?u.parentElement.removeChild(u):--u.colSpan;r(e)}},e}.apply(e,[]),void 0!==e&&(t.exports=e)},319:(t,e)=>{e=function(){function t(){}function e(){return $("#_proertyPanel")}t.render=function(){return['<div id="_barcode-property">','<p style="display:flex;">','<label style="display:inline-block;width:60px;">ID</label>','<input id="code-id" type="text"/>',"</p>",'<p style="display:flex;">','<label style="display:inline-block;width:60px;">编码类型</label>','<input id="code-type" type="text"/>',"</p>",'<p style="display:flex;">','<label style="display:inline-block;width:60px;">编码</label>','<input id="code-value" type="text"/>',"</p>",'<p style="display:flex; justify-content:center;">','<button id="_btn-barcode-apply"  class="pop-button"  style="background:#1e6fff;color:#fff">应用</button>',"</p>","</div>"].join("")};var n=null,r=(t.onClick=function(t){n=t,e().find("#code-id").val(t.getAttribute("id")),e().find("#code-type").val(t.getAttribute("format")),e().find("#code-value").val(t.getAttribute("code"))},t.bindEvent=function(){e().find("#_btn-barcode-apply").bind("click",r)},function(t){$(n).attr("id",e().find("#code-id").val()),$(n).attr("format",e().find("#code-type").val()),$(n).attr("code",e().find("#code-value").val()),editor.rendbarcode()});return t}.apply(e,[]),void 0!==e&&(t.exports=e)},539:(t,e)=>{e=function(){function t(){}let e;return t.render=function(){var t=['<div style="width:244px; height:20px; margin: 2px;  text-align:center; background:rgba(0,0,0,0);color:gray; border:1px solid gray;">无填充</div>'],e=(["rgb(255, 255, 255)","rgb(0, 0, 0)","rgb(72, 83, 104)","rgb(41, 114, 244)","rgb(0, 163, 245)","rgb(49, 155, 98)","rgb(222, 60, 54)","rgb(248, 136, 37)","rgb(245, 196, 0)","rgb(154, 56, 215)","rgb(242, 242, 242)","rgb(127, 127, 127)","rgb(243, 245, 247)","rgb(229, 239, 255)","rgb(229, 246, 255)","rgb(234, 250, 241)","rgb(255, 233, 232)","rgb(255, 243, 235)","rgb(255, 249, 227)","rgb(253, 235, 255)","rgb(216, 216, 216)","rgb(89, 89, 89)","rgb(197, 202, 211)","rgb(199, 220, 255)","rgb(199, 236, 255)","rgb(195, 234, 213)","rgb(255, 201, 199)","rgb(255, 220, 196)","rgb(255, 238, 173)","rgb(242, 199, 255)","rgb(191, 191, 191)","rgb(63, 63, 63)","rgb(128, 139, 158)","rgb(153, 190, 255)","rgb(153, 221, 255)","rgb(152, 215, 182)","rgb(255, 156, 153)","rgb(255, 186, 132)","rgb(255, 226, 112)","rgb(213, 142, 255)","rgb(165, 165, 165)","rgb(38, 38, 38)","rgb(53, 59, 69)","rgb(20, 80, 184)","rgb(18, 116, 165)","rgb(39, 124, 79)","rgb(158, 30, 26)","rgb(184, 96, 20)","rgb(163, 130, 0)","rgb(94, 34, 129)","rgb(147, 147, 147)","rgb(13, 13, 13)","rgb(36, 39, 46)","rgb(12, 48, 110)","rgb(10, 65, 92)","rgb(24, 78, 50)","rgb(88, 17, 14)","rgb(92, 48, 10)","rgb(102, 82, 0)","rgb(59, 21, 81)","stand","rgb(174, 46, 25)","rgb(231, 64, 37)","rgb(244, 194, 67)","rgb(254, 251, 84)","rgb(161, 206, 99)","rgb(83, 173, 91)","rgb(83, 174, 234)","rgb(50, 111, 186)","rgb(10, 32, 92)","rgb(103, 53, 154)","history","","","","","","","","","",""].forEach((function(e){"stand"==e?t.push('<div style="width:244px; height:20px; margin: 2px; color:gray;">标准色</div>'):"history"==e?t.push('<div style="width:244px; height:20px; margin: 2px; color:gray;">最近使用</div>'):t.push('<div style="display:inline-block; background:'+e+'; width:20px; height:20px; margin: 1.5px; border:1px solid gray;"></div>')})),['<div id="_colorSelector" class="menu-container" style="width:252px; padding:10px;">',t.join(""),"</div>"].join(""));$("#_toolbar").append(e)},t.bindEvent=function(){$("#_colorSelector").children("div").click((function(t){var n=t.currentTarget.style.background;$(e).children("div").css("background",n),"_backColor"==e.id?editor.execCommand("backColor",n,t.currentTarget):editor.execCommand("foreColor",n,t.currentTarget),$("#_colorSelector").hide()}))},t.toggle=function(t){t=function(t){for(var e=0,n=0;"_toolbar"!=t.id;)n+=t.offsetTop,e+=t.offsetLeft,t=t.offsetParent;return{x:e,y:n+28}}(e=t),$("#_colorSelector").css("left",t.x+"px"),$("#_colorSelector").css("top",t.y+"px"),$("#_colorSelector").toggle()},t}.apply(e,[]),void 0!==e&&(t.exports=e)},860:(t,e)=>{e=function(){function t(){}return t.render=function(){var t=['<input id="keyword" type="text" placeholder="搜索知识库"/>','<ul id="tree2" class="ztree"></ul>'].join("");$("#_metaData").html(t)},t.bindEvent=function(){var t,e={view:{dblClickExpand:!1,showLine:!0,selectedMulti:!1,showIcon:!0},data:{simpleData:{enable:!0,idKey:"id",pIdKey:"pid",rootPId:null}},callback:{onDblClick:function(t,e,n){n.pid<5e3?$.get("/data_item/"+n.code+".json",(function(t,e){editor.insertDropdownByDic({text:n.name,item:t},{end:"，"})})):n.pid<6e3?$.get("/dict_item/"+n.code+".json",(function(t,e){editor.insertDropdownByDic({text:n.name,item:t},{split:"："})})):$.get("/stand_item/"+n.code+".json",(function(t,e){editor.insertFieldByDic({text:n.name,item:t})}))}}};$.get("/data_main.json",(function(n,r){t=$.fn.zTree.init($("#tree2"),e,n)})),$("#keyword").keydown((function(e){if(13==e.keyCode){let e=$("#keyword").val();var n;""==e.trim()?(t.showNodes(t.getNodesByFilter((function(t){return!0}))),t.expandAll(!1),t.getNodesByParam("level",0).forEach((e=>{t.expandNode(e,!0,!1,!1)}))):(n=[],t.hideNodes(t.getNodesByFilter((function(t){return!0}))),t.getNodesByFilter((function(t){return-1!=t.name.indexOf(e)&&(n=n.concat(t.getPath()),!0)})),t.showNodes(n),t.expandAll(!0))}})),$("#_btn-close-panel").click((function(t){$(".pop-mask").remove()}))},t}.apply(e,[]),void 0!==e&&(t.exports=e)},164:(t,e)=>{e=function(){function t(){}return t.render=function(){var t="",e=(["黑体","宋体","等线","-","楷体","仿宋","新宋体","隶书","微软雅黑","-","华文仿宋","华文琥珀","华文细黑","华文楷体","华文隶书","华文彩云","华文行楷","-","Arial","Ink Free","Impact"].forEach((function(e){t+="-"==e?'<div style="width:100%; height:1px; background:lightgray;flex-shrink:0"></div>':'<div class="menu-item" >'+e+"</div>"})),['<div id="_font-family-setting" class="menu-container"> ',t,"</div>"].join(""));$("#_toolbar").append(e)},t.bindEvent=function(){$("#_font-family-setting").children(".menu-item").click((function(t){$("#_font-family-setting").hide(),$("#_fontName").children("span").html(t.currentTarget.textContent),editor.document.execCommand("fontName",!1,t.currentTarget.textContent)}))},t.toggle=function(t){t=function(t){for(var e=0,n=0;"_toolbar"!=t.id;)n+=t.offsetTop,e+=t.offsetLeft,t=t.offsetParent;return{x:e,y:n+28}}(t),$("#_font-family-setting").css("left",t.x+"px"),$("#_font-family-setting").css("top",t.y+"px"),$("#_font-family-setting").toggle()},t}.apply(e,[]),void 0!==e&&(t.exports=e)},389:(t,e)=>{e=function(){function t(){}return t.render=function(){var t="",e=(["正文","标题1","标题2","标题3","标题4"].forEach((function(e,n){t+=0==n?'<div class="menu-item"><b>'+e+"</b></div>":'<div class="menu-item" value="'+n+'"><h'+n+">"+e+"</h"+n+"></div>"})),['<div id="_font-head-setting" class="menu-container">',t,"</div>"].join(""));$("#_toolbar").append(e),$("#_font-head-setting").hide()},t.bindEvent=function(){$("#_font-head-setting").children(".menu-item").click((function(t){$("#_font-head-setting").hide(),$("#_fontHead").children("span").html(t.currentTarget.value),editor.document.execCommand("formatBlock",!1,t.currentTarget.firstChild.nodeName),editor.rebulidCatalog()}))},t.toggle=function(t){t=function(t){for(var e=0,n=0;"_toolbar"!=t.id;)n+=t.offsetTop,e+=t.offsetLeft,t=t.offsetParent;return{x:e,y:n+28}}(t),$("#_font-head-setting").css("left",t.x+"px"),$("#_font-head-setting").css("top",t.y+"px"),$("#_font-head-setting").toggle()},t}.apply(e,[]),void 0!==e&&(t.exports=e)},205:(t,e,n)=>{n=[n(42)],e=function(t){function e(){}return e.render=function(){var t="",e=(["初号","小初","一号","小一","二号","小二","三号","小三","四号","小四","-","9","10","11","12","14","16","18","20","22","24","26"].forEach((function(e){t+="-"==e?'<div style="width:100%; height:1px; background:lightgray; flex-shrink:0"></div>':'<div class="menu-item" style="font-family:'+e+'">'+e+"</div>"})),['<div id="_font-size-panel" class="menu-container" >',t,"</div>"].join(""));$("#_toolbar").append(e)},e.bindEvent=function(){$("#_font-size-panel").children(".menu-item").click((function(e){$("#_font-size-panel").hide(),$("#_fontSize").children("span").html(e.currentTarget.textContent),e=e.currentTarget.textContent,e={fontSize:t.getFontSize(e)},t.setSelectionFont(e)}))},e.toggle=function(t){t=function(t){for(var e=0,n=0;"_toolbar"!=t.id;)n+=t.offsetTop,e+=t.offsetLeft,t=t.offsetParent;return{x:e,y:n+28}}(t),$("#_font-size-panel").css("left",t.x+"px"),$("#_font-size-panel").css("top",t.y+"px"),$("#_font-size-panel").toggle()},e}.apply(e,n),void 0!==e&&(t.exports=e)},212:(t,e)=>{e=function(){function t(){this.render(),this.bindEvent()}var e=null;return t.render=function(t){t=['<div id="_formula-panel" class="pop-mask">','<div class="pop-panel">','<div class="pop-panel-head">',"月经史表达式",'<div id="_btn-close-panel" class="icons-close"></div>',"</div>","<p>",'<div id="_formula"  style="display:flex; align-items:center;">','<div>初潮年龄<input type="number" name="firstYear" min=0 value='+t.firstYear+">岁</div>",'<div style="display:flex; flex-direction: column; align-items:center;">','<p>月经持续<input type="number" name="durationDays"  min=0 value='+t.durationDays+">天</p>",'<div style="width:90%; height:2px;background:#000; "></div>','<p>生理周期<input type="number" name="cycleDays" min=0 value='+t.cycleDays+">天</p>","</div>",'<div>绝经年龄<input type="number" name="lastYear" min=0 value='+t.lastYear+">岁</div>","</div>","</p>",'<p style="display:flex; justify-content:right;">','<button class="pop-button" id="_btn-cancel">取消</button>','<button class="pop-button" id="_btn-comfirm" style="background:#1e6fff;color:#fff">确定</button>',"</p>","</div>","</div>"].join(""),$("body").append(t)},t.bindEvent=function(){$("#_btn-close-panel").click((function(t){$(".pop-mask").remove()})),$("#_btn-cancel").click((function(t){$(".pop-mask").remove()})),$("#_btn-comfirm").click((function(t){let n={},r=($("#_formula").find("input").each((function(t,e){var r=e.getAttribute("name");n[r]=e.value})),['<text x="20" y="35" style="text-anchor: end">'+n.firstYear+"</text>",'<text x="50" y="20" style="text-anchor: middle">'+n.durationDays+"</text>",'<text x="50" y="50" style="text-anchor: middle">'+n.cycleDays+"</text>",'<text x="75" y="35" style="text-anchor: start ">'+n.lastYear+"</text>",'<line x1="25" y1="30" x2="70" y2="30" style="stroke:rgb(0,0,0);stroke-width:2"></line>'].join(""));e?(e.style.verticalAlign="middle",e.setAttribute("type","women"),e.setAttribute("data",JSON.stringify(n)),e.innerHTML=r):(r='&nbsp;<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0,0,100,60"  style="width:100px; vertical-align:middle;" type="women" data="'+JSON.stringify(n).replaceAll('"',"&quot;")+'">'+r+"<svg> &nbsp;",editor.document.execCommand("insertHTML",!1,r)),$(".pop-mask").remove()}))},t.show=function(n){n?(n=(e=n).getAttribute("data"),t.render(JSON.parse(n))):(e=null,t.render({})),t.bindEvent()},t}.apply(e,[]),void 0!==e&&(t.exports=e)},249:(t,e)=>{e=function(){function t(){}function e(){return $("#_proertyPanel")}t.render=function(){return['<div id="_input-property">','<p style="display:flex;">','<label style="display:inline-block;width:60px;">ID</label>','<input id="_input_name" placeholder="" type="text"/>',"</p>",'<p show="Text" style="display:flex;">','<label style="display:inline-block;width:60px;">提示</label>','<input id="_placeholder" type="text"/>',"</p>",'<p show="Text" style="display:flex;">','<label style="display:inline-block;width:60px;">验证<input id="_input_validate" type="checkbox"/></label>','<input id="_input_format" type="text" />',"</p>",'<p show="dropdown" style="display:flex; align-items:start;">','<label style="display:inline-block;width:60px;">选择项</label>','<textarea id="_input_data" rows="10" cols="22" ></textarea>',"</p>",'<p show="dropdown" style="display:flex; align-items:start;">','<input id="_input_multi" type="checkbox"/><label for="_input_multi">多选</label>',"</p>",'<p show="dropdown">','<label style="display:inline-block;">当选择</label>','<input id="_input_event" type="text"  style="width:100px"/>时，后续内容显示',"</p>",'<p style="display:flex; justify-content:center;">','<button id="_btn_apply"  class="pop-button"  style="background:#1e6fff;color:#fff">应用</button>',"</p>","</div>"].join("")};var n=null,r=(t.onClick=function(t){t=(n=t).getAttribute("type"),e().find("[show]").hide(),"Text"==t||"DateTime"==t?e().find('[show="Text"]').show():"DropdownList"==t&&e().find('[show="dropdown"]').show(),e().find("#_input_name").val(n.name),e().find("#_placeholder").val(n.attributes.placeholder?n.attributes.placeholder.value:""),e().find("#_input_format").val(n.attributes.format?n.attributes.format.value:""),e().find("#_input_validate").prop("checked","true"==$(n).attr("validate")),e().find("#_input_multi").prop("checked","true"==$(n).attr("multi")),t=n.attributes.data;var r="";t&&t.value&&JSON.parse(t.value).forEach((function(t){t.Value?r+=t.Value+":"+t.Text+"\n":r+=t.Text+"\n"})),e().find("#_input_data").val(r),e().find("#_input_event").val(n.attributes.event?n.attributes.event.value:"")},t.bindEvent=function(){e().find("#_btn_apply").bind("click",r)},function(t){var r,o;n&&(r=n.getAttribute("type"),$(n).addClass("shink"),setTimeout((function(){$(n).removeClass("shink")}),3e3),n.name=e().find("#_input_name").val(),"Text"==r||"DateTime"==r?(n.setAttribute("placeholder",e().find("#_placeholder").val()),n.setAttribute("validate",e().find("#_input_validate").prop("checked")),n.setAttribute("format",e().find("#_input_format").val()),n.innerHTML=e().find("#_placeholder").val()):"DropdownList"==r&&(n.setAttribute("event",e().find("#_input_event").val()),n.setAttribute("multi",e().find("#_input_multi").prop("checked")),(r=e().find("#_input_data").val())&&(o=[],r.split("\n").forEach((function(t){t&&0<t.length&&(1==(t=t.split(":")).length?o[o.length]={Text:t[0]}:2==t.length&&(o[o.length]={Value:t[0],Text:t[1]}))})),n.setAttribute("data",JSON.stringify(o)),n.innerHTML=o[0].Text)))});return t}.apply(e,[]),void 0!==e&&(t.exports=e)},927:(t,e,n)=>{n=[n(249),n(200),n(319)],e=function(t,e,n){function r(){}r.render=function(){},r.bindEvent=function(){$(editor.document.body).on("click","a[type], table",o)};var o=function(t){r.showProp(t.currentTarget),t.stopPropagation()};function i(){return $("#_proertyContain")}r.showProp=function(r){a(r),"A"==r.tagName?(i().html(t.render()),t.bindEvent(),t.onClick(r)):"TABLE"==r.tagName?(i().html(e.render()),e.bindEvent(),e.onClick(r)):"IMG"==r.tagName?(i().html(n.render()),n.bindEvent(),n.onClick(r)):i().html("请选择控件")};var a=function(t){let e=[];for(;t&&"_body"!=t.id;)e.push(t.tagName.toLowerCase()),t=t.parentElement;return(e=8<(e=e.reverse()).length?e.slice(-8):e).unshift("..."),$("#_proertyPanel").children("#_path").html(e.join("/")),e};return r}.apply(e,n),void 0!==e&&(t.exports=e)},699:(t,e,n)=>{n=[n(485),n(401),n(511)],e=function(){function t(){this.render(),this.bindEvent()}return t.render=function(){var t=['<div id="_signature-panel" class="pop-mask">','<div class="pop-panel">','<div class="pop-panel-head">',"手写电子签名",'<div id="_btn-close-panel" class="icons-close"></div>',"</div>","<p>",'<div id="_signature"  style="width:600px; height: 300px; border: 1px dashed #333; background:#f3f5f7;"></div>',"</p>",'<p style="display:flex; justify-content:right;">','<button class="pop-button" id="_btn-cancel">取消</button>','<button class="pop-button" id="_btn-comfirm" style="background:#1e6fff;color:#fff">确定</button>',"</p>","</div>","</div>"].join("");$("body").append(t),$("#_signature").jSignature({UndoButton:!0,width:600,height:300,lineWidth:5})},t.bindEvent=function(){$("#_btn-close-panel").click((function(t){$(".pop-mask").remove()})),$("#_btn-cancel").click((function(t){$(".pop-mask").remove()})),$("#_btn-comfirm").click((function(t){var e=$("#_signature").jSignature("getData","svgbase64");editor.document.execCommand("insertHTML",!1,'<img style="width:100px; height:50px" src="data:'+e.join(",")+'"/>'),$(".pop-mask").remove()}))},t.show=function(){t.render(),t.bindEvent()},t}.apply(e,n),void 0!==e&&(t.exports=e)},812:(t,e)=>{e=function(){function t(){this.render(),this.bindEvent()}return t.render=function(){var t=['<div id="_symbol-panel" class="pop-mask">','<div class="pop-panel">','<div class="pop-panel-head">',"&nbsp;",'<div id="_btn-close-panel" class="icons-close"></div>',"</div>",'<div id="_tool-panel-head">','<span target="#symb1" class="select">医学符号</span>','<span target="#symb2">数学符号</span>','<span target="#symb3">其他符号</span>',"</div>",'<div id="_tool-panel-body" style="padding:5px; border-top:1px solid #aaa; height:100%;">','<div  id="symb1" class="symbol" style="width:800px; height:340px;">'+["<span>RP","P.O","INJ.","MIXT.","TAD.","SOL.","CO.","PR.","I.D","I.V","I.V.GTT.","IH","IM","O.M","O.N","HS.","AM.","PM.","A.C.","P.C.","SOS.","ST.","QD","BID","TID","QOD","QH","Q2H","Q3H","MCG","MG","G","ML","sig","qd","bid","tid","qid","qh","q2h","q4h","q6h","qn","qod","biw","hs","am","pm","St","DC","prn","sos","ac","pc","12n","12mn","gtt","ID","IH","IM","IV","aa","et","Rp.","sig./S.","St./Stat.","Cit.","s.o.s.","p.r.n","a.c.","p.c.","a.m.","p.m.","q.n.","h.s.","q.h.","q.d.","B.i.d.","T.i.d.","Q.i.d.","q.4h.","p.o.","adus.int.","adus.ext.","H.","im./M.","iv./V.","ivgtt.","Inhal.","O.D.","O.L.","O.S.","O.U.","No./N.","s.s","ug.","mg.","g.","kg.","ml.","L.","q.s","Ad.","Aq.","Aq.dest.","Ft.","Dil","M.D.S.","Co./Comp.","Mist","Pulv.","Amp.","Emul.","Syr.","Tr.","Neb.","Garg.","rtt./gutt.","collyr.","Ocul.","Liq.","Sol.","Lot.","Linim.","Crem.","Ung.","Past.","Ol.","Enem.","Supp.","Tab.","Pil.","Caps.","Inj.","po","im","iv","ivgtt","qd","bid","tid","qid","q8h","qn","Rp","sig","prn</span>"].join("</span><span>")+"</div>",'<div  id="symb2" class="symbol" style="width:800px; height:340px; display:none">'+["<span>⒈","⒉","⒊","⒋","⒌","⒍","⒎","⒏","⒐","⒑","⒒","⒓","⒔","⒕","⒖","⒗","⒘","⒙","⒚","⒛","⑴","⑵","⑶","⑷","⑸","⑹","⑺","⑻","⑼","⑽","⑾","⑿","⒀","⒁","⒂","⒃","⒄","⒅","⒆","⒇","①","②","③","④","⑤","⑥","⑦","⑧","⑨","⑩","㈠","㈡","㈢","㈣","㈤","㈥","㈦","㈧","㈨","㈩","ⅰ","ⅱ","ⅲ","ⅳ","ⅴ","ⅵ","ⅶ","ⅷ","ⅸ","ⅹ","Ⅰ","Ⅱ","Ⅲ","Ⅳ","Ⅴ","Ⅵ","Ⅶ","Ⅷ","Ⅸ","Ⅹ","Ⅺ","Ⅻ</span>"].join("</span><span>")+"</div>",'<div  id="symb3" class="symbol" style="width:800px; height:340px; display:none">'+["<span>、","。","·","ˉ","ˇ","¨","〃","々","—","～","‖","…","‘","’","“","”","〔","〕","〈","〉","《","》","「","」","『","』","〖","〗","【","】","±","×","÷","∶","∧","∨","∑","∏","∪","∩","∈","∷","√","⊥","∥","∠","⌒","⊙","∫","∮","≡","≌","≈","∽","∝","≠","≮","≯","≤","≥","∞","∵","∴","♂","♀","°","′","″","℃","＄","¤","￠","￡","‰","§","№","☆","★","○","●","◎","◇","◆","□","■","△","▲","※","→","←","↑","↓","〓","〡","〢","〣","〤","〥","〦","〧","〨","〩","㊣","㎎","㎏","㎜","㎝","㎞","㎡","㏄","㏎","㏑","㏒","㏕","︰</span>"].join("</span><span>")+"</div>","</div>",'<p style="display:flex; justify-content:right;">','<button class="pop-button" id="_btn-cancel">取消</button>','<button class="pop-button" id="_btn-comfirm" style="background:#1e6fff;color:#fff">确定</button>',"</p>","</div>","</div>"].join("");$("body").append(t)},t.bindEvent=function(){$("#_btn-close-panel").click((function(t){$(".pop-mask").remove()})),$("#_btn-cancel").click((function(t){$(".pop-mask").remove()})),$("#_symbol-panel").find("#_tool-panel-head").delegate("span","click",(function(t){$("#_symbol-panel").find(".select").removeClass("select"),t.target.classList.add("select"),$("#_symbol-panel").find("#_tool-panel-body").children("div").hide(),t=t.target.getAttribute("target"),$("#_symbol-panel").find(t).show()})),$("#_symbol-panel").find("#_tool-panel-body").delegate("span","click",(function(t){t=t.target.textContent,editor.document.execCommand("insertHTML",!1,t),$(".pop-mask").remove()}))},t.show=function(){t.render(),t.bindEvent()},t}.apply(e,[]),void 0!==e&&(t.exports=e)},849:(t,e)=>{e=function(){function t(){}return t.render=function(){for(var t=['<div id="_tablePanel" class="menu-container" style = "position: absolute; display: none;  padding: 15px;" >','<span id="_tablePanelHead">20X20</span>','<table class="cell-table">'],e=0;e<10;e++){t.push("<tr>");for(var n=0;n<10;n++)t.push("<td></td>");t.push("</tr>")}t.push('</table><div id="_tablePanelMask" style="position: absolute; top:34px; left:18px; right:15px; bottom:15px;"></div></div>'),$("#_toolbar").append(t.join(""))},t.bindEvent=function(){const t=document.querySelector("#_tablePanelMask"),e=document.querySelector("#_tablePanelHead"),n=document.querySelector(".cell-table").children[0];var r=0,o=0;t.onmousemove=function(t){for(var{offsetX:t,offsetY:i}=t,a=0;a<n.children.length;a++)for(var s=n.children[a],l=0;l<s.children.length;l++)s.children[l].classList.remove("active");r=Math.ceil(t/16)||1,o=Math.ceil(i/16)||1,e.innerHTML=r+"列 X "+o+"行";for(var c=0;c<n.children.length;c++)for(var d=n.children[c],u=0;u<d.children.length;u++)c<o&&u<r&&d.children[u].classList.add("active")},t.onclick=function(t){document.querySelector("#_tablePanel").style.display="none",editor.insertTable(o,r)}},t.toggle=function(t){t=function(t){for(var e=0,n=0;"_toolbar"!=t.id;)n+=t.offsetTop,e+=t.offsetLeft,t=t.offsetParent;return{x:e,y:n+28}}(t),$("#_tablePanel").css("left",t.x+"px").css("top",t.y+"px"),$("#_tablePanel").toggle()},t}.apply(e,[]),void 0!==e&&(t.exports=e)},200:(t,e)=>{e=function(){function t(){}function e(){return $("#_proertyPanel")}t.render=function(){return['<div id="_table-property">','<p style="display:flex;">','<label style="display:inline-block;width:60px;">表格对齐</label>','<input id= "radio1" name="_align" type="radio" value="left"/><label for="radio1">居左</label>','<input id= "radio2" name="_align" type="radio" value="center"/><label for="radio2">居中</label>','<input id= "radio3" name="_align" type="radio" value="right"/><label for="radio3">居右</label>',"</p>",'<p style="display:flex;">','<label style="display:inline-block;width:60px;">边框粗细</label>','<input id="border-width" type="number"/>px',"</p>",'<p style="display:flex;">','<label style="display:inline-block;width:60px;">边框颜色</label>','<input id="border-color" type="text"/>',"</p>",'<p style="display:flex; justify-content:center;">','<button id="_btn-table-apply"  class="pop-button"  style="background:#1e6fff;color:#fff">应用</button>',"</p>","</div>"].join("")};var n=null,r=(t.onClick=function(t){n=t,e().children("#_input-property").hide(),e().children("#_table-property").show(),""==n.style.margin?e().find("#radio1").prop("checked",!0):"auto"==n.style.margin?e().find("#radio2").prop("checked",!0):"auto"==n.style.marginLeft&&e().find("#radio3").prop("checked",!0);let r=getComputedStyle(n);e().find("#border-width").val(r.borderWidth.replace("px","")),e().find("#border-color").val(r.borderColor)},t.bindEvent=function(){e().find("#_btn-table-apply").bind("click",r)},function(t){var r=e().find(':radio[name="_align"]:checked').val();"center"==r?n.style.margin="auto":"right"==r?(n.style.margin="",n.style.marginLeft="auto"):"left"==r&&(n.style.margin=""),n.style.borderWidth=e().find("#border-width").val()+"px",n.style.borderColor=e().find("#border-color").val()});return t}.apply(e,[]),void 0!==e&&(t.exports=e)},909:(e,n)=>{n=function(){function e(){this.render(),this.bindEvent()}function n(t,e){var n=localStorage.getItem("filehistory");let r=n?JSON.parse(n):{};r[t]={id:t,name:e,date:(new Date).getTime()},localStorage.setItem("filehistory",JSON.stringify(r))}return e.render=function(){var t=['<div id="_template-panel" class="pop-mask">','<div class="pop-panel">','<div class="pop-panel-head">',"<span></span>",'<div id="_btn-close-panel" class="icons-close"></div>',"</div>",'<div id="_tool-panel-head">','<span target="#_tempateFile" class="select">病历模板</span>','<span target="#_historyFile">最近打开</span>',"</div>",'<div id="_tool-panel-body" style="padding:0 5px;">','<div id="_tempateFile" style="display: block; width: 600px; height:600px;">','<input id="searchText" style="width: calc(100% - 10px);  height: 26px;" type="text" placeholder="搜索病历"/>','<ul id="tree" class="ztree" style="height:calc(100% - 28px); overflow:auto;"></ul>',"</div>",'<div id="_historyFile" style="width: 600px; height:600px; overflow:auto; display:none;"></div>',"</div>","</div>","</div>"].join("");$("body").append(t)},e.bindEvent=function(){e.initTree(),e.initHistroy(),$("#_btn-close-panel").click((function(t){$(".pop-mask").remove()})),$("#_template-panel").find("#_tool-panel-head").delegate("span","click",(function(t){let e=t.target;$("#_template-panel").find("#_tool-panel-head").find(".select").removeClass("select"),e.classList.add("select"),$("#_template-panel").find("#_tool-panel-body").find("div").hide(),t=e.getAttribute("target"),$("#_template-panel").find("#_tool-panel-body").find(t).show()}))},e.initTree=function(){var e={view:{dblClickExpand:!1,showLine:!1,selectedMulti:!1,showIcon:!0},edit:{enable:!0,showRemoveBtn:!1},data:{simpleData:{enable:!0,idKey:"id",pIdKey:"pid",rootPId:""}},callback:{onDblClick:function(t,e,r){editor.document.title=r.name,editor.loadHtml("/doc/"+r.id+".html",r.id),n(r.id,r.name),$(".pop-mask").remove()},onRename:function(t,e,n){$.post("/doc/"+n.id+".html",{title:n.name},(function(t,e){editor.document.title=n.name}))}}};function r(n){$.get("/doc/list.json?title="+n,(function(n,r){t=$.fn.zTree.init($("#tree"),e,n)}))}$("#searchText").keydown((function(t){13==t.keyCode&&r($("#searchText").val().trim())})),r("")},e.initHistroy=function(){var t,e=localStorage.getItem("filehistory"),r=e?JSON.parse(e):{};let o=[];for(t in r)o.push(r[t]);o.sort(((t,e)=>e.date-t.date));let i=["<ul>"];o.forEach((t=>{i.push('<li id="'+t.id+'" name="'+t.name+'">'+new Date(t.date).toLocaleString()+"<i>&nbsp;&nbsp;</i>"+t.name+"</li>")})),i.push("</ul>"),$("#_template-panel").find("#_historyFile").html(i.join("")),$("#_template-panel").find("#_historyFile").delegate("li","click",(function(t){let e=t.target;t=e.getAttribute("id");var r=e.getAttribute("name");editor.document.title=r,window.history.replaceState("","","/edit/"+t+".html"),editor.loadHtml("/doc/"+t+".html",t),n(t,r),$(".pop-mask").remove()}))},e.show=function(){e.render(),e.bindEvent()},e}.apply(n,[]),void 0!==n&&(e.exports=n)},195:(t,e)=>{e=function(){function t(){this.render(),this.bindEvent()}var e=null;return t.render=function(t){var e=['<div id="_tooth-panel" class="pop-mask">','<div class="pop-panel">','<div class="pop-panel-head">',"恒牙牙位图",'<div id="_btn-close-panel" class="icons-close"></div>',"</div>","<p>",'<div id="_toothSelecter"  style="display:flex; flex-wrap:wrap; width:520px; height:80px;">','<div code="2" style="width:250px;">左上&nbsp',"<button>8</button>","<button>7</button>","<button>6</button>","<button>5</button>","<button>4</button>","<button>3</button>","<button>2</button>","<button>1</button>","</div>",'<div code="1" style="width:250px; text-align:right;">',"<button>1</button>","<button>2</button>","<button>3</button>","<button>4</button>","<button>5</button>","<button>6</button>","<button>7</button>","<button>8</button>","&nbsp右上</div>",'<div code="3" style="height:1px; width:100%; background:#000;">','<div style="position:relative; left:250px; top:-50px; width: 1px; height: 100px;background:#000;"></div></div>','<div code="3" style="width:250px;">左下&nbsp',"<button>8</button>","<button>7</button>","<button>6</button>","<button>5</button>","<button>4</button>","<button>3</button>","<button>2</button>","<button>1</button>","</div>",'<div code="4" style="width:250px; text-align:right;">',"<button>1</button>","<button>2</button>","<button>3</button>","<button>4</button>","<button>5</button>","<button>6</button>","<button>7</button>","<button>8</button>","&nbsp右下</div>","</div>","</p>",'<p style="display:flex; justify-content:right;">','<button class="pop-button" id="_btn-cancel">取消</button>','<button class="pop-button" id="_btn-comfirm" style="background:#1e6fff;color:#fff">确定</button>',"</p>","</div>","</div>"].join("");$("body").append(e),t&&$("#_toothSelecter").find("button").each((function(e,n){var r=n.parentElement.getAttribute("code")+n.textContent;0<=t.indexOf(r)&&(n.style.background="pink")})),$("#_toothSelecter").delegate("button","click",(function(t){""==t.target.style.background?t.target.style.background="pink":t.target.style.background=""}))},t.bindEvent=function(){$("#_btn-close-panel").click((function(t){$(".pop-mask").remove()})),$("#_btn-cancel").click((function(t){$(".pop-mask").remove()})),$("#_btn-comfirm").click((function(t){let n=[],r=($("#_toothSelecter").find("button").each((function(t,e){""!=e.style.background&&n.push(e.parentElement.getAttribute("code")+e.textContent)})),console.log(n),{1:[],2:[],3:[],4:[]}),o=(n.forEach((t=>{r[t.charAt(0)].push(t.charAt(1))})),['<text x="85" y="25" style="text-anchor: start">'+r[1]+"</text>",'<text x="75" y="25" style="text-anchor: end">'+r[2]+"</text>",'<text x="75" y="45" style="text-anchor: end">'+r[3]+"</text>",'<text x="85" y="45" style="text-anchor: start ">'+r[4]+"</text>",'<line x1="0" y1="30" x2="160" y2="30" style="stroke:rgb(0,0,0);stroke-width:2"></line>','<line x1="80" y1="0" x2="80" y2="60" style="stroke:rgb(0,0,0);stroke-width:2"></line>'].join(""));e?(e.style.verticalAlign="middle",e.setAttribute("type","tooth"),e.setAttribute("data",JSON.stringify(n)),e.innerHTML=o):(o='&nbsp;<svg xmlns="http://www.w3.org/2000/svg" version="1.1" style="width:160px; vertical-align:middle;" viewBox="0,0,160,60"  type="tooth" data="'+JSON.stringify(n).replaceAll('"',"&quot;")+'">'+o+"<svg>&nbsp;",editor.document.execCommand("insertHTML",!1,o)),$(".pop-mask").remove()}))},t.show=function(n){n?(n=(e=n).getAttribute("data"),t.render(JSON.parse(n))):(e=null,t.render()),t.bindEvent()},t}.apply(e,[]),void 0!==e&&(t.exports=e)},257:(t,e,n)=>{n=[n(846)],e=function(t){"use strict";var e=null,n=null;function r(){}function o(){n=document.getElementById("_printview").contentWindow;var r="@page {margin: 0; size:"+(e=new t).getPageType()+" "+e.getDirect()+";}",o=(n.document.getElementById("printSzie").innerHTML=r,r=e.getPageSize(),e.getPageHeightPx()-$$("#_header")[0].offsetHeight-$$("#_footer")[0].offsetHeight),a=(o=i(o,r),n.document.body.innerHTML=o,$(n.document.body).find(".pagebreaker").length);$(n.document.body).find('a[page="pageNum"]').each((function(t,e){$(e).html(t+1)})),$(n.document.body).find('a[page="pageTotal"]').each((function(t,e){$(e).html(a)})),$("#_totalPage").html("共"+a+"页")}var i=function(t,n){var r=0,o="",i='<div id="_print_page" style="position: relative; overflow:hidden; margin:0 auto; background:#fff;width:'+n.width+"mm;height:"+n.height+"mm;max-height:"+n.height+'mm;">\n',a=$$("#_header")[0].outerHTML+"\n",s='<div id = "_body" style="padding-left:'+$$("#_body")[0].style.paddingLeft+";padding-right:"+$$("#_body")[0].style.paddingRight+";min-height: calc("+n.height+"mm - "+$$("#_header")[0].offsetHeight+"px - "+$$("#_footer")[0].offsetHeight+'px);">\n',l=$$("#_footer")[0].outerHTML+"\n",c='<div class="pagebreaker">'+(d=$(editor.document.head).find("#printSzie"),n='<div style="z-index:1; position:relative; margin:auto;width:'+n.width+"mm; height:"+n.height+"mm; top:-"+n.height+"mm;",d.html("@page {margin:0; size:"+e.getPageType()+" "+e.getDirect()+"}"),(n=(n+='background:rgba(255,255,255,0.1); color:rgba(0,0,0,0.2); font-size:60px;">')+e.getPageType()+"</div>")+"</div>\n"),d=(o+=i+a+s,editor.document.getElementById("_body"));return function e(n){Array.from(n.children).forEach((n=>{let i=0;if(0<=["TABLE","TR","TD","P","DIV"].indexOf(n.tagName))i=n.offsetHeight;else if("svg"==n.tagName)i=n.clientHeight;else if("BR"==n.tagName){let t=getComputedStyle(n.parentElement).lineHeight;i="normal"==t?16:Number.parseInt(t.replace("px",""))}else 3==n.nodeType?i=Number.parseInt(getComputedStyle(n.parentElement).lineHeight.replace("px","")):1==n.nodeType&&(n.previousElementSibling&&n.offsetTop==n.previousElementSibling.offsetTop?n.offsetHeight>i&&(i=n.offsetHeight-i):i=n.offsetHeight);if(r+i>t)if("TABLE"==n.tagName){o+="<table"+f(n)+">";let t=p(n);t.colgroup&&(o+=t.colgroup.outerHTML),t.tbody&&e(t.tbody),o+="</table>"}else if(0<=["DIV","P"].indexOf(n.tagName))if(0==n.children.length)o+=u(n),r=n.offsetHeight,o+=n.outerHTML;else{let t=n.tagName.toLowerCase();o+="<"+t+f(n)+">",e(n),o+="</"+t+">"}else n.tagName,o+=u(n),r=n.offsetHeight,o+=n.outerHTML;else r+=i,o+=n.outerHTML}))}(d),o='<div id="_page">'+(o+="</div>"+l+"</div>"+c)+"<div>";function u(t){for(var e=[],n="",r="",o=t.parentNode;"_body"!=o.id;)e.push(o),n+="</"+o.tagName+">\n",o=o.parentNode;n+="</div>\n"+l+"</div>\n";for(var d,u=e.length-1;0<=u;u--)r+="<"+e[u].tagName+f(e[u])+">","TABLE"!=e[u].tagName||(d=p(e[u])).colgroup&&(r+=d.colgroup.outerHTML);return n+c+(i+a+s+r)}function f(t){let e="";for(let n=0;n<t.attributes.length;n++)e+=" "+t.attributes[n].name+'="'+t.attributes[n].value+'"';return e}function p(t){let e={};return Array.from(t.children).forEach((t=>{"TBODY"==t.tagName?e.tbody=t:"COLGROUP"==t.tagName&&(e.colgroup=t)})),e}};return r.print=function(){o(),n.print()},r.printView=function(){o(),$(n.document.body).find("#_page").css("transform-origin","50% 0 0").css("transform","scale("+editor.option.scale+","+editor.option.scale+")")},r.getPage=function(){return{pageSize:e.getPageType(),orientation:e.getDirect()}},r.getHtmlforPdf=function(){o();let t=n.document.documentElement.outerHTML;return(t=t.replaceAll("<input",'<img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciID4KPC9zdmc+"')).replace('<link id="_style-mode" rel="stylesheet" href="/stylesheets/preview.css">',"")},r}.apply(e,n),void 0!==e&&(t.exports=e)},879:(t,e,n)=>{n=[n(846)],e=function(t){function e(){}e.swithPageLine=function(t){editor.option.showPageLine=!editor.option.showPageLine,editor.option.showPageLine?(e.show(),e.bindResize(),t.classList.add("active"),editor.Toast("显示分页线")):(e.clear(),e.unbindResize(),t.classList.remove("active"),editor.Toast("隐藏分页线"))};const n=new ResizeObserver((t=>{e.clear(),e.show()}));var r,o,i;function a(t,e){var n=editor.document.querySelector("#_page"),r=editor.document.createElement("div");0==o?r.innerHTML="<span>页眉</span>":(r.innerHTML="<span>第"+o+"页 </span>",e&&(r.innerHTML+="<ft>页脚</ft>")),o+=1,r.classList.add("pageline"),"BR"!=t.tagName&&3!=t.nodeType||(t=t.parentElement),r.style.top=function(t){for(var e=0,n=0;"_page"!=t.id;)n+=t.offsetTop,e+=t.offsetLeft,t=t.offsetParent;return{x:e,y:n}}(t).y+"px",n.appendChild(r)}return e.bindResize=function(){var t=editor.document.getElementById("_header"),e=editor.document.getElementById("_body"),r=editor.document.getElementById("_footer");n.observe(t,{box:"border-box"}),n.observe(e,{box:"border-box"}),n.observe(r,{box:"border-box"})},e.unbindResize=function(){var t=editor.document.getElementById("_header"),r=editor.document.getElementById("_body"),o=editor.document.getElementById("_footer");n.unobserve(t),n.unobserve(r),n.unobserve(o),e.clear()},e.clear=function(){editor.document.querySelectorAll(".pageline").forEach((t=>{t.parentElement.removeChild(t)}))},e.show=function(){var e;0!=$$("#_header").length&&(r=(new t).getPageHeightPx()-$$("#_header")[0].offsetHeight-$$("#_footer")[0].offsetHeight,i=o=0,a(e=editor.document.getElementById("_body")),function t(e){if(0==e.children.length&&i+e.offsetHeight>r)return a(e),void(i=e.offsetHeight);Array.from(e.children).forEach((e=>{let n=0;if(0<=["TABLE","TR","TD","P","DIV"].indexOf(e.tagName))n=e.offsetHeight;else if("svg"==e.tagName)n=e.clientHeight;else if("BR"==e.tagName){let t=getComputedStyle(e.parentElement).lineHeight;n="normal"==t?16:Number.parseInt(t.replace("px",""))}else 3==e.nodeType?n=Number.parseInt(getComputedStyle(e.parentElement).lineHeight.replace("px","")):1==e.nodeType&&(e.previousElementSibling&&e.offsetTop==e.previousElementSibling.offsetTop?e.offsetHeight>n&&(n=e.offsetHeight-n):n=e.offsetHeight);i+n>r?"TABLE"==e.tagName?t(function(t){let e=null;return Array.from(t.children).forEach((t=>{"TBODY"==t.tagName&&(e=t)})),e}(e)):0<=["DIV","P"].indexOf(e.tagName)?t(e):(a(e),i=e.offsetHeight):i+=n}))}(e),$("#_totalPage").html("共"+o+"页"),a(editor.document.getElementById("_footer"),!0))},e}.apply(e,n),void 0!==e&&(t.exports=e)},596:(t,e)=>{e=function(){var t=null,e=null,n=null;function r(){}function o(r){r.target==n?(n.style.display="none",t.style.display="block",e.style.display="block",$$("#_body").removeClass("mask").attr("contenteditable",!0),$$("#_header").addClass("mask").attr("contenteditable",!1),$$("#_footer").addClass("mask").attr("contenteditable",!1)):r.target==t?(n.style.display="block",t.style.display="none",e.style.display="block",$$("#_body").addClass("mask").attr("contenteditable",!1),$$("#_header").removeClass("mask").attr("contenteditable",!0),$$("#_footer").addClass("mask").attr("contenteditable",!1)):r.target==e&&(n.style.display="block",t.style.display="block",e.style.display="none",$$("#_body").addClass("mask").attr("contenteditable",!1),$$("#_header").addClass("mask").attr("contenteditable",!1),$$("#_footer").removeClass("mask").attr("contenteditable",!0))}return r.clear=function(){editor.document.querySelectorAll("#_mask").forEach((t=>{t.parentElement.removeChild(t)})),$$("#_header").removeClass("mask").attr("contenteditable",!1).css("outline","none"),$$("#_footer").removeClass("mask").attr("contenteditable",!1).css("outline","none")},r.init=function(){t=r.addPageMask("header"),e=r.addPageMask("footer"),n=r.addBodyMask()},r.addPageMask=function(t){var e=editor.document.querySelector("#_header"),n=((e="footer"==t?editor.document.querySelector("#_footer"):e).classList.add("mask"),e.setAttribute("contenteditable",!1),e.style.position="relative",editor.document.createElement("div")),r=(n.id="_mask",n.classList.add("mask-div"),n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.width=e.offsetWidth+"px",n.style.height=e.offsetHeight+"px",editor.document.createElement("div")),i=(r.style.position="absolute","footer"==t?r.style.top=0:r.style.bottom=0,r.style.left="calc("+e.style.paddingLeft+" - 22px)",r.style.width="20px",r.style.height="20px",r.style.borderRightWidth="1px",r.style.borderRightStyle="solid",r.style.borderRightColor="black","footer"==t?(r.style.borderTopWidth="1px",r.style.borderTopStyle="solid",r.style.borderTopColor="black"):(r.style.borderBottomWidth="1px",r.style.borderBottomStyle="solid",r.style.borderBottomColor="black"),editor.document.createElement("div"));return i.style.position="absolute","footer"==t?i.style.top=0:i.style.bottom=0,i.style.right="calc("+e.style.paddingRight+" - 22px)",i.style.width="20px",i.style.height="20px",i.style.borderLeftWidth="1px",i.style.borderLeftStyle="solid",i.style.borderLeftColor="black","footer"==t?(i.style.borderTopWidth="1px",i.style.borderTopStyle="solid",i.style.borderTopColor="black"):(i.style.borderBottomWidth="1px",i.style.borderBottomStyle="solid",i.style.borderBottomColor="black"),n.appendChild(r),n.appendChild(i),e.appendChild(n),n.addEventListener("dblclick",o),n},r.addBodyMask=function(){var t=editor.document.querySelector("#_body"),e=(t.classList.remove("mask"),t.setAttribute("contenteditable",!0),editor.document.createElement("div"));return e.id="_mask",e.classList.add("mask-div"),e.style.position="absolute",e.style.display="none",e.style.top=0,e.style.left=0,e.style.width=t.offsetWidth+"px",e.style.height=t.offsetHeight+"px",t.appendChild(e),e.addEventListener("dblclick",o),e},r}.apply(e,[]),void 0!==e&&(t.exports=e)},846:(t,e)=>{e=function(){var t;function e(e){(t=this).settings=e,t.settings&&(t.headHeight=t.settings.HeaderDistance?t.settings.HeaderDistance+"cm":"0.65cm",t.footHeight=t.settings.FooterDistance?t.settings.FooterDistance+"cm":"0.65cm",t.paddingTop=t.settings.TopMargin?t.settings.TopMargin-t.settings.HeaderDistance+"cm":"0.65cm",t.paddingLeft=t.settings.LeftMargin?t.settings.LeftMargin+"cm":"0.65cm",t.paddingRight=t.settings.RightMargin?t.settings.RightMargin+"cm":"0.65cm",t.paddingBottom=t.settings.BottomMargin?t.settings.BottomMargin-t.settings.FooterDistance+"cm":"0.65cm")}e.prototype.getDirect=function(){return t.settings?"true"==t.settings.Landscape?"landscape":"portrait":$$("#_page").attr("direct")},e.prototype.getPageType=function(){return t.settings?t.settings.PaperKind||"A4":$$("#_page").attr("pageKind")||"A4"};const n={A0:[841,1189],A1:[594,841],A2:[420,594],A3:[297,420],A4:[210,297],A4Extra:[210,297],Executive:[210,297],A5:[148,210],A6:[105,148],A7:[74,105],A8:[52,74],A9:[37,52],A10:[26,37],B0:[1e3,1414],B1:[707,1e3],B2:[500,707],B3:[353,500],B4:[250,353],B5:[176,250],B6:[125,176],B7:[88,125],B8:[62,88],B9:[44,62],B10:[31,44],C0:[917,1297],C1:[648,917],C2:[458,648],C3:[324,458],C4:[229,324],C5:[162,229],C6:[114,162],C7:[81,114],C8:[57,81],C9:[40,57],C10:[28,40],Custom:[210,297]};return e.prototype.getPageSize=function(){var e=t.getPageType();return e=n[e],"landscape"==t.getDirect()?{width:e[1],height:e[0]}:{width:e[0],height:e[1]}},e.prototype.getPageHeightPx=function(){return Math.round(3.7795*t.getPageSize().height)},e}.apply(e,[]),void 0!==e&&(t.exports=e)},410:(t,e,n)=>{n=[n(846)],e=function(t){function e(){this.render(),this.bindEvent()}return e.render=function(){var t=['<div id="_page-setting-panel" class="pop-mask">','<div class="pop-panel">','<div class="pop-panel-head">',"页面设置",'<div id="_btn-close-panel" class="icons-close"></div>',"</div>","<p>",'<label style="display:inline-block; width:100px">纸张方向</label>','<input type="radio" name="_page-direct" id="_portrait" value="portrait"><label for="_portrait">纵向&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label></input>','<input type="radio" name="_page-direct" id="_landscape" value="landscape"><label for="_landscape">横向</label></input>',"</p>","<p>",'<label style="display:inline-block; width:100px">纸张尺寸</label>','<select id="_page-kind">','<option value="A4">A4:&nbsp;&nbsp;(210cm*297cm)</option>','<option value="A5">A5:&nbsp;&nbsp;(148cm*210cm)</option>','<option value="B3">B3:&nbsp;&nbsp;(353cm*500cm)</option>','<option value="B4">B4:&nbsp;&nbsp;(250cm*353cm)</option>','<option value="B5">B5:&nbsp;&nbsp;(176cm*250cm)</option>','<option value="A3">A3:&nbsp;&nbsp;(297cm*420cm)</option>',"</select>","</p>","<p>",'<label style="display:inline-block; width:100px">页边距</label>','<select id="_page-margin">','<option value="0">自定义</option>','<option value="1.54">普通:&nbsp;&nbsp;1.54cm</option>','<option value="0.65">较窄:&nbsp;&nbsp;0.65cm</option>','<option value="1.27">适中:&nbsp;&nbsp;1.27cm</option>','<option value="2.54">较宽:&nbsp;&nbsp;2.54cm</option>',"</select>","</p>",'<p style="padding-left:160px">','上:<input type="number" min=0 max=5 step=0.1 id="margin-top">厘米',"</p>",'<p style="padding-left:100px">','左:<input type="number" min=0 max=5 step=0.1 id="margin-left">厘米','&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;右:<input type="number" min=0 max=5 step=0.1 id="margin-right">厘米',"</p>",'<p style="padding-left:160px">','下:<input type="number"  min=0 max=5 step=0.1 id="margin-bottom">厘米',"</p>","<p>",'<label style="display:inline-block; width:100px">页眉高度</label>','<input type="number" min=0 max=5 step=0.1 id="header-distance">厘米',"</p>","<p>",'<label style="display:inline-block; width:100px">页脚高度</label>','<input type="number" min=0 max=5 step=0.1 id="footer-distance">厘米',"</p>",'<p style="display:flex; justify-content:right;">','<button class="pop-button" id="_btn-cancel">取消</button>','<button class="pop-button" id="_btn-comfirm" style="background:#1e6fff;color:#fff">确定</button>',"</p>","</div>","</div>"].join("");$("body").append(t),("landscape"==$$("#_page").attr("direct")?$("#_landscape"):$("#_portrait")).prop("checked","checked"),t=$$("#_page").attr("pageKind"),$('#_page-kind option[value="'+t+'"]').prop("selected",!0),$("#margin-top").val($$("#_header")[0].style.paddingTop.replace("cm","")),$("#margin-left").val($$("#_body")[0].style.paddingLeft.replace("cm","")),$("#margin-right").val($$("#_body")[0].style.paddingRight.replace("cm","")),$("#margin-bottom").val($$("#_footer")[0].style.paddingBottom.replace("cm","")),$("#header-distance").val($$("#_header")[0].style.minHeight.replace("cm","")),$("#footer-distance").val($$("#_footer")[0].style.minHeight.replace("cm",""))},e.bindEvent=function(){$("#_btn-close-panel").click((function(t){$(".pop-mask").remove()})),$("#_btn-cancel").click((function(t){$(".pop-mask").remove()})),$("#_page-margin").change((function(){var t=$("#_page-margin option:selected").val();$("#margin-top").val(t/2),$("#margin-bottom").val(t/2),$("#margin-left").val(t),$("#margin-right").val(t),$("#header-distance").val(t),$("#footer-distance").val(t)})),$("#_btn-comfirm").click((function(e){var n=$("#_page-kind option:selected").val(),r=$('input[name="_page-direct"]:checked').val();$$("#_page").attr("pageKind",n),$$("#_page").attr("direct",r),n=(new t).getPageSize(),$$("#_page")[0].style.width=n.width+"mm",$$("#_page")[0].style.minHeight=n.height+"mm",$$("#_header")[0].style.paddingTop=$("#margin-top").val()+"cm",$$("#_header")[0].style.paddingLeft=$("#margin-left").val()+"cm",$$("#_header")[0].style.paddingRight=$("#margin-right").val()+"cm",$$("#_header")[0].style.minHeight=$("#header-distance").val()+"cm",$$("#_body")[0].style.paddingLeft=$("#margin-left").val()+"cm",$$("#_body")[0].style.paddingRight=$("#margin-right").val()+"cm",$$("#_footer")[0].style.paddingLeft=$("#margin-left").val()+"cm",$$("#_footer")[0].style.paddingRight=$("#margin-right").val()+"cm",$$("#_footer")[0].style.paddingBottom=$("#margin-bottom").val()+"cm",$$("#_footer")[0].style.minHeight=$("#footer-distance").val()+"cm",r="calc("+n.height+"mm - "+$$("#_header")[0].style.minHeight+" - "+$$("#_footer")[0].style.minHeight+" - "+$$("#_header")[0].style.paddingTop+" - "+$$("#_footer")[0].style.paddingBottom+")",$$("#_body")[0].style.minHeight=r,editor.setMode(editor.option.mode),$(".pop-mask").remove()}))},e.show=function(){e.render(),e.bindEvent()},e}.apply(e,n),void 0!==e&&(t.exports=e)},36:(t,e)=>{e=function(){var t={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var n,r,o,i,a,s,l="",c=0;for(e=t._utf8_encode(e);c<e.length;)o=(n=e.charCodeAt(c++))>>2,i=(3&n)<<4|(n=e.charCodeAt(c++))>>4,a=(15&n)<<2|(r=e.charCodeAt(c++))>>6,s=63&r,isNaN(n)?a=s=64:isNaN(r)&&(s=64),l=l+this._keyStr.charAt(o)+this._keyStr.charAt(i)+this._keyStr.charAt(a)+this._keyStr.charAt(s);return l},decode:function(e){var n,r,o,i,a,s,l="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)o=this._keyStr.indexOf(e.charAt(c++)),n=(15&(i=this._keyStr.indexOf(e.charAt(c++))))<<4|(a=this._keyStr.indexOf(e.charAt(c++)))>>2,r=(3&a)<<6|(s=this._keyStr.indexOf(e.charAt(c++))),l+=String.fromCharCode(o<<2|i>>4),64!=a&&(l+=String.fromCharCode(n)),64!=s&&(l+=String.fromCharCode(r));return t._utf8_decode(l)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):e=127<r&&r<2048?(e+=String.fromCharCode(r>>6|192))+String.fromCharCode(63&r|128):(e=(e+=String.fromCharCode(r>>12|224))+String.fromCharCode(r>>6&63|128))+String.fromCharCode(63&r|128)}return e},_utf8_decode:function(t){for(var e,n,r,o="",i=0;i<t.length;)(e=t.charCodeAt(i))<128?(o+=String.fromCharCode(e),i++):191<e&&e<224?(n=t.charCodeAt(i+1),o+=String.fromCharCode((31&e)<<6|63&n),i+=2):(n=t.charCodeAt(i+1),r=t.charCodeAt(i+2),o+=String.fromCharCode((15&e)<<12|(63&n)<<6|63&r),i+=3);return o}};return t}.apply(e,[]),void 0!==e&&(t.exports=e)},411:()=>{var t;window.browser=-1<(t=navigator.userAgent).indexOf("Opera")?"Opera":-1<t.indexOf("Firefox")?"Firefox":-1<t.indexOf("Chrome")?"Chrome":-1<t.indexOf("Safari")?"Safari":window.ActiveXObject||"ActiveXObject"in window?"IE":void 0,String.prototype.replaceAll||(String.prototype.replaceAll=function(t,e){return this.replace(new RegExp(t,"gm"),e)});try{new window.CustomEvent("T")}catch(t){function e(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}},42:(t,e)=>{e=function(){function t(){}function e(t){return 3!=t.nodeType&&0<t.childNodes.length?e(t.childNodes[0]):t}t.setFont=function(e){var n={};"bold"==e?n["font-weight"]="bold":"italic"==e?n["font-style"]="italic":"line-through"==e?n["text-decoration"]="line-through":"underline"==e&&(n["text-decoration"]="underline"),t.setSelectionFont(n)},t.setSelectionFont=function(t){var n=editor.contentWindow.getSelection();if("Range"==n.type)for(var o,i,a,s,l,c,d,u,f=n.getRangeAt(0),p=[],h=!1,g=(function t(e,n){if(3==e.nodeType)n[n.length]=e;else if(e.childNodes)for(var r=e.childNodes,o=0;o<r.length;o++)t(r[o],n)}(f.commonAncestorContainer,p),e(f.startContainer)),m=e(f.endContainer),v=0;v<p.length;v++)p[v]==g?(h=!0,i=a=d=l=u=c=o=s=void 0,o=f,c=t,u=(s=p[v]).parentNode,o.startContainer==o.endContainer?0==o.startOffset&&o.endOffset==s.textContent.length?r(s,c):(l=s.textContent.slice(0,o.startOffset),d=s.textContent.slice(o.startOffset,o.endOffset),a=s.textContent.slice(o.endOffset),s.textContent=l,r(i=editor.document.createElement("span"),c),i.textContent=d,u.appendChild(i),u.appendChild(editor.document.createTextNode(a)),o.setStart(i,0),o.setEndAfter(i)):0==o.startOffset?r(s,c):(l=s.textContent.slice(0,o.startOffset),d=s.textContent.slice(o.startOffset),s.textContent=l,r(i=editor.document.createElement("span"),c),i.textContent=d,u.appendChild(i),o.setStart(i,0))):h&&(p[v]==m?(u=d=c=l=s=a=void 0,a=p[v],l=t,(s=f).endOffset==a.textContent.length?r(a,l):(c=a.textContent.slice(0,s.endOffset),d=a.textContent.slice(s.endOffset),r(u=editor.document.createElement("span"),l),u.textContent=c,a.textContent=d,a.parentNode.insertBefore(u,a),s.setEndAfter(u)),h=!1):r(p[v],t))},t.convertFontSize=function(t){for(var e=t.replace("px",""),r=0;r<n.length;r++)if(e>=n[r][0])return n[r][1];return t},t.getFontSize=function(t){for(var e=0;e<n.length;e++)if(t==n[e][1])return n[e][0]+"px";return t+"px"};const n=[[42,"初号"],[36,"小初"],[26,"一号"],[24,"小一"],[22,"二号"],[18,"小二"],[16,"三号"],[15,"小三"],[14,"四号"],[12,"小四"]];function r(t,e){if(1==t.nodeType)for(var n in e)t.style[n]==e[n]?t.style[n]=null:t.style[n]=e[n];else 3==t.nodeType&&r(t.parentNode,e)}return t}.apply(e,[]),void 0!==e&&(t.exports=e)},664:(t,e)=>{e=function(){function t(){this.emrdata={}}t.prototype.parse=function(){var t=editor.document.getElementById("_page");return t&&e(t).forEach((t=>{"_header"==t.id?this.emrdata.header=t:"_body"==t.id?this.emrdata.body=t:"_footer"==t.id&&(this.emrdata.footer=t)})),{page:this.emrdata}};var e=function(t){for(var e=[],r=t.childNodes,o=0;o<r.length;o++)"_mask"!=r[o].id&&(e[e.length]=n(r[o]));return e},n=function(t){var n={};return"3"==t.nodeType?(n.type="String",n.Text=t.nodeValue,t.orginText&&(n.orginText=t.orginText,n.author=t.author)):"1"==t.nodeType&&(n.id=t.id,n.type=t.nodeName,r(t,n),"INPUT"==t.nodeName?o(t,n):"A"==t.nodeName?i(t,n):"COL"==t.nodeName?n.width=t.style.width:"TR"==t.nodeName?n.height=t.style.height:"IMG"==t.nodeName?(n.width=t.style.width,n.height=t.style.height,n.src=t.src):"TD"==t.nodeName&&(1<t.colSpan&&(n.ColSpan=t.colSpan),1<t.rowSpan&&(n.rowSpan=t.rowSpan)),(t=e(t))&&t.length&&(n.elements=t)),n},r=function(t,e){t.attributes.style&&(e.style=t.attributes.style.value),t.attributes.tag&&(e.tag=t.attributes.tag.value)},o=function(t,e){"text"==t.type?(e.type="A",e.ID=t.id,e.Name=t.name,e.placeholder=t.placeholder,e.value=t.value):"radio"==t.type?(e.type="radio",e.ID=t.id,e.Name=t.name,e.value=t.value,e.checked=t.checked):"checkbox"==t.type&&(e.type="checkbox",e.ID=t.id,e.Name=t.name,e.value=t.value,e.checked=t.checked)},i=function(t,e){e.type="A";var n=t.attributes.type?t.attributes.type.value:"";if("DropdownList"==(e.inputType=n)){e.FieldSettings={EditStyle:"DropdownList"},t.attributes.multi&&(e.FieldSettings.MultiSelect=t.attributes.multi.value);try{var r=t.attributes.data.value;e.FieldSettings.ListSource={items:JSON.parse(r)},e.value=t.attributes.value.value}catch(t){}}else"DateTime"==n?(e.DisplayFormat={Style:"DateTime",Format:t.attributes.format.value},t.className.indexOf("blank")<0&&(e.value=t.textContent)):"Text"==n?(t.attributes.validate&&"true"==t.attributes.validate.value&&(e.ValidateStyle={Required:"true"}),t.className.indexOf("blank")<0&&(e.value=t.textContent)):"pageTotal"==(r=t.attributes.page?t.attributes.page.value:"")?(e.type="Page",e.ValueType="NumOfPages"):"pageNum"==r&&(e.type="Page");return e.ID=t.id,e.Name=t.name,t.attributes.event&&(e.DefaultEventExpression=t.attributes.event.value),t.attributes.placeholder&&(e.placeholder=t.attributes.placeholder.value),e};return t}.apply(e,[]),void 0!==e&&(t.exports=e)},880:(t,e,n)=>{n=[n(846)],e=function(t){"use strict";var e=null;function n(){(e=this).page="",e.pageOption=null,e._styleArray=[],e.renderHead()}return n.prototype.renderHead=function(){var t=['<meta http-equiv="content-type" content="text/html; charset=UTF-8">','<link id="_style-mode" rel="stylesheet" href="/stylesheets/design.css">','<script src = "'+(t=editor.option.baseUrl)+'/vender/jquery/jquery.js"><\/script>','<script src = "'+t+'/vender/date97/WdatePicker.js"><\/script>','<script src = "'+t+'/js/loader.js"><\/script>'].join("\n");$(editor.document.head).html(t),t=['<style id="printSzie" type="text/css">',"@page {margin: 0; size:A4 portrait;}","</style>\n"].join("\n"),$(editor.document.head).append(t)},n.prototype.renderByJson=function(n){e.emrdata=n,e.page="",e.pageOption=new t(e.emrdata.pageSettings),e.buildStyleArray(),e.renderPage(),$(editor.document.body).html(e.page),$(editor.document.body).css("padding-left",""),editor.document.title||(editor.document.title=e.getTitle())},n.prototype.getTitle=function(){var t=[];return function t(e,n){if(!(0<n.length))if(3==e.nodeType&&0<e.nodeValue.trim().length)n[n.length]=e.nodeValue.trim();else if(e.childNodes)for(var r=e.childNodes,o=0;o<r.length;o++)t(r[o],n)}(editor.document.body,t),t[0]},n.prototype.buildStyleArray=function(){var t;e.emrdata.fonts&&(t=0,e.emrdata.fonts.forEach((function(n){var r="";n.Font&&(r+=" font-family: "+n.Font+";"),n.FontSize&&(r+=" font-size: "+n.FontSize+"pt;"),n.Color&&(r+=" color: "+n.Color+";"),n.Bold&&(r+=" font-weight: bold;"),"true"==n.Underline&&(r+=" text-decoration: underline;"),n.Align&&(r+=" text-align: "+n.Align+";"),n.FirstLineIndent,n.LeftIndent,n.PaddingLeft&&(r+="padding-left:"+n.PaddingLeft/4+"pt;"),n.PaddingRight&&(r+="padding-right:"+n.PaddingRight/4+"pt;"),n.DeleterIndex&&(r+="text-decoration: line-through; text-decoration-color: #FF7F50;"),n.CreatorIndex&&(r+="text-decoration: underline; text-decoration-color: #ADD8E6;"),e._styleArray[t]=r,t++})))},n.prototype.renderPage=function(){var t=e.pageOption.getPageSize();e.page+='\n<div id="_page" style="margin:0 auto; background:#fff;width:'+t.width+"mm;min-height:"+t.height+'mm;" pageKind="'+e.pageOption.getPageType()+'" direct="'+e.pageOption.getDirect()+'" >',e.emrdata&&(e.page+='\n<div id="_header" style="outline:none;min-height:'+e.pageOption.headHeight+";padding-left:"+e.pageOption.paddingLeft+";padding-right:"+e.pageOption.paddingRight+";padding-top:"+e.pageOption.paddingTop+';">',e.renderElements(e.emrdata.header.elements),e.page+="\n</div>\n",e.page+='\n<div id = "_body" style="outline:none;min-height: calc('+t.height+"mm - "+e.pageOption.paddingTop+" - "+e.pageOption.paddingBottom+" - "+e.pageOption.headHeight+" - "+e.pageOption.footHeight+");padding-left:"+e.pageOption.paddingLeft+";padding-right:"+e.pageOption.paddingRight+';">',e.renderElements(e.emrdata.body.elements),e.page+="\n</div>\n",e.page+='\n<div id = "_footer" style="outline:none; position:relative;min-height:'+e.pageOption.footHeight+";padding-left:"+e.pageOption.paddingLeft+";padding-right:"+e.pageOption.paddingRight+";padding-bottom:"+e.pageOption.paddingBottom+';">',e.renderElements(e.emrdata.footer.elements),e.page+="\n</div>\n"),e.page+="\n</div>\n"},n.prototype.renderElements=function(t){if(t)for(var n=0;n<t.length;n++){var r=t[n];"String"==r.type?e.renderText(r):"SPAN"==r.type?e.renderSpan(r):"XTextLabelElement"==r.type?e.renderTextLabel(r):"HR"==r.type?e.page+="<hr>":"BR"==r.type?e.page+="<br>":"NewBarcode"==r.type?e.renderBarCode(r):"P"==r.type?e.renderParagraph(r):"A"==r.type?e.renderInputField(r):"radio"==r.type?e.renderRadio(r):"checkbox"==r.type?(e.renderCheckBox(r),t[n+1]&&"object"==typeof t[n+1]&&(t[n+1].for=r.ID)):"XImage"==r.type?e.renderXImage(r):"IMG"==r.type?e.renderImage(r):"TABLE"==r.type?(e.renderTable(r),e.page+="<p>"):"Page"==r.type?e.renderPageInfo(r):e.renderTag(r)}},n.prototype.renderTag=function(t){var n;t.type&&(n=t.for?' for="'+t.for+'" ':"",e.page+="\n\t\t<"+t.type+n+e.classToStyle(t)+">",e.renderElements(t.elements),e.page+="</"+t.type+">")},n.prototype.renderBarCode=function(t){var n=t.class?' class="'+t.class+'" ':"";n+=' style="width:'+t.Width/100+"cm; height:"+t.Height/100+'cm;" ',t=' code="'+t.Text+'"',e.page+="\n\t\t<img "+n+t+"/>"},n.prototype.classToStyle=function(t){var n=t.style||"";return"false"==t.Visible&&(n+=" display: none;"),' style="'+(t.class?e._styleArray[t.class.replaceAll("c","")]:"")+n+'"'},n.prototype.renderParagraph=function(t){e.page+="\n\t<p "+e.classToStyle(t)+">",e.renderElements(t.elements)},n.prototype.renderText=function(t){var n,r=t.Text.replaceAll(" ","&ensp;");t.class?(n=t.for?'for="'+t.for+'" ':"",e.page+="\n\t\t<label "+n+e.classToStyle(t)+">"+r+"</label>"):t.orginText?e.page+='\n\t\t<span orgin="'+t.orginText+'">'+r+"</span>":e.page+=r},n.prototype.renderSpan=function(t){var n=t.tag?' tag="'+t.tag+'"':"";e.page+="\n\t\t<span "+e.classToStyle(t)+n+">",e.renderElements(t.elements),e.page+="</span>"},n.prototype.renderTextLabel=function(t){e.page+='\n\t\t<label class="'+t.class+'">'+t.Text+"</label>"},n.prototype.renderInputField=function(t){var n,r,o,i,a=t.ID?' id="'+t.ID+'" ':"",s=t.Name?' name="'+t.Name+'" ':"",l="string"==typeof t.value?t.value:"",c=' class="'+(l?"":"blank")+' input"',d=e.classToStyle(t),u=t.placeholder||"",f="",p="",h=t.ValidateStyle&&"true"==t.ValidateStyle.Required?' validate="true"':"";"DateTime"==t.inputType||t.DisplayFormat&&"DateTime"==t.DisplayFormat.Style?(i=a+s+f+(p=' type="DateTime" ')+' format="'+t.DisplayFormat.Format+'"'+h+' value="'+(l=t.DisplayFormat.Format&&l?new Date(l).toLocaleDateString():l)+'" placeholder="'+u+'"',e.page+='<a tabindex="0" '+c+d+i+">"+(l||u)+"</a>"):"DropdownList"==t.inputType||t.FieldSettings&&"DropdownList"==t.FieldSettings.EditStyle?(p=' type="DropdownList" ',u=t.value||"",t.FieldSettings.ListSource&&t.FieldSettings.ListSource.items&&(n=[],t.FieldSettings.ListSource.items.forEach((function(t){"string"==typeof t.Text&&n.push({Text:t.Text,Value:t.Value})})),p+=" data ="+JSON.stringify(n),t.value&&"string"==typeof t.value?(r=t.value.toString().split("、"),o=0,(r=1==r.length?t.value.toString().split(","):r).forEach((function(t){n.forEach((function(e){e.Value==t&&(0==o?u=e.Text:u+="、"+e.Text,o++)}))}))):u=n[0].Text),""==u&&(u=t.placeholder||"&nbsp"),i=a+s+c+d+f+p+h+(t.FieldSettings.MultiSelect&&"true"==t.FieldSettings.MultiSelect?' multi="true"':"")+(t.DefaultEventExpression?' event="'+t.DefaultEventExpression+'"':"")+' value="'+l+'" placeholder="'+u+'"',e.page+='\n\t\t<a tabindex="0" '+i+">"+u+"</a>"):(i=a+s+c+d+(f=' contenteditable="true" ')+(p=' type="Text" ')+h+' value="'+l+'" placeholder="'+u+'"',e.page+='\n\t\t<a tabindex="0" '+i+">",t.elements&&0<t.elements.length?e.renderElements(t.elements):e.page+=l||u,e.page+="</a>")},n.prototype.renderRadio=function(t){var n=t.ID?' id="'+t.ID+'" ':"",r=t.Name?' name="'+t.Name+'" ':"",o=t.value?' value="'+t.value+'"':"";t=t.checked?" checked":"",e.page+='\n\t\t<input type="radio" '+n+r+t+o+"/>"},n.prototype.renderCheckBox=function(t){var n=t.ID?' id="'+t.ID+'" ':"",r=t.Name?' name="'+t.Name+'" ':"";t=t.checked?" checked":"",e.page+='\n\t\t<input type="checkbox" '+n+r+t+"/>"},n.prototype.renderXImage=function(t){var n="width:"+t.Width/100+"cm;",r="height:"+t.Height/100+"cm;";t=' src="data:image/png;base64,'+t.Image.ImageDataBase64String+'"',e.page+='\n\t\t<image  style="'+n+r+'" '+t+"/>"},n.prototype.renderImage=function(t){var n="width:"+t.width+";",r="height:"+t.height+";";t=' src="'+t.src+'"',e.page+='\n\t\t<image  style="'+n+r+'" '+t+"/>"},n.prototype.renderPageInfo=function(t){"NumOfPages"==t.ValueType?e.page+='\n\t\t<a page="pageTotal" style="font-size:10pt">1</a>':e.page+='\n\t\t<a page="pageNum" style="font-size:10pt">1</a>'},n.prototype.renderTable=function(t){e.page+="\n\t\t<table"+e.classToStyle(t)+">",t.colgroup&&(e.page+="\n\t\t<colgroup>",t.colgroup.forEach((function(t){e.page+='\n\t\t<col style="width:'+Math.floor(t.Width/3)+'px">'})),e.page+="\n\t\t</colgroup>"),t.elements&&t.elements.forEach((function(t){"TR"==t.type?e.renderTableRow(t):"TBODY"==t.type||"THEAD"==t.type?e.renderTableBody(t):"COLGROUP"==t.type&&e.renderTableColgroup(t)})),e.page+="\n\t\t</table>"},n.prototype.renderTableColgroup=function(t){e.page+="\n\t\t<colgroup>",t.elements&&t.elements.forEach((function(t){"COL"==t.type&&(e.page+='<col style="width:'+t.width+'">')})),e.page+="\n\t\t</colgroup>"},n.prototype.renderTableBody=function(t){e.page+="\n\t\t<tbody>",t.elements.forEach((function(t){"TR"==t.type&&e.renderTableRow(t)})),e.page+="\n\t\t</tbody>"},n.prototype.renderTableRow=function(t){var n=t.style?' style="'+t.style+'" ':"",r=t.SpecifyHeight?' style="height:'+t.SpecifyHeight/118+'cm"':"";if(t.height&&(r=' style="height:'+t.height+'"'),e.page+="\n\t\t<tr "+n+r+">",t.elements)for(var o=0;o<t.elements.length;o++)"XTD"==t.elements[o].type?(e.renderTableCell(t.elements[o]),t.elements[o].ColSpan&&(o+=Number(t.elements[o].ColSpan)-1)):"TD"!=t.elements[o].type&&"TH"!=t.elements[o].type||e.renderTableCell(t.elements[o]);e.page+="\n\t\t</tr>"},n.prototype.renderTableCell=function(t){var n=e.classToStyle(t);t.ColSpan&&(n+=" colspan="+t.ColSpan),t.rowSpan&&(n+=" rowspan="+t.rowSpan),e.page+="\n\t\t\t<td "+n+">",e.renderElements(t.elements),e.page+="</td>"},n}.apply(e,n),void 0!==e&&(t.exports=e)},61:(t,e)=>{e=function(){var t={attributes_key:!1,header:!1};return function e(n,r){"use strict";r?Object.keys(t).forEach((function(e){void 0===r[e]&&(r[e]=t[e])})):r=t;var o=r.header?'<?xml version="1.0" encoding="UTF-8"?>':"";if(r.header=!1,n.length&&"string"!=typeof n)n.forEach((function(t){o+=e(t,r)}));else{if("object"!=typeof n)return n.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");Object.keys(n).forEach((function(t){var i,a,s;t!==r.attributes_key&&(i=n[t],a="",null==i&&(i=""),r.attributes_key&&n[r.attributes_key]&&Object.keys(n[r.attributes_key]).forEach((function(t){a+=" "+t+'="'+n[r.attributes_key][t]+'"'})),s=e(i,r),o+=s?"<"+t+a+">"+e(i,r)+"</"+t+">\n":"<"+t+a+"/>\n")}))}return o}}.apply(e,[]),void 0!==e&&(t.exports=e)},151:()=>{function t(r){var o;return(n[r]||(o=n[r]={i:r,l:!1,exports:{}},e[r].call(o.exports,o,o.exports,t),o.l=!0,o)).exports}var e,n;e=[function(t,e,n){"use strict";var r=f(n(1)),o=f(n(36)),i=f(n(37)),a=f(n(38)),s=f(n(39)),l=f(n(41)),c=f(n(49)),d=n(48),u=f(n(42));function f(t){return t&&t.__esModule?t:{default:t}}function p(){}function h(t,e,n){var r=new p;if(void 0===t)throw Error("No element to render on was provided.");return r._renderProperties=(0,s.default)(t),r._encodings=[],r._options=u.default,r._errorHandler=new c.default(r),void 0!==e&&((n=n||{}).format||(n.format=v()),r.options(n)[n.format](e,n).render()),r}for(var g in h.getModule=function(t){return r.default[t]},r.default)r.default.hasOwnProperty(g)&&function(t,e){p.prototype[e]=p.prototype[e.toUpperCase()]=p.prototype[e.toLowerCase()]=function(n,r){var i=this;return i._errorHandler.wrapBarcodeCall((function(){r.text=void 0===r.text?void 0:""+r.text;var a=(0,o.default)(i._options,r),s=(a=(0,l.default)(a),t[e]);return s=m(n,s,a),i._encodings.push(s),i}))}}(r.default,g);function m(t,e,n){if(!(e=new e(t=""+t,n)).valid())throw new d.InvalidInputException(e.constructor.name,t);for(var r=e.encode(),a=(r=(0,i.default)(r),0);a<r.length;a++)r[a].options=(0,o.default)(n,r[a].options);return r}function v(){return r.default.CODE128?"CODE128":Object.keys(r.default)[0]}function b(t,e,n){e=(0,i.default)(e);for(var r=0;r<e.length;r++)e[r].options=(0,o.default)(n,e[r].options),(0,a.default)(e[r].options);(0,a.default)(n),new t.renderer(t.element,e,n).render(),t.afterRender&&t.afterRender()}p.prototype.options=function(t){return this._options=(0,o.default)(this._options,t),this},p.prototype.blank=function(t){return t=new Array(t+1).join("0"),this._encodings.push({data:t}),this},p.prototype.init=function(){if(this._renderProperties)for(var t in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var e=this._renderProperties[t],n=(0,o.default)(this._options,e.options);"auto"==n.format&&(n.format=v()),this._errorHandler.wrapBarcodeCall((function(){var t=m(n.value,r.default[n.format.toUpperCase()],n);b(e,t,n)}))}},p.prototype.render=function(){if(!this._renderProperties)throw new d.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)b(this._renderProperties[t],this._encodings,this._options);else b(this._renderProperties,this._encodings,this._options);return this},p.prototype._defaults=u.default,"undefined"!=typeof window&&(window.JsBarcode=h),"undefined"!=typeof jQuery&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each((function(){n.push(this)})),h(n,t,e)}),t.exports=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(4),i=n(12),a=n(22),s=n(26),l=n(33),c=n(34);n=n(35),e.default={CODE39:r.CODE39,CODE128:o.CODE128,CODE128A:o.CODE128A,CODE128B:o.CODE128B,CODE128C:o.CODE128C,EAN13:i.EAN13,EAN8:i.EAN8,EAN5:i.EAN5,EAN2:i.EAN2,UPC:i.UPC,UPCE:i.UPCE,ITF14:a.ITF14,ITF:a.ITF,MSI:s.MSI,MSI10:s.MSI10,MSI11:s.MSI11,MSI1010:s.MSI1010,MSI1110:s.MSI1110,pharmacode:l.pharmacode,codabar:c.codabar,GenericBarcode:n.GenericBarcode}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CODE39=void 0;var r=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");t=t.toUpperCase(),e.mod43&&(t+=(r=function(t){for(var e=0,n=0;n<t.length;n++)e+=l(t[n]);return e%43}(t),i[r]));var r=this;if(t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e),r)return!t||"object"!=typeof t&&"function"!=typeof t?r:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),r(n,[{key:"encode",value:function(){for(var t=s("*"),e=0;e<this.data.length;e++)t+=s(this.data[e])+"0";return{data:t+=s("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),n}(((n=n=n(3))&&n.__esModule?n:{default:n}).default);var i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],a=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function s(t){return t=l(t),a[t].toString(2)}function l(t){return i.indexOf(t)}e.CODE39=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e,n){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.data=e,this.text=n.text||e,this.options=n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CODE128C=e.CODE128B=e.CODE128A=e.CODE128=void 0;var r=a(n(5)),o=a(n(9)),i=a(n(10));function a(t){return t&&t.__esModule?t:{default:t}}n=a(n(11)),e.CODE128=r.default,e.CODE128A=o.default,e.CODE128B=i.default,e.CODE128C=n.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(6)),o=i(n(8));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(this instanceof n)return t=/^[\x00-\x7F\xC8-\xD3]+$/.test(t)?a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,(0,o.default)(t),e)):a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e)),a(t);throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n}(r.default),e.default=n},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0});var o=(o=o=n(3))&&o.__esModule?o:{default:o},i=n(7);n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(this instanceof n)return(e=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t.substring(1),e))).bytes=t.split("").map((function(t){return t.charCodeAt(0)})),e;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(n,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var t=this.bytes,e=t.shift()-105,r=i.SET_BY_CODE[e];if(void 0===r)throw new RangeError("The encoding does not start with a start character.");return!0===this.shouldEncodeAsEan128()&&t.unshift(i.FNC1),t=n.next(t,1,r),{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:n.getBar(e)+t.result+n.getBar((t.checksum+e)%i.MODULO)+n.getBar(i.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var t=this.options.ean128||!1;return"string"==typeof t?"true"===t.toLowerCase():t}}],[{key:"getBar",value:function(t){return i.BARS[t]?i.BARS[t].toString():""}},{key:"correctIndex",value:function(t,e){var n;return e===i.SET_A?(n=t.shift())<32?n+64:n-32:e===i.SET_B?t.shift()-32:10*(t.shift()-48)+t.shift()-48}},{key:"next",value:function(t,e,r){var o,a,s;return t.length?(o=void 0,s=200<=t[0]?(o=t.shift()-105,void 0!==(a=i.SWAP[o])?n.next(t,e+1,a):(r!==i.SET_A&&r!==i.SET_B||o!==i.SHIFT||(t[0]=r===i.SET_A?95<t[0]?t[0]-96:t[0]:t[0]<32?t[0]+96:t[0]),n.next(t,e+1,r))):(o=n.correctIndex(t,r),n.next(t,e+1,r)),{result:n.getBar(o)+s.result,checksum:o*e+s.checksum}):{result:"",checksum:0}}}]),n}(o.default),e.default=n},function(t,e,n){"use strict";var r;function o(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}Object.defineProperty(e,"__esModule",{value:!0}),e.SET_A=0,e.SET_B=1,e.SET_C=2,e.SHIFT=98,e.START_A=103,e.START_B=104,e.START_C=105,e.MODULO=103,e.STOP=106,e.FNC1=207,e.SET_BY_CODE=(o(r={},103,0),o(r,104,1),o(r,105,2),r),e.SWAP={101:0,100:1,99:2},e.A_START_CHAR=String.fromCharCode(208),e.B_START_CHAR=String.fromCharCode(209),e.C_START_CHAR=String.fromCharCode(210),e.A_CHARS="[\0-_È-Ï]",e.B_CHARS="[ -È-Ï]",e.C_CHARS="(Ï*[0-9]{2}Ï*)",e.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},function(t,e,n){"use strict";function r(t){return t.match(new RegExp("^"+a.A_CHARS+"*"))[0].length}function o(t){return t.match(new RegExp("^"+a.B_CHARS+"*"))[0].length}function i(t){return t.match(new RegExp("^"+a.C_CHARS+"*"))[0]}Object.defineProperty(e,"__esModule",{value:!0});var a=n(7);function s(t,e){var n=e?a.A_CHARS:a.B_CHARS,r=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));return r?r[1]+String.fromCharCode(204)+l(t.substring(r[1].length)):(r=t.match(new RegExp("^"+n+"+"))[0]).length===t.length?t:r+String.fromCharCode(e?205:206)+s(t.substring(r.length),!e)}function l(t){var e=i(t),n=e.length;return n===t.length?t:(n=r(t=t.substring(n))>=o(t),e+String.fromCharCode(n?206:205)+s(t,n))}e.default=function(t){var e;return(2<=i(t).length?a.C_START_CHAR+l(t):((e=r(t)>o(t))?a.A_START_CHAR:a.B_START_CHAR)+s(t,e)).replace(/[\xCD\xCE]([^])[\xCD\xCE]/,(function(t,e){return String.fromCharCode(203)+e}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=(i=i=n(6))&&i.__esModule?i:{default:i},a=n(7);n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(t=(n.__proto__||Object.getPrototypeOf(n)).call(this,a.A_START_CHAR+t,e),this)return!t||"object"!=typeof t&&"function"!=typeof t?this:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),r(n,[{key:"valid",value:function(){return new RegExp("^"+a.A_CHARS+"+$").test(this.data)}}]),n}(i.default),e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=(i=i=n(6))&&i.__esModule?i:{default:i},a=n(7);n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(t=(n.__proto__||Object.getPrototypeOf(n)).call(this,a.B_START_CHAR+t,e),this)return!t||"object"!=typeof t&&"function"!=typeof t?this:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),r(n,[{key:"valid",value:function(){return new RegExp("^"+a.B_CHARS+"+$").test(this.data)}}]),n}(i.default),e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=(i=i=n(6))&&i.__esModule?i:{default:i},a=n(7);n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(t=(n.__proto__||Object.getPrototypeOf(n)).call(this,a.C_START_CHAR+t,e),this)return!t||"object"!=typeof t&&"function"!=typeof t?this:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),r(n,[{key:"valid",value:function(){return new RegExp("^"+a.C_CHARS+"+$").test(this.data)}}]),n}(i.default),e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UPCE=e.UPC=e.EAN2=e.EAN5=e.EAN8=e.EAN13=void 0;var r=l(n(13)),o=l(n(17)),i=l(n(18)),a=l(n(19)),s=l(n(20));function l(t){return t&&t.__esModule?t:{default:t}}n=l(n(21)),e.EAN13=r.default,e.EAN8=o.default,e.EAN5=i.default,e.EAN2=a.default,e.UPC=s.default,e.UPCE=n.default},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);return void 0!==r?"value"in r?r.value:void 0!==(r=r.get)?r.call(n):void 0:null!==(r=Object.getPrototypeOf(t))?o(r,e,n):void 0}Object.defineProperty(e,"__esModule",{value:!0});var i=n(14);function a(t){return(10-t.substr(0,12).split("").map((function(t){return+t})).reduce((function(t,e,n){return n%2?t+3*e:t+e}),0)%10)%10}n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");return-1!==t.search(/^[0-9]{12}$/)&&(t+=a(t)),t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e)),t.lastChar=e.lastChar,t}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),function(t,e,n){e&&r(t.prototype,e)}(n,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===a(this.data)}},{key:"leftText",value:function(){return o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var t=this.data.substr(1,6),e=i.EAN13_STRUCTURE[this.data[0]];return o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftEncode",this).call(this,t,e)}},{key:"rightText",value:function(){return o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var t=this.data.substr(7,6);return o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightEncode",this).call(this,t,"RRRRRR")}},{key:"encodeGuarded",value:function(){var t=o(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(t.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(t.push({data:"00"}),t.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),t}}]),n}((n=(n=n=n(15))&&n.__esModule?n:{default:n}).default),e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SIDE_BIN="101",e.MIDDLE_BIN="01010",e.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},e.EAN2_STRUCTURE=["LL","LG","GL","GG"],e.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],e.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(14),i=a(n(16));function a(t){return t&&t.__esModule?t:{default:t}}n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(this instanceof n)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e))).fontSize=!e.flat&&e.fontSize>10*e.width?10*e.width:e.fontSize,t.guardHeight=e.height+t.fontSize/2+e.textMargin,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),function(t,e,n){e&&r(t.prototype,e)}(n,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(t,e){return this.text.substr(t,e)}},{key:"leftEncode",value:function(t,e){return(0,i.default)(t,e)}},{key:"rightText",value:function(t,e){return this.text.substr(t,e)}},{key:"rightEncode",value:function(t,e){return(0,i.default)(t,e)}},{key:"encodeGuarded",value:function(){var t={fontSize:this.fontSize},e={height:this.guardHeight};return[{data:o.SIDE_BIN,options:e},{data:this.leftEncode(),text:this.leftText(),options:t},{data:o.MIDDLE_BIN,options:e},{data:this.rightEncode(),text:this.rightText(),options:t},{data:o.SIDE_BIN,options:e}]}},{key:"encodeFlat",value:function(){return{data:[o.SIDE_BIN,this.leftEncode(),o.MIDDLE_BIN,this.rightEncode(),o.SIDE_BIN].join(""),text:this.text}}}]),n}(a(n(3)).default),e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(14);e.default=function(t,e,n){var o,i=t.split("").map((function(t,n){return r.BINARIES[e[n]]})).map((function(e,n){return e?e[t[n]]:""}));return n&&(o=t.length-1,i=i.map((function(t,e){return e<o?t+n:t}))),i.join("")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);return void 0!==r?"value"in r?r.value:void 0!==(r=r.get)?r.call(n):void 0:null!==(r=Object.getPrototypeOf(t))?i(r,e,n):void 0}function a(t){return(10-t.substr(0,7).split("").map((function(t){return+t})).reduce((function(t,e,n){return n%2?t+e:t+3*e}),0)%10)%10}n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(-1!==t.search(/^[0-9]{7}$/)&&(t+=a(t)),t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e),this)return!t||"object"!=typeof t&&"function"!=typeof t?this:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),r(n,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===a(this.data)}},{key:"leftText",value:function(){return i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var t=this.data.substr(0,4);return i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftEncode",this).call(this,t,"LLLL")}},{key:"rightText",value:function(){return i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var t=this.data.substr(4,4);return i(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightEncode",this).call(this,t,"RRRR")}}]),n}((n=(n=n=n(15))&&n.__esModule?n:{default:n}).default),e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(14),a=s(n(16));function s(t){return t&&t.__esModule?t:{default:t}}n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e),this)return!t||"object"!=typeof t&&"function"!=typeof t?this:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),r(n,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var t=i.EAN5_STRUCTURE[this.data.split("").map((function(t){return+t})).reduce((function(t,e,n){return n%2?t+9*e:t+3*e}),0)%10];return{data:"1011"+(0,a.default)(this.data,t,"01"),text:this.text}}}]),n}((n=s(n(3))).default),e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(14),a=s(n(16));function s(t){return t&&t.__esModule?t:{default:t}}n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e),this)return!t||"object"!=typeof t&&"function"!=typeof t?this:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),r(n,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var t=i.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,a.default)(this.data,t,"01"),text:this.text}}}]),n}(s(n(3)).default),e.default=n},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.checksum=a;var o=i(n(16));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){for(var e=0,n=1;n<11;n+=2)e+=parseInt(t[n]);for(n=0;n<11;n+=2)e+=3*parseInt(t[n]);return(10-e%10)%10}n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");return-1!==t.search(/^[0-9]{11}$/)&&(t+=a(t)),t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e)),t.displayValue=e.displayValue,e.fontSize>10*e.width?t.fontSize=10*e.width:t.fontSize=e.fontSize,t.guardHeight=e.height+t.fontSize/2+e.textMargin,t}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),function(t,e,n){e&&r(t.prototype,e)}(n,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==a(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var t="";return{data:(t+="101")+(0,o.default)(this.data.substr(0,6),"LLLLLL")+"01010"+(0,o.default)(this.data.substr(6,6),"RRRRRR")+"101",text:this.text}}},{key:"guardedEncoding",value:function(){var t=[];return this.displayValue&&t.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),t.push({data:"101"+(0,o.default)(this.data[0],"L"),options:{height:this.guardHeight}}),t.push({data:(0,o.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),t.push({data:"01010",options:{height:this.guardHeight}}),t.push({data:(0,o.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),t.push({data:(0,o.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&t.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),t}}]),n}(i(n(3)).default),e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=l(n(16)),a=l(n(3)),s=n(20);function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}var d=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],u=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]];function f(t,e){for(var n=parseInt(t[t.length-1]),r=d[n],o="",i=0,a=0;a<r.length;a++){var l=r[a];o+="X"===l?t[i++]:l}return(o=""+e+o)+(0,s.checksum)(o)}n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");var r=c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e));if(r.isValid=!1,-1!==t.search(/^[0-9]{6}$/))r.middleDigits=t,r.upcA=f(t,"0"),r.text=e.text||""+r.upcA[0]+t+r.upcA[r.upcA.length-1];else{if(-1===t.search(/^[01][0-9]{7}$/))return c(r);if(r.middleDigits=t.substring(1,t.length-1),r.upcA=f(r.middleDigits,t[0]),r.upcA[r.upcA.length-1]!==t[t.length-1])return c(r)}return r.isValid=!0,r.displayValue=e.displayValue,e.fontSize>10*e.width?r.fontSize=10*e.width:r.fontSize=e.fontSize,r.guardHeight=e.height+r.fontSize/2+e.textMargin,r}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),r(n,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var t="";return{data:(t+="101")+this.encodeMiddleDigits()+"010101",text:this.text}}},{key:"guardedEncoding",value:function(){var t=[];return this.displayValue&&t.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),t.push({data:"101",options:{height:this.guardHeight}}),t.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),t.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&t.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),t}},{key:"encodeMiddleDigits",value:function(){var t=this.upcA[0],e=this.upcA[this.upcA.length-1];return e=u[parseInt(e)][parseInt(t)],(0,i.default)(this.middleDigits,e)}}]),n}(a.default),e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITF14=e.ITF=void 0;var r=o(n(23));function o(t){return t&&t.__esModule?t:{default:t}}n=o(n(25)),e.ITF=r.default,e.ITF14=n.default},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(24);n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(){var t=this,e=n;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");if(t=this,e=(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments),t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),function(t,e,n){e&&r(t.prototype,e)}(n,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var t=this,e=this.data.match(/.{2}/g).map((function(e){return t.encodePair(e)})).join("");return{data:o.START_BIN+e+o.END_BIN,text:this.text}}},{key:"encodePair",value:function(t){var e=o.BINARIES[t[1]];return o.BINARIES[t[0]].split("").map((function(t,n){return("1"===t?"111":"1")+("1"===e[n]?"000":"0")})).join("")}}]),n}(((n=n=n(3))&&n.__esModule?n:{default:n}).default),e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.START_BIN="1010",e.END_BIN="11101",e.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t){return t=t.substr(0,13).split("").map((function(t){return parseInt(t,10)})).reduce((function(t,e,n){return t+e*(3-n%2*2)}),0),10*Math.ceil(t/10)-t}n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(-1!==t.search(/^[0-9]{13}$/)&&(t+=i(t)),t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e),this)return!t||"object"!=typeof t&&"function"!=typeof t?this:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),r(n,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===i(this.data)}}]),n}((n=(n=n=n(23))&&n.__esModule?n:{default:n}).default),e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MSI1110=e.MSI1010=e.MSI11=e.MSI10=e.MSI=void 0;var r=s(n(27)),o=s(n(28)),i=s(n(30)),a=s(n(31));function s(t){return t&&t.__esModule?t:{default:t}}n=s(n(32)),e.MSI=r.default,e.MSI10=o.default,e.MSI11=i.default,e.MSI1010=a.default,e.MSI1110=n.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e),this)return!t||"object"!=typeof t&&"function"!=typeof t?this:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),r(n,[{key:"encode",value:function(){for(var t="110",e=0;e<this.data.length;e++)for(var n=function(t,e){for(var n=0;n<e;n++)t="0"+t;return t}(n=parseInt(this.data[e]).toString(2),4-n.length),r=0;r<n.length;r++)t+="0"==n[r]?"100":"110";return{data:t+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),n}(((n=n=n(3))&&n.__esModule?n:{default:n}).default),e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(r=r=n(27))&&r.__esModule?r:{default:r},o=n(29);n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t+(0,o.mod10)(t),e),this)return!t||"object"!=typeof t&&"function"!=typeof t?this:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n}(r.default),e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mod10=function(t){for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n]);(n+t.length)%2==0?e+=r:e+=2*r%10+Math.floor(2*r/10)}return(10-e%10)%10},e.mod11=function(t){for(var e=0,n=[2,3,4,5,6,7],r=0;r<t.length;r++){var o=parseInt(t[t.length-1-r]);e+=n[r%n.length]*o}return(11-e%11)%11}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(r=r=n(27))&&r.__esModule?r:{default:r},o=n(29);n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t+(0,o.mod11)(t),e),this)return!t||"object"!=typeof t&&"function"!=typeof t?this:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n}(r.default),e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(r=r=n(27))&&r.__esModule?r:{default:r},o=n(29);n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(t=(t+=(0,o.mod10)(t))+(0,o.mod10)(t),t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e),this)return!t||"object"!=typeof t&&"function"!=typeof t?this:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n}(r.default),e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(r=r=n(27))&&r.__esModule?r:{default:r},o=n(29);n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(t=(t+=(0,o.mod11)(t))+(0,o.mod10)(t),t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e),this)return!t||"object"!=typeof t&&"function"!=typeof t?this:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n}(r.default),e.default=n},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.pharmacode=void 0,n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(this instanceof n)return(e=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e))).number=parseInt(t,10),e;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),function(t,e,n){e&&r(t.prototype,e)}(n,[{key:"encode",value:function(){for(var t=this.number,e="";!isNaN(t)&&0!=t;)t=t%2==0?(e="11100"+e,(t-2)/2):(e="100"+e,(t-1)/2);return{data:e=e.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return 3<=this.number&&this.number<=131070}}]),n}(((n=n=n(3))&&n.__esModule?n:{default:n}).default),e.pharmacode=n},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.codabar=void 0,n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");return 0===t.search(/^[0-9\-\$\:\.\+\/]+$/)&&(t="A"+t+"A"),t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t.toUpperCase(),e)),t.text=t.options.text||t.text.replace(/[A-D]/g,""),t}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),function(t,e,n){e&&r(t.prototype,e)}(n,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var t=[],e=this.getEncodings(),n=0;n<this.data.length;n++)t.push(e[this.data.charAt(n)]),n!==this.data.length-1&&t.push("0");return{text:this.text,data:t.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),n}(((n=n=n(3))&&n.__esModule?n:{default:n}).default),e.codabar=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GenericBarcode=void 0;var r=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");if(t=(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e),this)return!t||"object"!=typeof t&&"function"!=typeof t?this:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),r(n,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),n}(((n=n=n(3))&&n.__esModule?n:{default:n}).default),e.GenericBarcode=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};e.default=function(t,e){return r({},t,e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=[];return function t(n){if(Array.isArray(n))for(var r=0;r<n.length;r++)t(n[r]);else n.text=n.text||"",n.data=n.data||"",e.push(n)}(t),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=s(n(40)),i=s(n(43)),a=n(48);function s(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e){if("string"!=typeof e){if(Array.isArray(e)){for(var n=[],s=0;s<e.length;s++)n.push(t(e[s]));return n}if("undefined"!=typeof HTMLCanvasElement&&"img"==e.nodeName.toLowerCase())return l=e,{element:c=document.createElement("canvas"),options:(0,o.default)(l),renderer:i.default.CanvasRenderer,afterRender:function(){l.setAttribute("src",c.toDataURL())}};if(e&&e.nodeName&&"svg"===e.nodeName.toLowerCase()||"undefined"!=typeof SVGElement&&e instanceof SVGElement)return{element:e,options:(0,o.default)(e),renderer:i.default.SVGRenderer};if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement)return{element:e,options:(0,o.default)(e),renderer:i.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:i.default.CanvasRenderer};if(e&&"object"===(void 0===e?"undefined":r(e))&&!e.nodeName)return{element:e,renderer:i.default.ObjectRenderer};throw new a.InvalidElementException}var l,c,d=e,u=document.querySelectorAll(d);if(0!==u.length){for(var f=[],p=0;p<u.length;p++)f.push(t(u[p]));return f}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(41)),o=i(n(42));function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e,n={};for(e in o.default)o.default.hasOwnProperty(e)&&(t.hasAttribute("jsbarcode-"+e.toLowerCase())&&(n[e]=t.getAttribute("jsbarcode-"+e.toLowerCase())),t.hasAttribute("data-"+e.toLowerCase())&&(n[e]=t.getAttribute("data-"+e.toLowerCase())));return n.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),(0,r.default)(n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,n=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(e in n)n.hasOwnProperty(e)&&"string"==typeof t[e=n[e]]&&(t[e]=parseInt(t[e],10));return"string"==typeof t.displayValue&&(t.displayValue="false"!=t.displayValue),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(44)),o=i(n(46));function i(t){return t&&t.__esModule?t:{default:t}}n=i(n(47)),e.default={CanvasRenderer:r.default,SVGRenderer:o.default,ObjectRenderer:n.default}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(36),i=(o=o)&&o.__esModule?o:{default:o},a=n(45);function s(t,e,n){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.canvas=t,this.encodings=e,this.options=n}!function(t,e,n){e&&r(t.prototype,e)}(s,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var t=0;t<this.encodings.length;t++){var e=(0,i.default)(this.options,this.encodings[t].options);this.drawCanvasBarcode(e,this.encodings[t]),this.drawCanvasText(e,this.encodings[t]),this.moveCanvasDrawing(this.encodings[t])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var t=this.canvas.getContext("2d"),e=(t.save(),(0,a.calculateEncodingAttributes)(this.encodings,this.options,t),(0,a.getTotalWidthOfEncodings)(this.encodings)),n=(0,a.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=e+this.options.marginLeft+this.options.marginRight,this.canvas.height=n,t.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(t.fillStyle=this.options.background,t.fillRect(0,0,this.canvas.width,this.canvas.height)),t.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(t,e){var n=this.canvas.getContext("2d"),r=e.data,o="top"==t.textPosition?t.marginTop+t.fontSize+t.textMargin:t.marginTop;n.fillStyle=t.lineColor;for(var i=0;i<r.length;i++){var a=i*t.width+e.barcodePadding;"1"===r[i]?n.fillRect(a,o,t.width,t.height):r[i]&&n.fillRect(a,o,t.width,t.height*r[i])}}},{key:"drawCanvasText",value:function(t,e){var n,r,o=this.canvas.getContext("2d"),i=t.fontOptions+" "+t.fontSize+"px "+t.font;t.displayValue&&(r="top"==t.textPosition?t.marginTop+t.fontSize-t.textMargin:t.height+t.textMargin+t.marginTop+t.fontSize,o.font=i,"left"==t.textAlign||0<e.barcodePadding?(n=0,o.textAlign="left"):"right"==t.textAlign?(n=e.width-1,o.textAlign="right"):(n=e.width/2,o.textAlign="center"),o.fillText(e.text,n,r))}},{key:"moveCanvasDrawing",value:function(t){this.canvas.getContext("2d").translate(t.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),o=s,e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTotalWidthOfEncodings=e.calculateEncodingAttributes=e.getBarcodePadding=e.getEncodingHeight=e.getMaximumHeightOfEncodings=void 0;var r=(n=n=n(36))&&n.__esModule?n:{default:n};function o(t,e){return e.height+(e.displayValue&&0<t.text.length?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function i(t,e,n){if(n.displayValue&&e<t){if("center"==n.textAlign)return Math.floor((t-e)/2);if("left"==n.textAlign)return 0;if("right"==n.textAlign)return Math.floor(t-e)}return 0}e.getMaximumHeightOfEncodings=function(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e},e.getEncodingHeight=o,e.getBarcodePadding=i,e.calculateEncodingAttributes=function(t,e,n){for(var a=0;a<t.length;a++){var s=t[a],l=(0,r.default)(e,s.options),c=l.displayValue?function(t,e,n){var r;if(n)r=n;else{if("undefined"==typeof document)return 0;r=document.createElement("canvas").getContext("2d")}return r.font=e.fontOptions+" "+e.fontSize+"px "+e.font,(n=r.measureText(t))?n.width:0}(s.text,l,n):0,d=s.data.length*l.width;s.width=Math.ceil(Math.max(c,d)),s.height=o(s,l),s.barcodePadding=i(c,d,l)}},e.getTotalWidthOfEncodings=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0});var o=(s=s=n(36))&&s.__esModule?s:{default:s},i=n(45),a="http://www.w3.org/2000/svg",s=(function(t,e,n){e&&r(t.prototype,e)}(l,[{key:"render",value:function(){var t=this.options.marginLeft;this.prepareSVG();for(var e=0;e<this.encodings.length;e++){var n=this.encodings[e],r=(0,o.default)(this.options,n.options),i=this.createGroup(t,r.marginTop,this.svg);this.setGroupOptions(i,r),this.drawSvgBarcode(i,r,n),this.drawSVGText(i,r,n),t+=n.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,i.calculateEncodingAttributes)(this.encodings,this.options);var t=(0,i.getTotalWidthOfEncodings)(this.encodings),e=(0,i.getMaximumHeightOfEncodings)(this.encodings);t=t+this.options.marginLeft+this.options.marginRight,this.setSvgAttributes(t,e),this.options.background&&this.drawRect(0,0,t,e,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(t,e,n){for(var r=n.data,o="top"==e.textPosition?e.fontSize+e.textMargin:0,i=0,a=0,s=0;s<r.length;s++)a=s*e.width+n.barcodePadding,"1"===r[s]?i++:0<i&&(this.drawRect(a-e.width*i,o,e.width*i,e.height,t),i=0);0<i&&this.drawRect(a-e.width*(i-1),o,e.width*i,e.height,t)}},{key:"drawSVGText",value:function(t,e,n){var r,o,i=this.document.createElementNS(a,"text");e.displayValue&&(i.setAttribute("style","font:"+e.fontOptions+" "+e.fontSize+"px "+e.font),o="top"==e.textPosition?e.fontSize-e.textMargin:e.height+e.textMargin+e.fontSize,"left"==e.textAlign||0<n.barcodePadding?(r=0,i.setAttribute("text-anchor","start")):"right"==e.textAlign?(r=n.width-1,i.setAttribute("text-anchor","end")):(r=n.width/2,i.setAttribute("text-anchor","middle")),i.setAttribute("x",r),i.setAttribute("y",o),i.appendChild(this.document.createTextNode(n.text)),t.appendChild(i))}},{key:"setSvgAttributes",value:function(t,e){var n=this.svg;n.setAttribute("width",t+"px"),n.setAttribute("height",e+"px"),n.setAttribute("x","0px"),n.setAttribute("y","0px"),n.setAttribute("viewBox","0 0 "+t+" "+e),n.setAttribute("xmlns",a),n.setAttribute("version","1.1"),n.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(t,e,n){var r=this.document.createElementNS(a,"g");return r.setAttribute("transform","translate("+t+", "+e+")"),n.appendChild(r),r}},{key:"setGroupOptions",value:function(t,e){t.setAttribute("style","fill:"+e.lineColor+";")}},{key:"drawRect",value:function(t,e,n,r,o){var i=this.document.createElementNS(a,"rect");return i.setAttribute("x",t),i.setAttribute("y",e),i.setAttribute("width",n),i.setAttribute("height",r),o.appendChild(i),i}}]),l);function l(t,e,n){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.svg=t,this.encodings=e,this.options=n,this.document=n.xmlDocument||document}e.default=s},function(t,e,n){"use strict";function r(t,e,n){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.object=t,this.encodings=e,this.options=n}Object.defineProperty(e,"__esModule",{value:!0}),function(t,e,n){e&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e)}(r,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e.default=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),i(s,Error);var a=s;function s(t,e){r(this,s);var n=o(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return n.name="InvalidInputException",n.symbology=t,n.input=e,n.message='"'+n.input+'" is not a valid input for '+n.symbology,n}i(c,Error);var l=c;function c(){r(this,c);var t=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return t.name="InvalidElementException",t.message="Not supported type to render on",t}i(u,Error);var d=u;function u(){r(this,u);var t=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return t.name="NoElementException",t.message="No element to render on.",t}e.InvalidInputException=a,e.InvalidElementException=l,e.NoElementException=d},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.api=t}Object.defineProperty(e,"__esModule",{value:!0}),function(t,e,n){e&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e)}(r,[{key:"handleCatch",value:function(t){if("InvalidInputException"!==t.name)throw t;if(this.api._options.valid===this.api._defaults.valid)throw t.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(t){try{var e=t.apply(void 0,arguments);return this.api._options.valid(!0),e}catch(t){return this.handleCatch(t),this.api}}}]),e.default=r}],n={},t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.p="",t(t.s=0)},424:function(t,e){!function(t){"use strict";function e(){}function n(t,e,n,r,o){for(var i=0,a=e.length,s=0,l=0;i<a;i++){var c=e[i];if(c.removed){if(c.value=t.join(r.slice(l,l+c.count)),l+=c.count,i&&e[i-1].added){var d=e[i-1];e[i-1]=e[i],e[i]=d}}else{if(!c.added&&o){var u=n.slice(s,s+c.count);u=u.map((function(t,e){var n=r[l+e];return n.length>t.length?n:t})),c.value=t.join(u)}else c.value=t.join(n.slice(s,s+c.count));s+=c.count,c.added||(l+=c.count)}}var f=e[a-1];return a>1&&"string"==typeof f.value&&(f.added||f.removed)&&t.equals("",f.value)&&(e[a-2].value+=f.value,e.pop()),e}function r(t){return{newPos:t.newPos,components:t.components.slice(0)}}e.prototype={diff:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.callback;"function"==typeof o&&(i=o,o={}),this.options=o;var a=this;function s(t){return i?(setTimeout((function(){i(void 0,t)}),0),!0):t}t=this.castInput(t),e=this.castInput(e),t=this.removeEmpty(this.tokenize(t));var l=(e=this.removeEmpty(this.tokenize(e))).length,c=t.length,d=1,u=l+c;o.maxEditLength&&(u=Math.min(u,o.maxEditLength));var f=[{newPos:-1,components:[]}],p=this.extractCommon(f[0],e,t,0);if(f[0].newPos+1>=l&&p+1>=c)return s([{value:this.join(e),count:e.length}]);function h(){for(var o=-1*d;o<=d;o+=2){var i=void 0,u=f[o-1],p=f[o+1],h=(p?p.newPos:0)-o;u&&(f[o-1]=void 0);var g=u&&u.newPos+1<l,m=p&&0<=h&&h<c;if(g||m){if(!g||m&&u.newPos<p.newPos?(i=r(p),a.pushComponent(i.components,void 0,!0)):((i=u).newPos++,a.pushComponent(i.components,!0,void 0)),h=a.extractCommon(i,e,t,o),i.newPos+1>=l&&h+1>=c)return s(n(a,i.components,e,t,a.useLongestToken));f[o]=i}else f[o]=void 0}d++}if(i)!function t(){setTimeout((function(){if(d>u)return i();h()||t()}),0)}();else for(;d<=u;){var g=h();if(g)return g}},pushComponent:function(t,e,n){var r=t[t.length-1];r&&r.added===e&&r.removed===n?t[t.length-1]={count:r.count+1,added:e,removed:n}:t.push({count:1,added:e,removed:n})},extractCommon:function(t,e,n,r){for(var o=e.length,i=n.length,a=t.newPos,s=a-r,l=0;a+1<o&&s+1<i&&this.equals(e[a+1],n[s+1]);)a++,s++,l++;return l&&t.components.push({count:l}),t.newPos=a,s},equals:function(t,e){return this.options.comparator?this.options.comparator(t,e):t===e||this.options.ignoreCase&&t.toLowerCase()===e.toLowerCase()},removeEmpty:function(t){for(var e=[],n=0;n<t.length;n++)t[n]&&e.push(t[n]);return e},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};var o=new e;function i(t,e){if("function"==typeof t)e.callback=t;else if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var a=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,s=/\S/,l=new e;l.equals=function(t,e){return this.options.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e||this.options.ignoreWhitespace&&!s.test(t)&&!s.test(e)},l.tokenize=function(t){for(var e=t.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<e.length-1;n++)!e[n+1]&&e[n+2]&&a.test(e[n])&&a.test(e[n+2])&&(e[n]+=e[n+2],e.splice(n+1,2),n--);return e};var c=new e;function d(t,e,n){return c.diff(t,e,n)}c.tokenize=function(t){var e=[],n=t.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var o=n[r];r%2&&!this.options.newlineIsToken?e[e.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),e.push(o))}return e};var u=new e;u.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var f=new e;function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function h(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}f.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};var m=Object.prototype.toString,v=new e;function b(t,e,n,r,o){var i,a;for(e=e||[],n=n||[],r&&(t=r(o,t)),i=0;i<e.length;i+=1)if(e[i]===t)return n[i];if("[object Array]"===m.call(t)){for(e.push(t),a=new Array(t.length),n.push(a),i=0;i<t.length;i+=1)a[i]=b(t[i],e,n,r,o);return e.pop(),n.pop(),a}if(t&&t.toJSON&&(t=t.toJSON()),"object"===p(t)&&null!==t){e.push(t),a={},n.push(a);var s,l=[];for(s in t)t.hasOwnProperty(s)&&l.push(s);for(l.sort(),i=0;i<l.length;i+=1)a[s=l[i]]=b(t[s],e,n,r,s);e.pop(),n.pop()}else a=t;return a}v.useLongestToken=!0,v.tokenize=c.tokenize,v.castInput=function(t){var e=this.options,n=e.undefinedReplacement,r=e.stringifyReplacer,o=void 0===r?function(t,e){return void 0===e?n:e}:r;return"string"==typeof t?t:JSON.stringify(b(t,null,null,o),o,"  ")},v.equals=function(t,n){return e.prototype.equals.call(v,t.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};var y=new e;function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.split(/\r\n|[\n\v\f\r\x85]/),r=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=[],i=0;function a(){var t={};for(o.push(t);i<n.length;){var r=n[i];if(/^(\-\-\-|\+\+\+|@@)\s/.test(r))break;var a=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(r);a&&(t.index=a[1]),i++}for(s(t),s(t),t.hunks=[];i<n.length;){var c=n[i];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(c))break;if(/^@@/.test(c))t.hunks.push(l());else{if(c&&e.strict)throw new Error("Unknown line "+(i+1)+" "+JSON.stringify(c));i++}}}function s(t){var e=/^(---|\+\+\+)\s+(.*)$/.exec(n[i]);if(e){var r="---"===e[1]?"old":"new",o=e[2].split("\t",2),a=o[0].replace(/\\\\/g,"\\");/^".*"$/.test(a)&&(a=a.substr(1,a.length-2)),t[r+"FileName"]=a,t[r+"Header"]=(o[1]||"").trim(),i++}}function l(){var t=i,o=n[i++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),a={oldStart:+o[1],oldLines:void 0===o[2]?1:+o[2],newStart:+o[3],newLines:void 0===o[4]?1:+o[4],lines:[],linedelimiters:[]};0===a.oldLines&&(a.oldStart+=1),0===a.newLines&&(a.newStart+=1);for(var s=0,l=0;i<n.length&&!(0===n[i].indexOf("--- ")&&i+2<n.length&&0===n[i+1].indexOf("+++ ")&&0===n[i+2].indexOf("@@"));i++){var c=0==n[i].length&&i!=n.length-1?" ":n[i][0];if("+"!==c&&"-"!==c&&" "!==c&&"\\"!==c)break;a.lines.push(n[i]),a.linedelimiters.push(r[i]||"\n"),"+"===c?s++:"-"===c?l++:" "===c&&(s++,l++)}if(s||1!==a.newLines||(a.newLines=0),l||1!==a.oldLines||(a.oldLines=0),e.strict){if(s!==a.newLines)throw new Error("Added line count did not match for hunk at line "+(t+1));if(l!==a.oldLines)throw new Error("Removed line count did not match for hunk at line "+(t+1))}return a}for(;i<n.length;)a();return o}function x(t,e,n){var r=!0,o=!1,i=!1,a=1;return function s(){if(r&&!i){if(o?a++:r=!1,t+a<=n)return a;i=!0}if(!o)return i||(r=!0),e<=t-a?-a++:(o=!0,s())}}function _(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e&&(e=w(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}var r,o,i=t.split(/\r\n|[\n\v\f\r\x85]/),a=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],s=e.hunks,l=n.compareLine||function(t,e,n,r){return e===r},c=0,d=n.fuzzFactor||0,u=0,f=0;function p(t,e){for(var n=0;n<t.lines.length;n++){var r=t.lines[n],o=r.length>0?r[0]:" ",a=r.length>0?r.substr(1):r;if(" "===o||"-"===o){if(!l(e+1,i[e],o,a)&&++c>d)return!1;e++}}return!0}for(var h=0;h<s.length;h++){for(var g=s[h],m=i.length-g.oldLines,v=0,b=f+g.oldStart-1,y=x(b,u,m);void 0!==v;v=y())if(p(g,b+v)){g.offset=f+=v;break}if(void 0===v)return!1;u=g.offset+g.oldStart+g.oldLines}for(var _=0,E=0;E<s.length;E++){var $=s[E],A=$.oldStart+$.offset+_-1;_+=$.newLines-$.oldLines;for(var S=0;S<$.lines.length;S++){var C=$.lines[S],T=C.length>0?C[0]:" ",L=C.length>0?C.substr(1):C,k=$.linedelimiters[S];if(" "===T)A++;else if("-"===T)i.splice(A,1),a.splice(A,1);else if("+"===T)i.splice(A,0,L),a.splice(A,0,k),A++;else if("\\"===T){var O=$.lines[S-1]?$.lines[S-1][0]:null;"+"===O?r=!0:"-"===O&&(o=!0)}}}if(r)for(;!i[i.length-1];)i.pop(),a.pop();else o&&(i.push(""),a.push("\n"));for(var M=0;M<i.length-1;M++)i[M]=i[M]+a[M];return i.join("")}function E(t,e,n,r,o,i,a){a||(a={}),void 0===a.context&&(a.context=4);var s=d(n,r,a);if(s){s.push({value:"",lines:[]});for(var l=[],c=0,u=0,f=[],p=1,g=1,m=function(t){var e=s[t],o=e.lines||e.value.replace(/\n$/,"").split("\n");if(e.lines=o,e.added||e.removed){var i;if(!c){var d=s[t-1];c=p,u=g,d&&(f=a.context>0?b(d.lines.slice(-a.context)):[],c-=f.length,u-=f.length)}(i=f).push.apply(i,h(o.map((function(t){return(e.added?"+":"-")+t})))),e.added?g+=o.length:p+=o.length}else{if(c)if(o.length<=2*a.context&&t<s.length-2){var m;(m=f).push.apply(m,h(b(o)))}else{var v,y=Math.min(o.length,a.context);(v=f).push.apply(v,h(b(o.slice(0,y))));var w={oldStart:c,oldLines:p-c+y,newStart:u,newLines:g-u+y,lines:f};if(t>=s.length-2&&o.length<=a.context){var x=/\n$/.test(n),_=/\n$/.test(r),E=0==o.length&&f.length>w.oldLines;!x&&E&&n.length>0&&f.splice(w.oldLines,0,"\\ No newline at end of file"),(x||E)&&_||f.push("\\ No newline at end of file")}l.push(w),c=0,u=0,f=[]}p+=o.length,g+=o.length}},v=0;v<s.length;v++)m(v);return{oldFileName:t,newFileName:e,oldHeader:o,newHeader:i,hunks:l}}function b(t){return t.map((function(t){return" "+t}))}}function $(t,e,n,r,o,i,a){return function(t){var e=[];t.oldFileName==t.newFileName&&e.push("Index: "+t.oldFileName),e.push("==================================================================="),e.push("--- "+t.oldFileName+(void 0===t.oldHeader?"":"\t"+t.oldHeader)),e.push("+++ "+t.newFileName+(void 0===t.newHeader?"":"\t"+t.newHeader));for(var n=0;n<t.hunks.length;n++){var r=t.hunks[n];0===r.oldLines&&(r.oldStart-=1),0===r.newLines&&(r.newStart-=1),e.push("@@ -"+r.oldStart+","+r.oldLines+" +"+r.newStart+","+r.newLines+" @@"),e.push.apply(e,r.lines)}return e.join("\n")+"\n"}(E(t,e,n,r,o,i,a))}function A(t,e){if(e.length>t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function S(t){var e=j(t.lines),n=e.oldLines,r=e.newLines;void 0!==n?t.oldLines=n:delete t.oldLines,void 0!==r?t.newLines=r:delete t.newLines}function C(t,e){if("string"==typeof t){if(/^@@/m.test(t)||/^Index:/m.test(t))return w(t)[0];if(!e)throw new Error("Must provide a base reference or pass in a patch");return E(void 0,void 0,e,t)}return t}function T(t){return t.newFileName&&t.newFileName!==t.oldFileName}function L(t,e,n){return e===n?e:(t.conflict=!0,{mine:e,theirs:n})}function k(t,e){return t.oldStart<e.oldStart&&t.oldStart+t.oldLines<e.oldStart}function O(t,e){return{oldStart:t.oldStart,oldLines:t.oldLines,newStart:t.newStart+e,newLines:t.newLines,lines:t.lines}}function M(t,e,n,r,o){var i={offset:e,lines:n,index:0},a={offset:r,lines:o,index:0};for(N(t,i,a),N(t,a,i);i.index<i.lines.length&&a.index<a.lines.length;){var s=i.lines[i.index],l=a.lines[a.index];if("-"!==s[0]&&"+"!==s[0]||"-"!==l[0]&&"+"!==l[0])if("+"===s[0]&&" "===l[0]){var c;(c=t.lines).push.apply(c,h(D(i)))}else if("+"===l[0]&&" "===s[0]){var d;(d=t.lines).push.apply(d,h(D(a)))}else"-"===s[0]&&" "===l[0]?I(t,i,a):"-"===l[0]&&" "===s[0]?I(t,a,i,!0):s===l?(t.lines.push(s),i.index++,a.index++):R(t,D(i),D(a));else P(t,i,a)}B(t,i),B(t,a),S(t)}function P(t,e,n){var r=D(e),o=D(n);if(H(r)&&H(o)){var i,a;if(A(r,o)&&F(n,r,r.length-o.length))return void(i=t.lines).push.apply(i,h(r));if(A(o,r)&&F(e,o,o.length-r.length))return void(a=t.lines).push.apply(a,h(o))}else if(function(t,e){return t.length===e.length&&A(t,e)}(r,o)){var s;return void(s=t.lines).push.apply(s,h(r))}R(t,r,o)}function I(t,e,n,r){var o,i=D(e),a=function(t,e){for(var n=[],r=[],o=0,i=!1,a=!1;o<e.length&&t.index<t.lines.length;){var s=t.lines[t.index],l=e[o];if("+"===l[0])break;if(i=i||" "!==s[0],r.push(l),o++,"+"===s[0])for(a=!0;"+"===s[0];)n.push(s),s=t.lines[++t.index];l.substr(1)===s.substr(1)?(n.push(s),t.index++):a=!0}if("+"===(e[o]||"")[0]&&i&&(a=!0),a)return n;for(;o<e.length;)r.push(e[o++]);return{merged:r,changes:n}}(n,i);a.merged?(o=t.lines).push.apply(o,h(a.merged)):R(t,r?a:i,r?i:a)}function R(t,e,n){t.conflict=!0,t.lines.push({conflict:!0,mine:e,theirs:n})}function N(t,e,n){for(;e.offset<n.offset&&e.index<e.lines.length;){var r=e.lines[e.index++];t.lines.push(r),e.offset++}}function B(t,e){for(;e.index<e.lines.length;){var n=e.lines[e.index++];t.lines.push(n)}}function D(t){for(var e=[],n=t.lines[t.index][0];t.index<t.lines.length;){var r=t.lines[t.index];if("-"===n&&"+"===r[0]&&(n="+"),n!==r[0])break;e.push(r),t.index++}return e}function H(t){return t.reduce((function(t,e){return t&&"-"===e[0]}),!0)}function F(t,e,n){for(var r=0;r<n;r++){var o=e[e.length-n+r].substr(1);if(t.lines[t.index+r]!==" "+o)return!1}return t.index+=n,!0}function j(t){var e=0,n=0;return t.forEach((function(t){if("string"!=typeof t){var r=j(t.mine),o=j(t.theirs);void 0!==e&&(r.oldLines===o.oldLines?e+=r.oldLines:e=void 0),void 0!==n&&(r.newLines===o.newLines?n+=r.newLines:n=void 0)}else void 0===n||"+"!==t[0]&&" "!==t[0]||n++,void 0===e||"-"!==t[0]&&" "!==t[0]||e++})),{oldLines:e,newLines:n}}function Z(t){var e=t;return(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")}y.tokenize=function(t){return t.slice()},y.join=y.removeEmpty=function(t){return t},t.Diff=e,t.applyPatch=_,t.applyPatches=function(t,e){"string"==typeof t&&(t=w(t));var n=0;!function r(){var o=t[n++];if(!o)return e.complete();e.loadFile(o,(function(t,n){if(t)return e.complete(t);var i=_(n,o,e);e.patched(o,i,(function(t){if(t)return e.complete(t);r()}))}))}()},t.canonicalize=b,t.convertChangesToDMP=function(t){for(var e,n,r=[],o=0;o<t.length;o++)n=(e=t[o]).added?1:e.removed?-1:0,r.push([n,e.value]);return r},t.convertChangesToXML=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];r.added?e.push("<ins>"):r.removed&&e.push("<del>"),e.push(Z(r.value)),r.added?e.push("</ins>"):r.removed&&e.push("</del>")}return e.join("")},t.createPatch=function(t,e,n,r,o,i){return $(t,t,e,n,r,o,i)},t.createTwoFilesPatch=$,t.diffArrays=function(t,e,n){return y.diff(t,e,n)},t.diffChars=function(t,e,n){return o.diff(t,e,n)},t.diffCss=function(t,e,n){return f.diff(t,e,n)},t.diffJson=function(t,e,n){return v.diff(t,e,n)},t.diffLines=d,t.diffSentences=function(t,e,n){return u.diff(t,e,n)},t.diffTrimmedLines=function(t,e,n){var r=i(n,{ignoreWhitespace:!0});return c.diff(t,e,r)},t.diffWords=function(t,e,n){return n=i(n,{ignoreWhitespace:!0}),l.diff(t,e,n)},t.diffWordsWithSpace=function(t,e,n){return l.diff(t,e,n)},t.merge=function(t,e,n){t=C(t,n),e=C(e,n);var r={};(t.index||e.index)&&(r.index=t.index||e.index),(t.newFileName||e.newFileName)&&(T(t)?T(e)?(r.oldFileName=L(r,t.oldFileName,e.oldFileName),r.newFileName=L(r,t.newFileName,e.newFileName),r.oldHeader=L(r,t.oldHeader,e.oldHeader),r.newHeader=L(r,t.newHeader,e.newHeader)):(r.oldFileName=t.oldFileName,r.newFileName=t.newFileName,r.oldHeader=t.oldHeader,r.newHeader=t.newHeader):(r.oldFileName=e.oldFileName||t.oldFileName,r.newFileName=e.newFileName||t.newFileName,r.oldHeader=e.oldHeader||t.oldHeader,r.newHeader=e.newHeader||t.newHeader)),r.hunks=[];for(var o=0,i=0,a=0,s=0;o<t.hunks.length||i<e.hunks.length;){var l=t.hunks[o]||{oldStart:1/0},c=e.hunks[i]||{oldStart:1/0};if(k(l,c))r.hunks.push(O(l,a)),o++,s+=l.newLines-l.oldLines;else if(k(c,l))r.hunks.push(O(c,s)),i++,a+=c.newLines-c.oldLines;else{var d={oldStart:Math.min(l.oldStart,c.oldStart),oldLines:0,newStart:Math.min(l.newStart+a,c.oldStart+s),newLines:0,lines:[]};M(d,l.oldStart,l.lines,c.oldStart,c.lines),i++,o++,r.hunks.push(d)}}return r},t.parsePatch=w,t.structuredPatch=E,Object.defineProperty(t,"__esModule",{value:!0})}(e)},21:(t,e)=>{e=function(){return function(t){"use strict";function e(){return void 0!==n}var n,r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],o=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||40<t)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},i=function(t){for(var e=0;0!==t;)e++,t>>>=1;return e};function a(t,e){return t(e={exports:{}},e.exports),e.exports}var s=a((function(t,e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&0<=t.bit&&t.bit<4},e.from=function(t,n){if(e.isValid(t))return t;try{var r=t;if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}catch(t){return n}}}));function l(){this.buffer=[],this.length=0}s.L,s.M,s.Q,s.H,s.isValid,l.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var c=l;function d(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}d.prototype.set=function(t,e,n,r){t=t*this.size+e,this.data[t]=n,r&&(this.reservedBit[t]=!0)},d.prototype.get=function(t,e){return this.data[t*this.size+e]},d.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},d.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};for(var u=d,f=a((function(t,e){var n=o;e.getRowColCoords=function(t){if(1===t)return[];for(var e=Math.floor(t/7)+2,r=145===(t=n(t))?26:2*Math.ceil((t-13)/(2*e-2)),o=[t-7],i=1;i<e-1;i++)o[i]=o[i-1]-r;return o.push(6),o.reverse()},e.getPositions=function(t){for(var n=[],r=e.getRowColCoords(t),o=r.length,i=0;i<o;i++)for(var a=0;a<o;a++)0===i&&0===a||0===i&&a===o-1||i===o-1&&0===a||n.push([r[i],r[a]]);return n}})),p=(f.getRowColCoords,f.getPositions,o),h=function(t){return[[0,0],[(t=p(t))-7,0],[0,t-7]]},g=a((function(t,e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&0<=t&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){for(var e=t.size,n=0,r=0,o=0,i=null,a=null,s=0;s<e;s++){r=o=0,i=a=null;for(var l=0;l<e;l++){var c=t.get(s,l);c===i?r++:(5<=r&&(n+=r-5+3),i=c,r=1),(c=t.get(l,s))===a?o++:(5<=o&&(n+=o-5+3),a=c,o=1)}5<=r&&(n+=r-5+3),5<=o&&(n+=o-5+3)}return n},e.getPenaltyN2=function(t){for(var e=t.size,n=0,r=0;r<e-1;r++)for(var o=0;o<e-1;o++){var i=t.get(r,o)+t.get(r,o+1)+t.get(r+1,o)+t.get(r+1,o+1);4!==i&&0!==i||n++}return 3*n},e.getPenaltyN3=function(t){for(var e=t.size,n=0,r=0,o=0,i=0;i<e;i++){r=o=0;for(var a=0;a<e;a++)r=r<<1&2047|t.get(i,a),10<=a&&(1488===r||93===r)&&n++,o=o<<1&2047|t.get(a,i),10<=a&&(1488===o||93===o)&&n++}return 40*n},e.getPenaltyN4=function(t){for(var e=0,n=t.data.length,r=0;r<n;r++)e+=t.data[r];return 10*Math.abs(Math.ceil(100*e/n/5)-10)},e.applyMask=function(t,n){for(var r=n.size,o=0;o<r;o++)for(var i=0;i<r;i++)n.isReserved(i,o)||n.xor(i,o,function(t,n,r){switch(t){case e.Patterns.PATTERN000:return(n+r)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return r%3==0;case e.Patterns.PATTERN011:return(n+r)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case e.Patterns.PATTERN101:return n*r%2+n*r%3==0;case e.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case e.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}(t,i,o))},e.getBestMask=function(t,n){for(var r=Object.keys(e.Patterns).length,o=0,i=1/0,a=0;a<r;a++){n(a),e.applyMask(a,t);var s=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(a,t),s<i&&(i=s,o=a)}return o}})),m=(g.Patterns,g.isValid,g.getPenaltyN1,g.getPenaltyN2,g.getPenaltyN3,g.getPenaltyN4,g.applyMask,g.getBestMask,[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81]),v=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430],b=function(t,e){switch(e){case s.L:return m[4*(t-1)+0];case s.M:return m[4*(t-1)+1];case s.Q:return m[4*(t-1)+2];case s.H:return m[4*(t-1)+3];default:return}},y=function(t,e){switch(e){case s.L:return v[4*(t-1)+0];case s.M:return v[4*(t-1)+1];case s.Q:return v[4*(t-1)+2];case s.H:return v[4*(t-1)+3];default:return}},w=new Uint8Array(512),x=new Uint8Array(256),_=1,E=0;E<255;E++)w[E]=_,x[_]=E,256&(_<<=1)&&(_^=285);for(var $=255;$<512;$++)w[$]=w[$-255];function A(t,e){return 0===t||0===e?0:w[x[t]+x[e]]}var S=a((function(t,e){e.mul=function(t,e){for(var n=new Uint8Array(t.length+e.length-1),r=0;r<t.length;r++)for(var o=0;o<e.length;o++)n[r+o]^=A(t[r],e[o]);return n},e.mod=function(t,e){for(var n=new Uint8Array(t);0<=n.length-e.length;){for(var r=n[0],o=0;o<e.length;o++)n[o]^=A(e[o],r);for(var i=0;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n},e.generateECPolynomial=function(t){for(var n=new Uint8Array([1]),r=0;r<t;r++)n=e.mul(n,new Uint8Array([1,w[r]]));return n}}));function C(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}function T(t){return!isNaN(t)&&1<=t&&t<=40}function L(t,e){for(var n=(t=t.bit<<3|e)<<10;0<=i(n)-Z;)n^=1335<<i(n)-Z;return 21522^(t<<10|n)}S.mul,S.mod,S.generateECPolynomial,C.prototype.initialize=function(t){this.degree=t,this.genPoly=S.generateECPolynomial(this.degree)},C.prototype.encode=function(t){var e,n;if(this.genPoly)return(e=new Uint8Array(t.length+this.degree)).set(t),t=S.mod(e,this.genPoly),0<(e=this.degree-t.length)?((n=new Uint8Array(this.degree)).set(t,e),n):t;throw new Error("Encoder not initialized")};var k=C,O="(?:(?![A-Z0-9 $%*+\\-./:]|"+(rt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+".replace(/u/g,"\\u"))+")(?:.|[\r\n]))+",M=new RegExp(rt,"g"),P=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),I=(O=new RegExp(O,"g"),new RegExp("[0-9]+","g")),R=new RegExp("[A-Z $%*+\\-./:]+","g"),N=new RegExp("^"+rt+"$"),B=new RegExp("^[0-9]+$"),D=new RegExp("^[A-Z0-9 $%*+\\-./:]+$"),H={KANJI:M,BYTE_KANJI:P,BYTE:O,NUMERIC:I,ALPHANUMERIC:R,testKanji:function(t){return N.test(t)},testNumeric:function(t){return B.test(t)},testAlphanumeric:function(t){return D.test(t)}},F=a((function(t,e){e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(T(e))return 1<=e&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2];throw new Error("Invalid version: "+e)},e.getBestModeForData=function(t){return H.testNumeric(t)?e.NUMERIC:H.testAlphanumeric(t)?e.ALPHANUMERIC:H.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{var r=t;if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+r)}}catch(t){return n}}})),j=(F.NUMERIC,F.ALPHANUMERIC,F.BYTE,F.KANJI,F.MIXED,F.getCharCountIndicator,F.getBestModeForData,F.isValid,a((function(t,e){var n=i(7973);function o(t,e){return F.getCharCountIndicator(t,e)+4}e.from=function(t,e){return T(t)?parseInt(t,10):e},e.getCapacity=function(t,e,n){if(!T(t))throw new Error("Invalid QR Code version");if(void 0===n&&(n=F.BYTE),e=8*(r[t]-y(t,e)),n===F.MIXED)return e;var i=e-o(n,t);switch(n){case F.NUMERIC:return Math.floor(i/10*3);case F.ALPHANUMERIC:return Math.floor(i/11*2);case F.KANJI:return Math.floor(i/13);default:return F.BYTE,Math.floor(i/8)}},e.getBestVersionForData=function(t,n){var r;if(n=s.from(n,s.M),Array.isArray(t)){if(1<t.length){for(var i=t,a=n,l=1;l<=40;l++)if(function(t,e){var n=0;return t.forEach((function(t){var r=o(t.mode,e);n+=r+t.getBitsLength()})),n}(i,l)<=e.getCapacity(l,a,F.MIXED))return l;return}if(0===t.length)return 1;r=t[0]}else r=t;for(var c=r.mode,d=r.getLength(),u=n,f=1;f<=40;f++)if(d<=e.getCapacity(f,u,c))return f},e.getEncodedBits=function(t){if(!T(t)||t<7)throw new Error("Invalid QR Code version");for(var e=t<<12;0<=i(e)-n;)e^=7973<<i(e)-n;return t<<12|e}}))),Z=(j.getCapacity,j.getBestVersionForData,j.getEncodedBits,i(1335));function G(t){this.mode=F.NUMERIC,this.data=t.toString()}G.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},G.prototype.getLength=function(){return this.data.length},G.prototype.getBitsLength=function(){return G.getBitsLength(this.data.length)},G.prototype.write=function(t){for(var e,n,r=0;r+3<=this.data.length;r+=3)e=this.data.substr(r,3),n=parseInt(e,10),t.put(n,10);var o=this.data.length-r;0<o&&(e=this.data.substr(r),n=parseInt(e,10),t.put(n,3*o+1))};var z=G,U=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function W(t){this.mode=F.ALPHANUMERIC,this.data=t}W.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},W.prototype.getLength=function(){return this.data.length},W.prototype.getBitsLength=function(){return W.getBitsLength(this.data.length)},W.prototype.write=function(t){for(var e=0;e+2<=this.data.length;e+=2){var n=45*U.indexOf(this.data[e]);n+=U.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(U.indexOf(this.data[e]),6)};var K=W;function Y(t){this.mode=F.BYTE,"string"==typeof t&&(t=function(t){for(var e=[],n=t.length,r=0;r<n;r++){var o,i=t.charCodeAt(r);55296<=i&&i<=56319&&r+1<n&&56320<=(o=t.charCodeAt(r+1))&&o<=57343&&(i=1024*(i-55296)+o-56320+65536,r+=1),i<128?e.push(i):i<2048?(e.push(i>>6|192),e.push(63&i|128)):i<55296||57344<=i&&i<65536?(e.push(i>>12|224),e.push(i>>6&63|128),e.push(63&i|128)):65536<=i&&i<=1114111?(e.push(i>>18|240),e.push(i>>12&63|128),e.push(i>>6&63|128),e.push(63&i|128)):e.push(239,191,189)}return new Uint8Array(e).buffer}(t)),this.data=new Uint8Array(t)}Y.getBitsLength=function(t){return 8*t},Y.prototype.getLength=function(){return this.data.length},Y.prototype.getBitsLength=function(){return Y.getBitsLength(this.data.length)},Y.prototype.write=function(t){for(var e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var V=Y;function X(t){this.mode=F.KANJI,this.data=t}X.getBitsLength=function(t){return 13*t},X.prototype.getLength=function(){return this.data.length},X.prototype.getBitsLength=function(){return X.getBitsLength(this.data.length)},X.prototype.write=function(t){for(var e=0;e<this.data.length;e++){r=this.data[e];var r=n(r);if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");r-=49472}t.put(r=192*(r>>>8&255)+(255&r),13)}};var J=X,q=a((function(t){var e={single_source_shortest_paths:function(t,n,r){var o={},i={};i[n]=0;var a,s,l,c,d,u,f,p=e.PriorityQueue.make();for(p.push(n,0);!p.empty();)for(l in s=(a=p.pop()).value,c=a.cost,d=t[s]||{})d.hasOwnProperty(l)&&(u=c+d[l],f=i[l],(void 0===i[l]||u<f)&&(i[l]=u,p.push(l,u),o[l]=s));if(void 0!==r&&void 0===i[r])throw n=["Could not find a path from ",n," to ",r,"."].join(""),new Error(n);return o},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],r=e;r;)n.push(r),r=t[r];return n.reverse(),n},find_path:function(t,n,r){return t=e.single_source_shortest_paths(t,n,r),e.extract_shortest_path_from_predecessor_list(t,r)},PriorityQueue:{make:function(t){var n,r=e.PriorityQueue,o={};for(n in t=t||{},r)r.hasOwnProperty(n)&&(o[n]=r[n]);return o.queue=[],o.sorter=t.sorter||r.default_sorter,o},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){this.queue.push({value:t,cost:e}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=e})),Q=a((function(t,n){function r(t){return unescape(encodeURIComponent(t)).length}function o(t,e,n){for(var r,o=[];null!==(r=t.exec(n));)o.push({data:r[0],index:r.index,mode:e,length:r[0].length});return o}function i(t){var n,r=o(H.NUMERIC,F.NUMERIC,t),i=o(H.ALPHANUMERIC,F.ALPHANUMERIC,t);return t=e()?(n=o(H.BYTE,F.BYTE,t),o(H.KANJI,F.KANJI,t)):(n=o(H.BYTE_KANJI,F.BYTE,t),[]),r.concat(i,n,t).sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function a(t,e){switch(e){case F.NUMERIC:return z.getBitsLength(t);case F.ALPHANUMERIC:return K.getBitsLength(t);case F.KANJI:return J.getBitsLength(t);case F.BYTE:return V.getBitsLength(t)}}function s(t,n){var r=F.getBestModeForData(t);if((n=F.from(n,r))!==F.BYTE&&n.bit<r.bit)throw new Error('"'+t+'" cannot be encoded with mode '+F.toString(n)+".\n Suggested mode is: "+F.toString(r));switch(n=n!==F.KANJI||e()?n:F.BYTE){case F.NUMERIC:return new z(t);case F.ALPHANUMERIC:return new K(t);case F.KANJI:return new J(t);case F.BYTE:return new V(t)}}n.fromArray=function(t){return t.reduce((function(t,e){return"string"==typeof e?t.push(s(e,null)):e.data&&t.push(s(e.data,e.mode)),t}),[])},n.fromString=function(t,e){for(var o=function(t,e){for(var n={},r={start:{}},o=["start"],i=0;i<t.length;i++){for(var s=t[i],l=[],c=0;c<s.length;c++){var d=s[c],u=""+i+c;l.push(u),n[u]={node:d,lastCount:0},r[u]={};for(var f=0;f<o.length;f++){var p=o[f];n[p]&&n[p].node.mode===d.mode?(r[p][u]=a(n[p].lastCount+d.length,d.mode)-a(n[p].lastCount,d.mode),n[p].lastCount+=d.length):(n[p]&&(n[p].lastCount=d.length),r[p][u]=a(d.length,d.mode)+4+F.getCharCountIndicator(d.mode,e))}}o=l}for(var h=0;h<o.length;h++)r[o[h]].end=0;return{map:r,table:n}}(function(t){for(var e=[],n=0;n<t.length;n++){var o=t[n];switch(o.mode){case F.NUMERIC:e.push([o,{data:o.data,mode:F.ALPHANUMERIC,length:o.length},{data:o.data,mode:F.BYTE,length:o.length}]);break;case F.ALPHANUMERIC:e.push([o,{data:o.data,mode:F.BYTE,length:o.length}]);break;case F.KANJI:e.push([o,{data:o.data,mode:F.BYTE,length:r(o.data)}]);break;case F.BYTE:e.push([{data:o.data,mode:F.BYTE,length:r(o.data)}])}}return e}(i(t)),e),s=q.find_path(o.map,"start","end"),l=[],c=1;c<s.length-1;c++)l.push(o.table[s[c]].node);return n.fromArray(l.reduce((function(t,e){var n=0<=t.length-1?t[t.length-1]:null;return n&&n.mode===e.mode?t[t.length-1].data+=e.data:t.push(e),t}),[]))},n.rawSplit=function(t){return n.fromArray(i(t))}}));function tt(t,e,n){for(var r,o=t.size,i=L(e,n),a=0;a<15;a++)r=1==(i>>a&1),a<6?t.set(a,8,r,!0):a<8?t.set(a+1,8,r,!0):t.set(o-15+a,8,r,!0),a<8?t.set(8,o-a-1,r,!0):a<9?t.set(8,15-a-1+1,r,!0):t.set(8,15-a-1,r,!0);t.set(o-8,8,1,!0)}function et(t,e){if(void 0===t||""===t)throw new Error("No input text");var i,a,l=s.M;if(void 0!==e&&(l=s.from(e.errorCorrectionLevel,s.M),i=j.from(e.version),a=g.from(e.maskPattern),e.toSJISFunc)){if("function"!=typeof(e=e.toSJISFunc))throw new Error('"toSJISFunc" is not a valid function.');n=e}return function(t,e,n,i){var a;if(Array.isArray(t))a=Q.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");(l=e)||(s=Q.rawSplit(t),l=j.getBestVersionForData(s,n)),a=Q.fromString(t,l||40)}if(!(s=j.getBestVersionForData(a,n)))throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<s)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+s+".\n")}else e=s;t=function(t,e,n){var o=new c;for(n.forEach((function(e){o.put(e.mode.bit,4),o.put(e.getLength(),F.getCharCountIndicator(e.mode,t)),e.write(o)})),n=8*(r[t]-y(t,e)),o.getLengthInBits()+4<=n&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);for(var i=(n-o.getLengthInBits())/8,a=0;a<i;a++)o.put(a%2?17:236,8);n=o;for(var s=r[f=t],l=s-y(f,e),d=b(f,e),u=d-s%d,f=Math.floor(s/d),p=Math.floor(l/d),h=p+1,g=f-p,m=new k(g),v=0,w=new Array(d),x=new Array(d),_=0,E=new Uint8Array(n.buffer),$=0;$<d;$++){var A=$<u?p:h;w[$]=E.slice(v,v+A),x[$]=m.encode(w[$]),v+=A,_=Math.max(_,A)}for(var S,C=new Uint8Array(s),T=0,L=0;L<_;L++)for(S=0;S<d;S++)L<w[S].length&&(C[T++]=w[S][L]);for(L=0;L<g;L++)for(S=0;S<d;S++)C[T++]=x[S][L];return C}(e,n,a);for(var s,l=o(e),d=s=new u(l),p=(l=e,d.size),m=h(l),v=0;v<m.length;v++)for(var w=m[v][0],x=m[v][1],_=-1;_<=7;_++)if(!(w+_<=-1||p<=w+_))for(var E=-1;E<=7;E++)x+E<=-1||p<=x+E||(0<=_&&_<=6&&(0===E||6===E)||0<=E&&E<=6&&(0===_||6===_)||2<=_&&_<=4&&2<=E&&E<=4?d.set(w+_,x+E,!0,!0):d.set(w+_,x+E,!1,!0));for(var $=s,A=$.size,S=8;S<A-8;S++){var C=S%2==0;$.set(S,6,C,!0),$.set(6,S,C,!0)}for(var T=s,L=e,O=f.getPositions(L),M=0;M<O.length;M++)for(var P=O[M][0],I=O[M][1],R=-2;R<=2;R++)for(var N=-2;N<=2;N++)-2===R||2===R||-2===N||2===N||0===R&&0===N?T.set(P+R,I+N,!0,!0):T.set(P+R,I+N,!1,!0);if(tt(s,n,0),7<=e){var B=s;L=e;for(var D,H,Z,G=B.size,z=j.getEncodedBits(L),U=0;U<18;U++)D=Math.floor(U/3),B.set(D,H=U%3+G-8-3,Z=1==(z>>U&1),!0),B.set(H,D,Z,!0)}for(var W=s,K=t,Y=W.size,V=-1,X=Y-1,J=7,q=0,et=Y-1;0<et;et-=2)for(6===et&&et--;;){for(var nt,rt=0;rt<2;rt++)W.isReserved(X,et-rt)||(nt=!1,q<K.length&&(nt=1==(K[q]>>>J&1)),W.set(X,et-rt,nt),-1==--J&&(q++,J=7));if((X+=V)<0||Y<=X){X-=V,V=-V;break}}return isNaN(i)&&(i=g.getBestMask(s,tt.bind(null,s,n))),g.applyMask(i,s),tt(s,n,i),{modules:s,version:e,errorCorrectionLevel:n,maskPattern:i,segments:a}}(t,i,l,a)}Q.fromArray,Q.fromString,Q.rawSplit;var nt=a((function(t,e){function n(t){if("string"!=typeof(t="number"==typeof t?t.toString():t))throw new Error("Color should be defined as hex string");var e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||8<e.length)throw new Error("Invalid hex color: "+t);return 6===(e=3!==e.length&&4!==e.length?e:Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))).length&&e.push("F","F"),{r:(t=parseInt(e.join(""),16))>>24&255,g:t>>16&255,b:t>>8&255,a:255&t,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){(t=t||{}).color||(t.color={});var e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,r=t.width&&21<=t.width?t.width:void 0,o=t.scale||4;return{width:r,scale:r?4:o,margin:e,color:{dark:n(t.color.dark||"#000000ff"),light:n(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,n){var r=e.getScale(t,n);return Math.floor((t+2*n.margin)*r)},e.qrToImageData=function(t,n,r){for(var o=n.modules.size,i=n.modules.data,a=e.getScale(o,r),s=Math.floor((o+2*r.margin)*a),l=r.margin*a,c=[r.color.light,r.color.dark],d=0;d<s;d++)for(var u=0;u<s;u++){var f=4*(d*s+u),p=r.color.light;l<=d&&l<=u&&d<s-l&&u<s-l&&(p=c[i[Math.floor((d-l)/a)*o+Math.floor((u-l)/a)]?1:0]),t[f++]=p.r,t[f++]=p.g,t[f++]=p.b,t[f]=p.a}}})),rt=(nt.getOptions,nt.getScale,nt.getImageWidth,nt.qrToImageData,a((function(t,e){e.render=function(t,e,n){var r=e,o=(void 0!==n||e&&e.getContext||(n=e,e=void 0),e||(r=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),n=nt.getOptions(n),e=nt.getImageWidth(t.modules.size,n),r.getContext("2d")),i=o.createImageData(e,e);return nt.qrToImageData(i.data,t,n),t=r,n=e,o.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px",o.putImageData(i,0,0),r},e.renderToDataURL=function(t,n,r){return void 0!==r||n&&n.getContext||(r=n,n=void 0),t=e.render(t,n,r=r||{}),n=r.type||"image/png",r=r.rendererOpts||{},t.toDataURL(n,r.quality)}})));function ot(t,e){var n=t.a/255;return t=e+'="'+t.hex+'"',n<1?t+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':t}function it(t,e,n){return t+=e,void 0!==n&&(t+=" "+n),t}function at(t,e,n,r,o){var i,a=(i=[].slice.call(arguments,1)).length;if(!((i="function"==typeof i[a-1])||"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then))throw new Error("Callback required as last argument");if(!i){if(a<1)throw new Error("Too few arguments provided");return 1===a?(n=e,e=r=void 0):2!==a||e.getContext||(r=n,n=e,e=void 0),new Promise((function(o,i){try{var a=et(n,r);o(t(a,e,r))}catch(o){i(o)}}))}if(a<2)throw new Error("Too few arguments provided");2===a?(o=n,n=e,e=r=void 0):3===a&&(e.getContext&&void 0===o?(o=r,r=void 0):(o=r,r=n,n=e,e=void 0));try{var s=et(n,r);o(null,t(s,e,r))}catch(t){o(t)}}return rt.render,rt.renderToDataURL,M=et,P=at.bind(null,rt.render),O=at.bind(null,rt.renderToDataURL),I=at.bind(null,(function(t,e,n){return t=t,n=n,n=nt.getOptions(n),r=t.modules.size,t=t.modules.data,o=r+2*n.margin,i=n.color.light.a?"<path "+ot(n.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",t="<path "+ot(n.color.dark,"stroke")+' d="'+function(t,e,n){for(var r="",o=0,i=!1,a=0,s=0;s<t.length;s++){var l=Math.floor(s%e),c=Math.floor(s/e);l||i||(i=!0),t[s]?(a++,0<s&&0<l&&t[s-1]||(r+=i?it("M",l+n,.5+c+n):it("m",o,0),o=0,i=!1),l+1<e&&t[s+1]||(r+=it("h",a),a=0)):o++}return r}(t,r,n.margin)+'"/>','<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+'viewBox="0 0 '+o+" "+o+'" shape-rendering="crispEdges">'+i+t+"</svg>\n";var r,o,i})),R={create:M,toCanvas:P,toDataURL:O,toString:I},t.create=M,t.default=R,t.toCanvas=P,t.toDataURL=O,t.toString=I,Object.defineProperty(t,"__esModule",{value:!0}),t}({})}.apply(e,[]),void 0!==e&&(t.exports=e)},401:()=>{!function(){"use strict";function t(t,e){function n(t){return Math.round(t/Math.abs(t))}this.x=t,this.y=e,this.reverse=function(){return new this.constructor(-1*this.x,-1*this.y)},this._length=null,this.getLength=function(){return this._length||(this._length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))),this._length},this.resizeTo=function(t){var e,r;return 0===this.x&&0===this.y?this._length=0:0===this.x?(this._length=t,this.y=t*n(this.y)):0===this.y?(this._length=t,this.x=t*n(this.x)):(r=(e=Math.abs(this.y/this.x))*(e=Math.sqrt(Math.pow(t,2)/(1+Math.pow(e,2)))),this._length=t,this.x=e*n(this.x),this.y=r*n(this.y)),this},this.angleTo=function(t){var e=this.getLength()*t.getLength();return 0==e?0:Math.acos(Math.min(Math.max((this.x*t.x+this.y*t.y)/e,-1),1))/Math.PI}}function e(e,n){this.x=e,this.y=n,this.getVectorToCoordinates=function(e,n){return new t(e-this.x,n-this.y)},this.getVectorFromCoordinates=function(t,e){return this.getVectorToCoordinates(t,e).reverse()},this.getVectorToPoint=function(e){return new t(e.x-this.x,e.y-this.y)},this.getVectorFromPoint=function(t){return this.getVectorToPoint(t).reverse()}}function n(t,e){return e=Math.pow(10,e),Math.round(t*e)/e}function r(r,o,i){for(var a,s,l,c,d,u,f,p,h,g=["M",n(r.x[0]-o,2),n(r.y[0]-i,2)],m=1,v=r.x.length-1;m<v;m++)g.push.apply(g,(s=m,l=1,u=d=c=void 0,c=new e((a=r).x[(s+=1)-1],a.y[s-1]),d=new e(a.x[s],a.y[s]),d=c.getVectorToPoint(d),(c=(u=new e(a.x[s-2],a.y[s-2])).getVectorToPoint(c)).getLength()>l?(l=2<s?new e(a.x[s-3],a.y[s-3]).getVectorToPoint(u):new t(0,0),a=.35*c.getLength(),s=c.angleTo(l.reverse()),u=d.angleTo(c.reverse()),l=new t(l.x+c.x,l.y+c.y).resizeTo(Math.max(.05,s)*a),s=new t(c.x+d.x,c.y+d.y).reverse().resizeTo(Math.max(.05,u)*a),d=new t(c.x+s.x,c.y+s.y),["c",n(l.x,2),n(l.y,2),n(d.x,2),n(d.y,2),n(c.x,2),n(c.y,2)]):["l",n(c.x,2),n(c.y,2)]));return 0<v?g.push.apply(g,(o=m,f=(i=r).x.length-1,p=new e(i.x[f],i.y[f]),p=(h=new e(i.x[f-1],i.y[f-1])).getVectorToPoint(p),1<f&&p.getLength()>o?(o=new e(i.x[f-2],i.y[f-2]).getVectorToPoint(h),i=p.angleTo(o.reverse()),f=.35*p.getLength(),["c",n((h=new t(o.x+p.x,o.y+p.y).resizeTo(Math.max(.05,i)*f)).x,2),n(h.y,2),n(p.x,2),n(p.y,2),n(p.x,2),n(p.y,2)]):["l",n(p.x,2),n(p.y,2)])):0==v&&g.push.apply(g,["l",1,1]),g.join(" ")}function o(t,e){var n,o,i,a,s,l=['<?xml version="1.0" encoding="UTF-8" standalone="no"?>','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'],c=t.length,d=[],u=[],f=0,p=0,h=0,g=0,m=[];if(0!==c){for(n=0;n<c;n++)o=function(t){for(var e=[],n={x:[],y:[]},r=0,o=t.x.length;r<o;r++)e.push({x:t.x[r],y:t.y[r]});for(r=0,o=(e=simplify(e,.7,!0)).length;r<o;r++)n.x.push(e[r].x),n.y.push(e[r].y);return n}(t[n]),m.push(o),d=d.concat(o.x),u=u.concat(o.y);i=Math.min.apply(null,d)-1,a=Math.max.apply(null,d)+1,h=i<0?0:i,g=(s=Math.min.apply(null,u)-1)<0?0:s,f=a-i,p=Math.max.apply(null,u)+1-s}for(l.push('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+f.toString()+'" height="'+p.toString()+'">'),n=0,c=m.length;n<c;n++)o=m[n],l.push("<path "+function(t){for(var e=[],n=[["fill",void 0,"none"],["stroke","color","#000000"],["stroke-width","lineWidth",2],["stroke-linecap",void 0,"round"],["stroke-linejoin",void 0,"round"]],r=n.length-1;0<=r;r--){var o=n[r][0],i=n[r][1],a=n[r][2];e.push(o+'="'+(i in t&&t[i]?t[i]:a)+'"')}return e.join(" ")}(e)+' d="'+r(o,h,g)+'"/>');return l.push("</svg>"),l.join("")}window.simplify=function(t,e,n){return e=void 0!==e?e*e:1,function(t,e){var n,r,o,i,a,s,l,c,d,u,f=t.length,p=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(f),h=0,g=f-1,m=[],v=[],b=[];for(p[h]=p[g]=1;g;){for(r=0,n=h+1;n<g;n++)i=t[n],a=t[h],s=t[g],u=d=c=l=void 0,c=a.x,a=a.y,d=s.x-c,u=s.y-a,0===d&&0===u||(1<(l=((i.x-c)*d+(i.y-a)*u)/(d*d+u*u))?(c=s.x,a=s.y):0<l&&(c+=d*l,a+=u*l)),r<(s=(d=i.x-c)*d+(u=i.y-a)*u)&&(o=n,r=s);e<r&&(p[o]=1,m.push(h),v.push(o),m.push(o),v.push(g)),h=m.pop(),g=v.pop()}for(n=0;n<f;n++)p[n]&&b.push(t[n]);return b}(t=n?t:function(t,e){for(var n,r,o,i,a=t.length,s=t[0],l=[s],c=1;c<a;c++)o=s,e<(i=(r=n=t[c]).x-o.x)*i+(r=r.y-o.y)*r&&(l.push(n),s=n);return s!==n&&l.push(n),l}(t,e),e)},"function"!=typeof i&&(i=function(t){for(var e,n,r,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),i=0,a=0,s="",l=[];r=t.charCodeAt(i++),e=t.charCodeAt(i++),n=t.charCodeAt(i++),l[a++]=o[(r=r<<16|e<<8|n)>>18&63]+o[r>>12&63]+o[r>>6&63]+o[63&r],i<t.length;);s=l.join("");var c=t.length%3;return(c?s.slice(0,c-3):s)+"===".slice(c||3)});var i,a="image/svg+xml";function s(t,e){return[a,o(t,e)]}var l,c="image/svg+xml;base64";function d(t,e){return[c,i(o(t,e))]}if("undefined"==typeof $)throw new Error("We need jQuery for some of the functionality. jQuery is not detected. Failing to initialize...");(l=(l=$).fn.jSignature)("addPlugin","export","svg",s),l("addPlugin","export",a,s),l("addPlugin","export","svgbase64",d),l("addPlugin","export",c,d)}()},511:()=>{$.fn.jSignature("addPlugin","instance","UndoButton",(function(t){var e="jSignature";this.events.subscribe(e+".attachingEventHandlers",(function(){var n;this.settings[t]&&(n=this.settings[t],function(t,e,n){var r,o,i,a;t=t.call(this),o=t,(r=this).events.subscribe(e+".change",(function(){r.dataEngine.data.length?o.show():o.hide()})),t=t,n=(i=this).events.topics.hasOwnProperty(e+".undo")?n:e,a=n+".undo",t.bind("click",(function(){i.events.publish(a)})),i.events.subscribe(a,(function(){var t=i.dataEngine.data;t.length&&(t.pop(),i.resetCanvas(t))}))}.call(this,n="function"!=typeof n?function(){var t=$('<input type="button" value="撤销" style="position:absolute;display:none;margin:0 !important;top:auto" />').appendTo(this.$controlbarLower),e=t.width();return t.css("left",Math.round((this.canvas.width-e)/2)),e!==t.width()&&t.width(e),t}:n,e,t))}))}))},485:()=>{function t(t,e){var n;return this.kick=function(){clearTimeout(n),n=setTimeout(e,t)},this.clear=function(){clearTimeout(n)},this}function e(t){"use strict";this.topics={},this.context=t||this,this.publish=function(t,e,n,r){if(this.topics[t]){for(var o,i,a=this.topics[t],s=Array.prototype.slice.call(arguments,1),l=[],c=[],d=0,u=a.length;d<u;d++)o=(i=a[d])[0],i[1]&&(i[0]=function(){},l.push(d)),c.push(o);for(d=0,u=l.length;d<u;d++)a.splice(l[d],1);for(d=0,u=c.length;d<u;d++)c[d].apply(this.context,s)}},this.subscribe=function(t,e,n){return this.topics[t]?this.topics[t].push([e,n]):this.topics[t]=[[e,n]],{topic:t,callback:e}},this.unsubscribe=function(t){if(this.topics[t.topic])for(var e=this.topics[t.topic],n=0,r=e.length;n<r;n++)e[n]&&e[n][0]===t.callback&&e.splice(n,1)}}var n,r,o,i,a,s,l,c="jSignature";function d(t,e){function n(t){return Math.round(t/Math.abs(t))}this.x=t,this.y=e,this.reverse=function(){return new this.constructor(-1*this.x,-1*this.y)},this._length=null,this.getLength=function(){return this._length||(this._length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))),this._length},this.resizeTo=function(t){var e,r;return 0===this.x&&0===this.y?this._length=0:0===this.x?(this._length=t,this.y=t*n(this.y)):0===this.y?(this._length=t,this.x=t*n(this.x)):(r=(e=Math.abs(this.y/this.x))*(e=Math.sqrt(Math.pow(t,2)/(1+Math.pow(e,2)))),this._length=t,this.x=e*n(this.x),this.y=r*n(this.y)),this},this.angleTo=function(t){var e=this.getLength()*t.getLength();return 0==e?0:Math.acos(Math.min(Math.max((this.x*t.x+this.y*t.y)/e,-1),1))/Math.PI}}function u(t,e){this.x=t,this.y=e,this.getVectorToCoordinates=function(t,e){return new d(t-this.x,e-this.y)},this.getVectorFromCoordinates=function(t,e){return this.getVectorToCoordinates(t,e).reverse()},this.getVectorToPoint=function(t){return new d(t.x-this.x,t.y-this.y)},this.getVectorFromPoint=function(t){return this.getVectorToPoint(t).reverse()}}function f(t,e,n,r,o){if(this.data=t,this.context=e,t.length)for(var i,a,s=t.length,l=0;l<s;l++){a=(i=t[l]).x.length,n.call(e,i);for(var c=1;c<a;c++)r.call(e,i,c);o.call(e,i)}this.changed=function(){},this.startStrokeFn=n,this.addToStrokeFn=r,this.endStrokeFn=o,this.inStroke=!1,this._lastPoint=null,this._stroke=null,this.startStroke=function(t){var e,n,r;return t&&"number"==typeof t.x&&"number"==typeof t.y?(this._stroke={x:[t.x],y:[t.y]},this.data.push(this._stroke),this._lastPoint=t,this.inStroke=!0,e=this._stroke,n=this.startStrokeFn,r=this.context,setTimeout((function(){n.call(r,e)}),3),t):null},this.addToStroke=function(t){var e,n,r,o;return this.inStroke&&"number"==typeof t.x&&"number"==typeof t.y&&4<Math.abs(t.x-this._lastPoint.x)+Math.abs(t.y-this._lastPoint.y)?(e=this._stroke.x.length,this._stroke.x.push(t.x),this._stroke.y.push(t.y),this._lastPoint=t,n=this._stroke,r=this.addToStrokeFn,o=this.context,setTimeout((function(){r.call(o,n,e)}),3),t):null},this.endStroke=function(){var t,e,n,r,o=this.inStroke;return this.inStroke=!1,this._lastPoint=null,o?(t=this._stroke,e=this.endStrokeFn,n=this.context,r=this.changed,setTimeout((function(){e.call(n,t),r.call(n)}),3),!0):null}}function p(t,e,n,r,o){t.beginPath(),t.moveTo(e,n),t.lineTo(r,o),t.closePath(),t.stroke()}function h(t,e,n,r,o,i,a,s,l){t.beginPath(),t.moveTo(e,n),t.bezierCurveTo(i,a,s,l,r,o),t.closePath(),t.stroke()}function g(t){var e,n,r,o;e=this.canvasContext,n=t.x[0],t=t.y[0],r=this.settings.lineWidth,o=e.fillStyle,e.fillStyle=e.strokeStyle,e.fillRect(n+r/-2,t+r/-2,r,r),e.fillStyle=o}function m(t,e){var n,r,o,i,a=new u(t.x[e-1],t.y[e-1]),s=new u(t.x[e],t.y[e]),l=a.getVectorToPoint(s);1<e&&(r=(n=new u(t.x[e-2],t.y[e-2])).getVectorToPoint(a)).getLength()>this.lineCurveThreshold&&(t=2<e?new u(t.x[e-3],t.y[e-3]).getVectorToPoint(n):new d(0,0),e=.35*r.getLength(),i=r.angleTo(t.reverse()),o=l.angleTo(r.reverse()),t=new d(t.x+r.x,t.y+r.y).resizeTo(Math.max(.05,i)*e),i=new d(r.x+l.x,r.y+l.y).reverse().resizeTo(Math.max(.05,o)*e),h(this.canvasContext,n.x,n.y,a.x,a.y,n.x+t.x,n.y+t.y,a.x+i.x,a.y+i.y)),l.getLength()<=this.lineCurveThreshold&&p(this.canvasContext,a.x,a.y,s.x,s.y)}function v(t){var e,n,r,o=t.x.length-1;0<o&&(e=new u(t.x[o],t.y[o]),(r=(n=new u(t.x[o-1],t.y[o-1])).getVectorToPoint(e)).getLength()>this.lineCurveThreshold&&(1<o?(o=new d((t=new u(t.x[o-2],t.y[o-2]).getVectorToPoint(n)).x+r.x,t.y+r.y).resizeTo(r.getLength()/2),h(this.canvasContext,n.x,n.y,e.x,e.y,n.x+o.x,n.y+o.y,e.x,e.y)):p(this.canvasContext,n.x,n.y,e.x,e.y)))}function b(n,r,o){n=this.$parent=$(n);var i,a=this.eventTokens={},s=(this.events=new e(this),$.fn[c]("globalEvents")),l={width:"ratio",height:"ratio",sizeRatio:4,color:"#000","background-color":"#fff","decor-color":"#eee",lineWidth:0,minFatFingerCompensation:-10,showUndoButton:!1,readOnly:!1,data:[],signatureLine:!1};for(i in $.extend(l,function(t){for(var e,n=t.css("color"),r=t[0],o=!1;r&&!e&&!o;){try{u=$(r).css("background-color")}catch(t){u="transparent"}"transparent"!==u&&"rgba(0, 0, 0, 0)"!==u&&(e=u),o=r.body,r=r.parentNode}function i(t){return"rgb("+[t.r,t.g,t.b].join(", ")+")"}t=/rgb[a]*\((\d+),\s*(\d+),\s*(\d+)/;var a,s,l,c,d=/#([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})/,u=void 0;return(u=n.match(t))?a={r:parseInt(u[1],10),g:parseInt(u[2],10),b:parseInt(u[3],10)}:(u=n.match(d))&&(a={r:parseInt(u[1],16),g:parseInt(u[2],16),b:parseInt(u[3],16)}),e?(u=void 0,(u=e.match(t))?s={r:parseInt(u[1],10),g:parseInt(u[2],10),b:parseInt(u[3],10)}:(u=e.match(d))&&(s={r:parseInt(u[1],16),g:parseInt(u[2],16),b:parseInt(u[3],16)})):s=a&&127<Math.max.apply(null,[a.r,a.g,a.b])?{r:0,g:0,b:0}:{r:255,g:255,b:255},t=a&&s?(t=Math.max.apply(null,[a.r,a.g,a.b]),l=Math.max.apply(null,[s.r,s.g,s.b]),{r:c=Math.round(l+-1*(l-t)*.75),g:c,b:c}):a?(d=127<(l=Math.max.apply(null,[a.r,a.g,a.b]))?-1:1,{r:c=Math.round(l+96*d),g:c,b:c}):{r:191,g:191,b:191},{color:n,"background-color":s?i(s):e,"decor-color":i(t)}}(n)),r&&$.extend(l,r),this.settings=l,o)o.hasOwnProperty(i)&&o[i].call(this,i);this.events.publish(c+".initializing"),this.$controlbarUpper=$('<div style="padding:0 !important; margin:0 !important;width: 100% !important; height: 0 !important; -ms-touch-action: none; touch-action: none;margin-top:-1em !important; margin-bottom:1em !important;"></div>').appendTo(n),this.isCanvasEmulator=!1,r=this.canvas=this.initializeCanvas(l);var d=$(r);return this.$controlbarLower=$('<div style="padding:0 !important; margin:0 !important;width: 100% !important; height: 0 !important; -ms-touch-action: none; touch-action: none;margin-top:-1.5em !important; margin-bottom:1.5em !important; position: relative;"></div>').appendTo(n),this.canvasContext=r.getContext("2d"),d.data(c+".this",this),l.lineWidth=(n=l.lineWidth,r=r.width,n||Math.max(Math.round(r/400),2)),this.lineCurveThreshold=3*l.lineWidth,l.cssclass&&""!=$.trim(l.cssclass)&&d.addClass(l.cssclass),this.fatFingerCompensation=0,n=function(e){function n(t){return t=t.changedTouches&&0<t.changedTouches.length?t.changedTouches[0]:t,new u(Math.round(t.pageX+r),Math.round(t.pageY+o)+e.fatFingerCompensation)}var r,o,i=new t(750,(function(){e.dataEngine.endStroke()}));return this.drawEndHandler=function(t){if(!e.settings.readOnly){try{t.preventDefault()}catch(t){}i.clear(),e.dataEngine.endStroke()}},this.drawStartHandler=function(t){var a;e.settings.readOnly||(t.preventDefault(),a=$(e.canvas).offset(),r=-1*a.left,o=-1*a.top,e.dataEngine.startStroke(n(t)),i.kick())},this.drawMoveHandler=function(t){e.settings.readOnly||(t.preventDefault(),e.dataEngine.inStroke&&(e.dataEngine.addToStroke(n(t)),i.kick()))},this}.call({},this),function(t,e,n){var r,o=this.canvas,i=$(o);this.isCanvasEmulator?(i.bind("mousemove."+c,n),i.bind("mouseup."+c,t),i.bind("mousedown."+c,e)):(r="function"==typeof o.addEventListener,this.ontouchstart=function(i){o.onmousedown=o.onmouseup=o.onmousemove=void 0,this.fatFingerCompensation=l.minFatFingerCompensation&&-3*l.lineWidth>l.minFatFingerCompensation?-3*l.lineWidth:l.minFatFingerCompensation,e(i),r?(o.addEventListener("touchend",t),o.addEventListener("touchstart",e),o.addEventListener("touchmove",n)):(o.ontouchend=t,o.ontouchstart=e,o.ontouchmove=n)},r?o.addEventListener("touchstart",this.ontouchstart):o.ontouchstart=ontouchstart,o.onmousedown=function(i){r?o.removeEventListener("touchstart",this.ontouchstart):o.ontouchstart=o.ontouchend=o.ontouchmove=void 0,e(i),o.onmousedown=e,o.onmouseup=t,o.onmousemove=n},window.navigator.msPointerEnabled&&(o.onmspointerdown=e,o.onmspointerup=t,o.onmspointermove=n))}.call(this,n.drawEndHandler,n.drawStartHandler,n.drawMoveHandler),a[c+".windowmouseup"]=s.subscribe(c+".windowmouseup",n.drawEndHandler),this.events.publish(c+".attachingEventHandlers"),function(t,e,n,r){"use strict";var o,i,a;"ratio"!==e&&"%"!==e.split("")[e.length-1]||(this.eventTokens[n+".parentresized"]=r.subscribe(n+".parentresized",(o=this.eventTokens,i=this.$parent,a=this.$parent.width(),this.canvas.width,this.canvas.height,function(){var e=i.width();if(e!==a){for(var s in o)o.hasOwnProperty(s)&&(r.unsubscribe(o[s]),delete o[s]);var l=t.settings;for(s in t.$parent.children().remove(),t)t.hasOwnProperty(s)&&delete t[s];l.data=function(t,e){for(var n,r,o,i,a=[],s=0,l=t.length;s<l;s++){for(n={x:[],y:[]},r=0,o=(i=t[s]).x.length;r<o;r++)n.x.push(i.x[r]*e),n.y.push(i.y[r]*e);a.push(n)}return a}(l.data,+e/a),i[n](l)}})))}.call(this,this,l.width.toString(10),c,s),this.resetCanvas(l.data),this.events.publish(c+".initialized"),this}function y(t,e,n){"use strict";var r=new Image,o=this;r.onload=function(){var t=o.getContext("2d"),e=t.shadowColor;t.shadowColor="transparent",t.drawImage(r,0,0,(r.width<o.width?r:o).width,(r.height<o.height?r:o).height),t.shadowColor=e},r.src="data:"+e+","+t}function w(t,e){return this.find("canvas."+c).add(this.filter("canvas."+c)).data(c+".this").resetCanvas(t,e),this}function x(t,e){if(void 0!==e||"string"!=typeof t||"data:"!==t.substr(0,5)||(e=t.slice(5).split(",")[0])!==(t=t.slice(6+e.length))){var n,r=this.find("canvas."+c).add(this.filter("canvas."+c));if(a.hasOwnProperty(e))return 0!==r.length&&a[e].call(r[0],t,e,(n=r.data(c+".this"),function(){return n.resetCanvas.apply(n,arguments)})),this;throw new Error(c+" is unable to find import plugin with for format '"+String(e)+"'")}}function _(t){var e=!1;for(t=t.parentNode;t&&!e;)e=t.body,t=t.parentNode;return!e}b.prototype.resetCanvas=function(t,e){var n=this.canvas,r=this.settings,o=this.canvasContext,i=this.isCanvasEmulator,a=n.width,s=n.height;return e||o.clearRect(0,0,a+30,s+30),o.shadowColor=o.fillStyle=r["background-color"],i&&o.fillRect(0,0,a+30,s+30),o.lineWidth=Math.ceil(parseInt(r.lineWidth,10)),o.lineCap=o.lineJoin="round",r.signatureLine&&(null!=r["decor-color"]&&(o.strokeStyle=r["decor-color"],o.shadowOffsetX=0,o.shadowOffsetY=0,p(o,1.5*(e=Math.round(s/5)),s-e,a-1.5*e,s-e)),i||(o.shadowColor=o.strokeStyle,o.shadowOffsetX=.5*o.lineWidth,o.shadowOffsetY=-.6*o.lineWidth,o.shadowBlur=0)),o.strokeStyle=r.color,a=this.dataEngine=new f(t=t||[],this,g,m,v),r.data=t,$(n).data(c+".data",t).data(c+".settings",r),a.changed=function(t,e){"use strict";return function(){e.publish("jSignature.change"),t.trigger("change")}}(this.$parent,this.events),a.changed(),!0},b.prototype.initializeCanvas=function(t){var e=document.createElement("canvas"),n=$(e);return t.width===t.height&&"ratio"===t.height&&(t.width="100%"),n.css({margin:0,padding:0,border:"none",height:"ratio"!==t.height&&t.height?t.height.toString(10):1,width:"ratio"!==t.width&&t.width?t.width.toString(10):1,"-ms-touch-action":"none","touch-action":"none","background-color":t["background-color"]}),n.appendTo(this.$parent),"ratio"===t.height?n.css("height",Math.round(n.width()/t.sizeRatio)):"ratio"===t.width&&n.css("width",Math.round(n.height()*t.sizeRatio)),n.addClass(c),e.width=n.width(),e.height=n.height(),this.isCanvasEmulator=function(t){if(t.getContext)return!1;var e=t.ownerDocument.parentWindow,n=e.FlashCanvas?t.ownerDocument.parentWindow.FlashCanvas:"undefined"==typeof FlashCanvas?void 0:FlashCanvas;if(n){if(t=n.initElement(t),n=1,1!==(n=e&&e.screen&&e.screen.deviceXDPI&&e.screen.logicalXDPI?+e.screen.deviceXDPI/e.screen.logicalXDPI:n))try{$(t).children("object").get(0).resize(Math.ceil(t.width*n),Math.ceil(t.height*n)),t.getContext("2d").scale(n,n)}catch(t){}return!0}throw new Error("Canvas element does not support 2d context. jSignature cannot proceed.")}(e),e.onselectstart=function(t){return t&&t.preventDefault&&t.preventDefault(),t&&t.stopPropagation&&t.stopPropagation(),!1},e},n=window,function(t,e,r){"use strict";function o(){t.publish(e+".parentresized")}var i;$(n).bind("resize."+e,(function(){i&&clearTimeout(i),i=setTimeout(o,500)})).bind("mouseup."+e,(function(n){t.publish(e+".windowmouseup")}))}(r=new e,c),s={export:i={default:function(t){return this.toDataURL()},native:function(t){return t},image:function(t){var e,n=this.toDataURL();return"string"==typeof n&&4<n.length&&"data:"===n.slice(0,5)&&-1!==n.indexOf(",")?(e=n.indexOf(","),[n.slice(5,e),n.substr(e+1)]):[]}},import:a={native:function(t,e,n){n(t)},image:y,"image/png;base64":y,"image/jpeg;base64":y,"image/jpg;base64":y},instance:o={}},l={init:function(t){return this.each((function(){_(this)||new b(this,t,o)}))},destroy:function(){return this.each((function(){if(!_(this)){var t=$(this).find("canvas").data(c+".this");if(t)for(var e in t.$controlbarLower.remove(),t.$controlbarUpper.remove(),$(t.canvas).remove(),t.eventTokens)t.eventTokens.hasOwnProperty(e)&&r.unsubscribe(t.eventTokens[e])}}))},getSettings:function(){return this.find("canvas."+c).add(this.filter("canvas."+c)).data(c+".this").settings},isModified:function(){return null!==this.find("canvas."+c).add(this.filter("canvas."+c)).data(c+".this").dataEngine._stroke},updateSetting:function(t,e,n){var r=this.find("canvas."+c).add(this.filter("canvas."+c)).data(c+".this");return r.settings[t]=e,r.resetCanvas(n?null:r.settings.data,!0),r.settings[t]},clear:w,reset:w,addPlugin:function(t,e,n){return s.hasOwnProperty(t)&&(s[t][e]=n),this},listPlugins:function(t){var e=[];if(s.hasOwnProperty(t)){var n,r=s[t];for(n in r)r.hasOwnProperty(n)&&e.push(n)}return e},getData:function(t){var e=this.find("canvas."+c).add(this.filter("canvas."+c));if(void 0===t&&(t="default"),0!==e.length&&i.hasOwnProperty(t))return i[t].call(e.get(0),e.data(c+".data"),e.data(c+".settings"))},importData:x,setData:x,globalEvents:function(){return r},disable:function(){this.find("input").attr("disabled",1),this.find("canvas."+c).addClass("disabled").data(c+".this").settings.readOnly=!0},enable:function(){this.find("input").removeAttr("disabled"),this.find("canvas."+c).removeClass("disabled").data(c+".this").settings.readOnly=!1},events:function(){return this.find("canvas."+c).add(this.filter("canvas."+c)).data(c+".this").events}},$.fn[c]=function(t){"use strict";return t&&"object"!=typeof t?"string"==typeof t&&l[t]?l[t].apply(this,Array.prototype.slice.call(arguments,1)):void $.error("Method "+String(t)+" does not exist on jQuery."+c):l.init.apply(this,arguments)}},438:function(t){t.exports=function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function a(e){if(!("string"==typeof e||e instanceof String)){var n=t(e);throw null===e?n="null":"object"===n&&(n=e.constructor.name),new TypeError("Expected a string but received a ".concat(n))}}function s(t){return a(t),t=Date.parse(t),isNaN(t)?null:new Date(t)}for(var l,c={"en-US":/^[A-Z]+$/i,"az-AZ":/^[A-VXYZÇƏĞİıÖŞÜ]+$/i,"bg-BG":/^[А-Я]+$/i,"cs-CZ":/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[A-ZÆØÅ]+$/i,"de-DE":/^[A-ZÄÖÜß]+$/i,"el-GR":/^[Α-ώ]+$/i,"es-ES":/^[A-ZÁÉÍÑÓÚÜ]+$/i,"fa-IR":/^[ابپتثجچحخدذرزژسشصضطظعغفقکگلمنوهی]+$/i,"fi-FI":/^[A-ZÅÄÖ]+$/i,"fr-FR":/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"it-IT":/^[A-ZÀÉÈÌÎÓÒÙ]+$/i,"nb-NO":/^[A-ZÆØÅ]+$/i,"nl-NL":/^[A-ZÁÉËÏÓÖÜÚ]+$/i,"nn-NO":/^[A-ZÆØÅ]+$/i,"hu-HU":/^[A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"pl-PL":/^[A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[A-ZÃÁÀÂÄÇÉÊËÍÏÕÓÔÖÚÜ]+$/i,"ru-RU":/^[А-ЯЁ]+$/i,"sl-SI":/^[A-ZČĆĐŠŽ]+$/i,"sk-SK":/^[A-ZÁČĎÉÍŇÓŠŤÚÝŽĹŔĽÄÔ]+$/i,"sr-RS@latin":/^[A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[А-ЯЂЈЉЊЋЏ]+$/i,"sv-SE":/^[A-ZÅÄÖ]+$/i,"th-TH":/^[ก-๐\s]+$/i,"tr-TR":/^[A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[А-ЩЬЮЯЄIЇҐі]+$/i,"vi-VN":/^[A-ZÀÁẠẢÃÂẦẤẬẨẪĂẰẮẶẲẴĐÈÉẸẺẼÊỀẾỆỂỄÌÍỊỈĨÒÓỌỎÕÔỒỐỘỔỖƠỜỚỢỞỠÙÚỤỦŨƯỪỨỰỬỮỲÝỴỶỸ]+$/i,"ku-IQ":/^[ئابپتجچحخدرڕزژسشعغفڤقکگلڵمنوۆھەیێيطؤثآإأكضصةظذ]+$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/,he:/^[א-ת]+$/,fa:/^['آاءأؤئبپتثجچحخدذرزژسشصضطظعغفقکگلمنوهةی']+$/i,"hi-IN":/^[\u0900-\u0961]+[\u0972-\u097F]*$/i},d={"en-US":/^[0-9A-Z]+$/i,"az-AZ":/^[0-9A-VXYZÇƏĞİıÖŞÜ]+$/i,"bg-BG":/^[0-9А-Я]+$/i,"cs-CZ":/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[0-9A-ZÆØÅ]+$/i,"de-DE":/^[0-9A-ZÄÖÜß]+$/i,"el-GR":/^[0-9Α-ω]+$/i,"es-ES":/^[0-9A-ZÁÉÍÑÓÚÜ]+$/i,"fi-FI":/^[0-9A-ZÅÄÖ]+$/i,"fr-FR":/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"it-IT":/^[0-9A-ZÀÉÈÌÎÓÒÙ]+$/i,"hu-HU":/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"nb-NO":/^[0-9A-ZÆØÅ]+$/i,"nl-NL":/^[0-9A-ZÁÉËÏÓÖÜÚ]+$/i,"nn-NO":/^[0-9A-ZÆØÅ]+$/i,"pl-PL":/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[0-9A-ZÃÁÀÂÄÇÉÊËÍÏÕÓÔÖÚÜ]+$/i,"ru-RU":/^[0-9А-ЯЁ]+$/i,"sl-SI":/^[0-9A-ZČĆĐŠŽ]+$/i,"sk-SK":/^[0-9A-ZÁČĎÉÍŇÓŠŤÚÝŽĹŔĽÄÔ]+$/i,"sr-RS@latin":/^[0-9A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[0-9А-ЯЂЈЉЊЋЏ]+$/i,"sv-SE":/^[0-9A-ZÅÄÖ]+$/i,"th-TH":/^[ก-๙\s]+$/i,"tr-TR":/^[0-9A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[0-9А-ЩЬЮЯЄIЇҐі]+$/i,"ku-IQ":/^[٠١٢٣٤٥٦٧٨٩0-9ئابپتجچحخدرڕزژسشعغفڤقکگلڵمنوۆھەیێيطؤثآإأكضصةظذ]+$/i,"vi-VN":/^[0-9A-ZÀÁẠẢÃÂẦẤẬẨẪĂẰẮẶẲẴĐÈÉẸẺẼÊỀẾỆỂỄÌÍỊỈĨÒÓỌỎÕÔỒỐỘỔỖƠỜỚỢỞỠÙÚỤỦŨƯỪỨỰỬỮỲÝỴỶỸ]+$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/,he:/^[0-9א-ת]+$/,fa:/^['0-9آاءأؤئبپتثجچحخدذرزژسشصضطظعغفقکگلمنوهةی۱۲۳۴۵۶۷۸۹۰']+$/i,"hi-IN":/^[\u0900-\u0963]+[\u0966-\u097F]*$/i},u={"en-US":".",ar:"٫"},f=["AU","GB","HK","IN","NZ","ZA","ZM"],p=0;p<f.length;p++)l="en-".concat(f[p]),c[l]=c["en-US"],d[l]=d["en-US"],u[l]=u["en-US"];for(var h,g=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"],m=0;m<g.length;m++)h="ar-".concat(g[m]),c[h]=c.ar,d[h]=d.ar,u[h]=u.ar;for(var v,b=["IR","AF"],y=0;y<b.length;y++)v="fa-".concat(b[y]),d[v]=d.fa,u[v]=u.ar;for(var w=["ar-EG","ar-LB","ar-LY"],x=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-ZM","es-ES","fr-CA","fr-FR","id-ID","it-IT","ku-IQ","hi-IN","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA","vi-VN"],_=0;_<w.length;_++)u[w[_]]=u["en-US"];for(var E=0;E<x.length;E++)u[x[E]]=",";function $(t,e){a(t),e=e||{};var n=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(e.locale?u[e.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(""===t||"."===t||"-"===t||"+"===t)return!1;var r=parseFloat(t.replace(",","."));return n.test(t)&&(!e.hasOwnProperty("min")||r>=e.min)&&(!e.hasOwnProperty("max")||r<=e.max)&&(!e.hasOwnProperty("lt")||r<e.lt)&&(!e.hasOwnProperty("gt")||r>e.gt)}c["fr-CA"]=c["fr-FR"],d["fr-CA"]=d["fr-FR"],c["pt-BR"]=c["pt-PT"],d["pt-BR"]=d["pt-PT"],u["pt-BR"]=u["pt-PT"],c["pl-Pl"]=c["pl-PL"],d["pl-Pl"]=d["pl-PL"],u["pl-Pl"]=u["pl-PL"],c["fa-AF"]=c.fa;var A=Object.keys(u);function S(t){return $(t)?parseFloat(t):NaN}function C(e){return"object"===t(e)&&null!==e?e="function"==typeof e.toString?e.toString():"[object Object]":(null==e||isNaN(e)&&!e.length)&&(e=""),String(e)}function T(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}var L={ignoreCase:!1,minOccurrences:1};function k(e,n){var r,o;a(e),"object"===t(n)?(r=n.min||0,o=n.max):(r=arguments[1],o=arguments[2]);var i=encodeURI(e).split(/%..|./).length-1;return i>=r&&(void 0===o||i<=o)}var O={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};function M(t,e){a(t),(e=T(e,O)).allow_trailing_dot&&"."===t[t.length-1]&&(t=t.substring(0,t.length-1)),!0===e.allow_wildcard&&0===t.indexOf("*.")&&(t=t.substring(2));var n=t.split("."),r=n[n.length-1];if(e.require_tld){if(n.length<2)return!1;if(!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(r))return!1;if(/\s/.test(r))return!1}return!(!e.allow_numeric_tld&&/^\d+$/.test(r))&&n.every((function(t){return!(t.length>63||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(t)||/[\uff01-\uff5e]/.test(t)||/^-|-$/.test(t)||!e.allow_underscores&&/_/.test(t))}))}var P="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",I="(".concat(P,"[.]){3}").concat(P),R=new RegExp("^".concat(I,"$")),N="(?:[0-9a-fA-F]{1,4})",B=new RegExp("^("+"(?:".concat(N,":){7}(?:").concat(N,"|:)|")+"(?:".concat(N,":){6}(?:").concat(I,"|:").concat(N,"|:)|")+"(?:".concat(N,":){5}(?::").concat(I,"|(:").concat(N,"){1,2}|:)|")+"(?:".concat(N,":){4}(?:(:").concat(N,"){0,1}:").concat(I,"|(:").concat(N,"){1,3}|:)|")+"(?:".concat(N,":){3}(?:(:").concat(N,"){0,2}:").concat(I,"|(:").concat(N,"){1,4}|:)|")+"(?:".concat(N,":){2}(?:(:").concat(N,"){0,3}:").concat(I,"|(:").concat(N,"){1,5}|:)|")+"(?:".concat(N,":){1}(?:(:").concat(N,"){0,4}:").concat(I,"|(:").concat(N,"){1,6}|:)|")+"(?::((?::".concat(N,"){0,5}:").concat(I,"|(?::").concat(N,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function D(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(a(t),!(e=String(e)))return D(t,4)||D(t,6);if("4"===e){if(!R.test(t))return!1;var n=t.split(".").sort((function(t,e){return t-e}));return n[3]<=255}return"6"===e&&!!B.test(t)}var H={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[]},F=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,j=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,Z=/^[a-z\d]+$/,G=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,z=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,U=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,W={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},K=/^\[([^\]]+)\](?::([0-9]+))?$/;function Y(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(t===r||Y(r)&&r.test(t))return!0}return!1}var X=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){4}([0-9a-fA-F]{2})$/,J=/^([0-9a-fA-F]){12}$/,q=/^([0-9a-fA-F]{4}\.){2}([0-9a-fA-F]{4})$/,Q=/^\d{1,3}$/,tt=128,et={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};function nt(t,n){if(n=T("string"==typeof n?{format:n}:n,et),"string"==typeof t&&function(t){return/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(t)}(n.format)){var r,o=n.delimiters.find((function(t){return-1!==n.format.indexOf(t)})),a=n.strictMode?o:n.delimiters.find((function(e){return-1!==t.indexOf(e)})),s=function(t,e){for(var n=[],r=Math.min(t.length,e.length),o=0;o<r;o++)n.push([t[o],e[o]]);return n}(t.split(a),n.format.toLowerCase().split(o)),l={},c=i(s);try{for(c.s();!(r=c.n()).done;){var d=e(r.value,2),u=d[0],f=d[1];if(u.length!==f.length)return!1;l[f.charAt(0)]=u}}catch(o){c.e(o)}finally{c.f()}return new Date("".concat(l.m,"/").concat(l.d,"/").concat(l.y)).getDate()===+l.d}return!n.strictMode&&"[object Date]"===Object.prototype.toString.call(t)&&isFinite(t)}var rt={loose:!1},ot=["true","false","1","0"],it=[].concat(ot,["yes","no"]),at=/^[A-Za-z]{2,4}([_-]([A-Za-z]{4}|[\d]{3}))?([_-]([A-Za-z]{2}|[\d]{3}))?$/,st=Object.keys(c),lt=Object.keys(d),ct=/^[0-9]+$/,dt={AM:/^[A-Z]{2}\d{7}$/,AR:/^[A-Z]{3}\d{6}$/,AT:/^[A-Z]\d{7}$/,AU:/^[A-Z]\d{7}$/,BE:/^[A-Z]{2}\d{6}$/,BG:/^\d{9}$/,BR:/^[A-Z]{2}\d{6}$/,BY:/^[A-Z]{2}\d{7}$/,CA:/^[A-Z]{2}\d{6}$/,CH:/^[A-Z]\d{7}$/,CN:/^G\d{8}$|^E(?![IO])[A-Z0-9]\d{7}$/,CY:/^[A-Z](\d{6}|\d{8})$/,CZ:/^\d{8}$/,DE:/^[CFGHJKLMNPRTVWXYZ0-9]{9}$/,DK:/^\d{9}$/,DZ:/^\d{9}$/,EE:/^([A-Z]\d{7}|[A-Z]{2}\d{7})$/,ES:/^[A-Z0-9]{2}([A-Z0-9]?)\d{6}$/,FI:/^[A-Z]{2}\d{7}$/,FR:/^\d{2}[A-Z]{2}\d{5}$/,GB:/^\d{9}$/,GR:/^[A-Z]{2}\d{7}$/,HR:/^\d{9}$/,HU:/^[A-Z]{2}(\d{6}|\d{7})$/,IE:/^[A-Z0-9]{2}\d{7}$/,IN:/^[A-Z]{1}-?\d{7}$/,ID:/^[A-C]\d{7}$/,IR:/^[A-Z]\d{8}$/,IS:/^(A)\d{7}$/,IT:/^[A-Z0-9]{2}\d{7}$/,JP:/^[A-Z]{2}\d{7}$/,KR:/^[MS]\d{8}$/,LT:/^[A-Z0-9]{8}$/,LU:/^[A-Z0-9]{8}$/,LV:/^[A-Z0-9]{2}\d{7}$/,LY:/^[A-Z0-9]{8}$/,MT:/^\d{7}$/,MZ:/^([A-Z]{2}\d{7})|(\d{2}[A-Z]{2}\d{5})$/,MY:/^[AHK]\d{8}$/,NL:/^[A-Z]{2}[A-Z0-9]{6}\d$/,PL:/^[A-Z]{2}\d{7}$/,PT:/^[A-Z]\d{6}$/,RO:/^\d{8,9}$/,RU:/^\d{9}$/,SE:/^\d{8}$/,SL:/^(P)[A-Z]\d{7}$/,SK:/^[0-9A-Z]\d{7}$/,TR:/^[A-Z]\d{8}$/,UA:/^[A-Z]{2}\d{6}$/,US:/^\d{9}$/},ut=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,ft=/^[-+]?[0-9]+$/;function pt(t,e){a(t);var n=(e=e||{}).hasOwnProperty("allow_leading_zeroes")&&!e.allow_leading_zeroes?ut:ft,r=!e.hasOwnProperty("min")||t>=e.min,o=!e.hasOwnProperty("max")||t<=e.max,i=!e.hasOwnProperty("lt")||t<e.lt,s=!e.hasOwnProperty("gt")||t>e.gt;return n.test(t)&&r&&o&&i&&s}var ht=/^[0-9]{15}$/,gt=/^\d{2}-\d{6}-\d{6}-\d{1}$/,mt=/^[\x00-\x7F]+$/,vt=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,bt=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,yt=/[^\x00-\x7F]/,wt=function(t,e){var n=["^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)","(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))","?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$"].join("");return new RegExp(n,"i")}(),xt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/,_t={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},Et=["","-","+"],$t=/^(0x|0h)?[0-9A-F]+$/i;function At(t){return a(t),$t.test(t)}var St=/^(0o)?[0-7]+$/i,Ct=/^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i,Tt=/^rgb\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){2}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\)$/,Lt=/^rgba\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/,kt=/^rgb\((([0-9]%|[1-9][0-9]%|100%),){2}([0-9]%|[1-9][0-9]%|100%)\)/,Ot=/^rgba\((([0-9]%|[1-9][0-9]%|100%),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)/,Mt=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(,(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}(,((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?))?\)$/i,Pt=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(\s(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}\s?(\/\s((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?)\s?)?\)$/i,It=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/,Rt={AD:/^(AD[0-9]{2})\d{8}[A-Z0-9]{12}$/,AE:/^(AE[0-9]{2})\d{3}\d{16}$/,AL:/^(AL[0-9]{2})\d{8}[A-Z0-9]{16}$/,AT:/^(AT[0-9]{2})\d{16}$/,AZ:/^(AZ[0-9]{2})[A-Z0-9]{4}\d{20}$/,BA:/^(BA[0-9]{2})\d{16}$/,BE:/^(BE[0-9]{2})\d{12}$/,BG:/^(BG[0-9]{2})[A-Z]{4}\d{6}[A-Z0-9]{8}$/,BH:/^(BH[0-9]{2})[A-Z]{4}[A-Z0-9]{14}$/,BR:/^(BR[0-9]{2})\d{23}[A-Z]{1}[A-Z0-9]{1}$/,BY:/^(BY[0-9]{2})[A-Z0-9]{4}\d{20}$/,CH:/^(CH[0-9]{2})\d{5}[A-Z0-9]{12}$/,CR:/^(CR[0-9]{2})\d{18}$/,CY:/^(CY[0-9]{2})\d{8}[A-Z0-9]{16}$/,CZ:/^(CZ[0-9]{2})\d{20}$/,DE:/^(DE[0-9]{2})\d{18}$/,DK:/^(DK[0-9]{2})\d{14}$/,DO:/^(DO[0-9]{2})[A-Z]{4}\d{20}$/,EE:/^(EE[0-9]{2})\d{16}$/,EG:/^(EG[0-9]{2})\d{25}$/,ES:/^(ES[0-9]{2})\d{20}$/,FI:/^(FI[0-9]{2})\d{14}$/,FO:/^(FO[0-9]{2})\d{14}$/,FR:/^(FR[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,GB:/^(GB[0-9]{2})[A-Z]{4}\d{14}$/,GE:/^(GE[0-9]{2})[A-Z0-9]{2}\d{16}$/,GI:/^(GI[0-9]{2})[A-Z]{4}[A-Z0-9]{15}$/,GL:/^(GL[0-9]{2})\d{14}$/,GR:/^(GR[0-9]{2})\d{7}[A-Z0-9]{16}$/,GT:/^(GT[0-9]{2})[A-Z0-9]{4}[A-Z0-9]{20}$/,HR:/^(HR[0-9]{2})\d{17}$/,HU:/^(HU[0-9]{2})\d{24}$/,IE:/^(IE[0-9]{2})[A-Z0-9]{4}\d{14}$/,IL:/^(IL[0-9]{2})\d{19}$/,IQ:/^(IQ[0-9]{2})[A-Z]{4}\d{15}$/,IR:/^(IR[0-9]{2})0\d{2}0\d{18}$/,IS:/^(IS[0-9]{2})\d{22}$/,IT:/^(IT[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,JO:/^(JO[0-9]{2})[A-Z]{4}\d{22}$/,KW:/^(KW[0-9]{2})[A-Z]{4}[A-Z0-9]{22}$/,KZ:/^(KZ[0-9]{2})\d{3}[A-Z0-9]{13}$/,LB:/^(LB[0-9]{2})\d{4}[A-Z0-9]{20}$/,LC:/^(LC[0-9]{2})[A-Z]{4}[A-Z0-9]{24}$/,LI:/^(LI[0-9]{2})\d{5}[A-Z0-9]{12}$/,LT:/^(LT[0-9]{2})\d{16}$/,LU:/^(LU[0-9]{2})\d{3}[A-Z0-9]{13}$/,LV:/^(LV[0-9]{2})[A-Z]{4}[A-Z0-9]{13}$/,MC:/^(MC[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,MD:/^(MD[0-9]{2})[A-Z0-9]{20}$/,ME:/^(ME[0-9]{2})\d{18}$/,MK:/^(MK[0-9]{2})\d{3}[A-Z0-9]{10}\d{2}$/,MR:/^(MR[0-9]{2})\d{23}$/,MT:/^(MT[0-9]{2})[A-Z]{4}\d{5}[A-Z0-9]{18}$/,MU:/^(MU[0-9]{2})[A-Z]{4}\d{19}[A-Z]{3}$/,MZ:/^(MZ[0-9]{2})\d{21}$/,NL:/^(NL[0-9]{2})[A-Z]{4}\d{10}$/,NO:/^(NO[0-9]{2})\d{11}$/,PK:/^(PK[0-9]{2})[A-Z0-9]{4}\d{16}$/,PL:/^(PL[0-9]{2})\d{24}$/,PS:/^(PS[0-9]{2})[A-Z0-9]{4}\d{21}$/,PT:/^(PT[0-9]{2})\d{21}$/,QA:/^(QA[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,RO:/^(RO[0-9]{2})[A-Z]{4}[A-Z0-9]{16}$/,RS:/^(RS[0-9]{2})\d{18}$/,SA:/^(SA[0-9]{2})\d{2}[A-Z0-9]{18}$/,SC:/^(SC[0-9]{2})[A-Z]{4}\d{20}[A-Z]{3}$/,SE:/^(SE[0-9]{2})\d{20}$/,SI:/^(SI[0-9]{2})\d{15}$/,SK:/^(SK[0-9]{2})\d{20}$/,SM:/^(SM[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,SV:/^(SV[0-9]{2})[A-Z0-9]{4}\d{20}$/,TL:/^(TL[0-9]{2})\d{19}$/,TN:/^(TN[0-9]{2})\d{20}$/,TR:/^(TR[0-9]{2})\d{5}[A-Z0-9]{17}$/,UA:/^(UA[0-9]{2})\d{6}[A-Z0-9]{19}$/,VA:/^(VA[0-9]{2})\d{18}$/,VG:/^(VG[0-9]{2})[A-Z0-9]{4}\d{16}$/,XK:/^(XK[0-9]{2})\d{16}$/},Nt=Object.keys(Rt),Bt=new Set(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]),Dt=Bt,Ht=/^[A-Za-z]{6}[A-Za-z0-9]{2}([A-Za-z0-9]{3})?$/,Ft=/^[a-f0-9]{32}$/,jt={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8},Zt=/[^A-Z0-9+\/=]/i,Gt=/^[A-Z0-9_\-]*$/i,zt={urlSafe:!1};function Ut(t,e){a(t),e=T(e,zt);var n=t.length;if(e.urlSafe)return Gt.test(t);if(n%4!=0||Zt.test(t))return!1;var r=t.indexOf("=");return-1===r||r===n-1||r===n-2&&"="===t[n-1]}var Wt={allow_primitives:!1},Kt={ignore_whitespace:!1},Yt={1:/^[0-9A-F]{8}-[0-9A-F]{4}-1[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,2:/^[0-9A-F]{8}-[0-9A-F]{4}-2[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},Vt=/^(?:4[0-9]{12}(?:[0-9]{3,6})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12,15}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|6[27][0-9]{14}|^(81[0-9]{14,17}))$/,Xt={PL:function(t){a(t);var e={1:1,2:3,3:7,4:9,5:1,6:3,7:7,8:9,9:1,10:3,11:0};if(null!=t&&11===t.length&&pt(t,{allow_leading_zeroes:!0})){var n=t.split("").slice(0,-1).reduce((function(t,n,r){return t+Number(n)*e[r+1]}),0),r=n%10,o=Number(t.charAt(t.length-1));if(0===r&&0===o||o===10-r)return!0}return!1},ES:function(t){a(t);var e={X:0,Y:1,Z:2},n=t.trim().toUpperCase();if(!/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/.test(n))return!1;var r=n.slice(0,-1).replace(/[X,Y,Z]/g,(function(t){return e[t]}));return n.endsWith(["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"][r%23])},FI:function(t){return a(t),11===t.length&&(!!t.match(/^\d{6}[\-A\+]\d{3}[0-9ABCDEFHJKLMNPRSTUVWXY]{1}$/)&&"0123456789ABCDEFHJKLMNPRSTUVWXY"[(1e3*parseInt(t.slice(0,6),10)+parseInt(t.slice(7,10),10))%31]===t.slice(10,11))},IN:function(t){var e=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],n=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],r=t.trim();if(!/^[1-9]\d{3}\s?\d{4}\s?\d{4}$/.test(r))return!1;var o=0;return r.replace(/\s/g,"").split("").map(Number).reverse().forEach((function(t,r){o=e[o][n[r%8][t]]})),0===o},IR:function(t){if(!t.match(/^\d{10}$/))return!1;if(t="0000".concat(t).substr(t.length-6),0===parseInt(t.substr(3,6),10))return!1;for(var e=parseInt(t.substr(9,1),10),n=0,r=0;r<9;r++)n+=parseInt(t.substr(r,1),10)*(10-r);return(n%=11)<2&&e===n||n>=2&&e===11-n},IT:function(t){return 9===t.length&&"CA00000AA"!==t&&t.search(/C[A-Z][0-9]{5}[A-Z]{2}/i)>-1},NO:function(t){var e=t.trim();if(isNaN(Number(e)))return!1;if(11!==e.length)return!1;if("00000000000"===e)return!1;var n=e.split("").map(Number),r=(11-(3*n[0]+7*n[1]+6*n[2]+1*n[3]+8*n[4]+9*n[5]+4*n[6]+5*n[7]+2*n[8])%11)%11,o=(11-(5*n[0]+4*n[1]+3*n[2]+2*n[3]+7*n[4]+6*n[5]+5*n[6]+4*n[7]+3*n[8]+2*r)%11)%11;return r===n[9]&&o===n[10]},TH:function(t){if(!t.match(/^[1-8]\d{12}$/))return!1;for(var e=0,n=0;n<12;n++)e+=parseInt(t[n],10)*(13-n);return t[12]===((11-e%11)%10).toString()},LK:function(t){return!(10!==t.length||!/^[1-9]\d{8}[vx]$/i.test(t))||!(12!==t.length||!/^[1-9]\d{11}$/i.test(t))},"he-IL":function(t){var e=t.trim();if(!/^\d{9}$/.test(e))return!1;for(var n,r=e,o=0,i=0;i<r.length;i++)o+=(n=Number(r[i])*(i%2+1))>9?n-9:n;return o%10==0},"ar-LY":function(t){var e=t.trim();return!!/^(1|2)\d{11}$/.test(e)},"ar-TN":function(t){var e=t.trim();return!!/^\d{8}$/.test(e)},"zh-CN":function(t){var e=["11","12","13","14","15","21","22","23","31","32","33","34","35","36","37","41","42","43","44","45","46","50","51","52","53","54","61","62","63","64","65","71","81","82","91"],n=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],r=["1","0","X","9","8","7","6","5","4","3","2"],o=function(t){return e.includes(t)},i=function(t){var e=parseInt(t.substring(0,4),10),n=parseInt(t.substring(4,6),10),r=parseInt(t.substring(6),10),o=new Date(e,n-1,r);return!(o>new Date)&&o.getFullYear()===e&&o.getMonth()===n-1&&o.getDate()===r};return function(t){return!!/^\d{15}|(\d{17}(\d|x|X))$/.test(t)&&(15===t.length?function(t){var e=/^[1-9]\d{7}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}$/.test(t);if(!e)return!1;var n=t.substring(0,2);if(!(e=o(n)))return!1;var r="19".concat(t.substring(6,12));return!!(e=i(r))}(t):function(t){var e=/^[1-9]\d{5}[1-9]\d{3}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}(\d|x|X)$/.test(t);if(!e)return!1;var a=t.substring(0,2);if(!(e=o(a)))return!1;var s=t.substring(6,14);return!!(e=i(s))&&function(t){return function(t){for(var e=t.substring(0,17),o=0,i=0;i<17;i++)o+=parseInt(e.charAt(i),10)*parseInt(n[i],10);return r[o%11]}(t)===t.charAt(17).toUpperCase()}(t)}(t))}(t)},"zh-TW":function(t){var e={A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:34,J:18,K:19,L:20,M:21,N:22,O:35,P:23,Q:24,R:25,S:26,T:27,U:28,V:29,W:32,X:30,Y:31,Z:33},n=t.trim().toUpperCase();return!!/^[A-Z][0-9]{9}$/.test(n)&&Array.from(n).reduce((function(t,n,r){if(0===r){var o=e[n];return o%10*9+Math.floor(o/10)}return 9===r?(10-t%10-Number(n))%10==0:t+Number(n)*(9-r)}),0)}},Jt=/^(\d{8}|\d{13}|\d{14})$/,qt=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/,Qt=/^(?:[0-9]{9}X|[0-9]{10})$/,te=/^(?:[0-9]{13})$/,ee=[1,3],ne="^\\d{4}-?\\d{3}[\\dX]$";function re(t){for(var e=10,n=0;n<t.length-1;n++)e=(parseInt(t[n],10)+e)%10==0?9:(parseInt(t[n],10)+e)%10*2%11;return(e=1===e?0:11-e)===parseInt(t[10],10)}function oe(t){for(var e=0,n=!1,r=t.length-1;r>=0;r--){if(n){var o=2*parseInt(t[r],10);e+=o>9?o.toString().split("").map((function(t){return parseInt(t,10)})).reduce((function(t,e){return t+e}),0):o}else e+=parseInt(t[r],10);n=!n}return e%10==0}function ie(t,e){for(var n=0,r=0;r<t.length;r++)n+=t[r]*(e-r);return n}var ae={andover:["10","12"],atlanta:["60","67"],austin:["50","53"],brookhaven:["01","02","03","04","05","06","11","13","14","16","21","22","23","25","34","51","52","54","55","56","57","58","59","65"],cincinnati:["30","32","35","36","37","38","61"],fresno:["15","24"],internet:["20","26","27","45","46","47"],kansas:["40","44"],memphis:["94","95"],ogden:["80","90"],philadelphia:["33","39","41","42","43","46","48","62","63","64","66","68","71","72","73","74","75","76","77","81","82","83","84","85","86","87","88","91","92","93","98","99"],sba:["31"]};function se(t){for(var e=!1,n=!1,r=0;r<3;r++)if(!e&&/[AEIOU]/.test(t[r]))e=!0;else if(!n&&e&&"X"===t[r])n=!0;else if(r>0){if(e&&!n&&!/[AEIOU]/.test(t[r]))return!1;if(n&&!/X/.test(t[r]))return!1}return!0}var le={"bg-BG":/^\d{10}$/,"cs-CZ":/^\d{6}\/{0,1}\d{3,4}$/,"de-AT":/^\d{9}$/,"de-DE":/^[1-9]\d{10}$/,"dk-DK":/^\d{6}-{0,1}\d{4}$/,"el-CY":/^[09]\d{7}[A-Z]$/,"el-GR":/^([0-4]|[7-9])\d{8}$/,"en-GB":/^\d{10}$|^(?!GB|NK|TN|ZZ)(?![DFIQUV])[A-Z](?![DFIQUVO])[A-Z]\d{6}[ABCD ]$/i,"en-IE":/^\d{7}[A-W][A-IW]{0,1}$/i,"en-US":/^\d{2}[- ]{0,1}\d{7}$/,"es-ES":/^(\d{0,8}|[XYZKLM]\d{7})[A-HJ-NP-TV-Z]$/i,"et-EE":/^[1-6]\d{6}(00[1-9]|0[1-9][0-9]|[1-6][0-9]{2}|70[0-9]|710)\d$/,"fi-FI":/^\d{6}[-+A]\d{3}[0-9A-FHJ-NPR-Y]$/i,"fr-BE":/^\d{11}$/,"fr-FR":/^[0-3]\d{12}$|^[0-3]\d\s\d{2}(\s\d{3}){3}$/,"fr-LU":/^\d{13}$/,"hr-HR":/^\d{11}$/,"hu-HU":/^8\d{9}$/,"it-IT":/^[A-Z]{6}[L-NP-V0-9]{2}[A-EHLMPRST][L-NP-V0-9]{2}[A-ILMZ][L-NP-V0-9]{3}[A-Z]$/i,"lv-LV":/^\d{6}-{0,1}\d{5}$/,"mt-MT":/^\d{3,7}[APMGLHBZ]$|^([1-8])\1\d{7}$/i,"nl-NL":/^\d{9}$/,"pl-PL":/^\d{10,11}$/,"pt-BR":/(?:^\d{11}$)|(?:^\d{14}$)/,"pt-PT":/^\d{9}$/,"ro-RO":/^\d{13}$/,"sk-SK":/^\d{6}\/{0,1}\d{3,4}$/,"sl-SI":/^[1-9]\d{7}$/,"sv-SE":/^(\d{6}[-+]{0,1}\d{4}|(18|19|20)\d{6}[-+]{0,1}\d{4})$/},ce=(le["lb-LU"]=le["fr-LU"],le["lt-LT"]=le["et-EE"],le["nl-BE"]=le["fr-BE"],{"bg-BG":function(t){var e=t.slice(0,2),n=parseInt(t.slice(2,4),10);if(n>40?(n-=40,e="20".concat(e)):n>20?(n-=20,e="18".concat(e)):e="19".concat(e),n<10&&(n="0".concat(n)),!nt("".concat(e,"/").concat(n,"/").concat(t.slice(4,6)),"YYYY/MM/DD"))return!1;for(var r=t.split("").map((function(t){return parseInt(t,10)})),o=[2,4,8,5,10,9,7,3,6],i=0,a=0;a<o.length;a++)i+=r[a]*o[a];return(i=i%11==10?0:i%11)===r[9]},"cs-CZ":function(t){t=t.replace(/\W/,"");var e=parseInt(t.slice(0,2),10);if(10===t.length)e=e<54?"20".concat(e):"19".concat(e);else{if("000"===t.slice(6))return!1;if(!(e<54))return!1;e="19".concat(e)}3===e.length&&(e=[e.slice(0,2),"0",e.slice(2)].join(""));var n=parseInt(t.slice(2,4),10);if(n>50&&(n-=50),n>20){if(parseInt(e,10)<2004)return!1;n-=20}if(n<10&&(n="0".concat(n)),!nt("".concat(e,"/").concat(n,"/").concat(t.slice(4,6)),"YYYY/MM/DD"))return!1;if(10===t.length&&parseInt(t,10)%11!=0){var r=parseInt(t.slice(0,9),10)%11;if(!(parseInt(e,10)<1986&&10===r))return!1;if(0!==parseInt(t.slice(9),10))return!1}return!0},"de-AT":function(t){return oe(t)},"de-DE":function(t){for(var e=t.split("").map((function(t){return parseInt(t,10)})),n=[],r=0;r<e.length-1;r++){n.push("");for(var o=0;o<e.length-1;o++)e[r]===e[o]&&(n[r]+=o)}if(n=n.filter((function(t){return t.length>1})),2!==n.length&&3!==n.length)return!1;if(3===n[0].length){for(var i=n[0].split("").map((function(t){return parseInt(t,10)})),a=0,s=0;s<i.length-1;s++)i[s]+1===i[s+1]&&(a+=1);if(2===a)return!1}return re(t)},"dk-DK":function(t){t=t.replace(/\W/,"");var e=parseInt(t.slice(4,6),10);switch(t.slice(6,7)){case"0":case"1":case"2":case"3":e="19".concat(e);break;case"4":case"9":e=e<37?"20".concat(e):"19".concat(e);break;default:if(e<37)e="20".concat(e);else{if(!(e>58))return!1;e="18".concat(e)}}if(3===e.length&&(e=[e.slice(0,2),"0",e.slice(2)].join("")),!nt("".concat(e,"/").concat(t.slice(2,4),"/").concat(t.slice(0,2)),"YYYY/MM/DD"))return!1;for(var n=t.split("").map((function(t){return parseInt(t,10)})),r=0,o=4,i=0;i<9;i++)r+=n[i]*o,1==(o-=1)&&(o=7);return 1!=(r%=11)&&(0===r?0===n[9]:n[9]===11-r)},"el-CY":function(t){for(var e=t.slice(0,8).split("").map((function(t){return parseInt(t,10)})),n=0,r=1;r<e.length;r+=2)n+=e[r];for(var o=0;o<e.length;o+=2)e[o]<2?n+=1-e[o]:(n+=2*(e[o]-2)+5,e[o]>4&&(n+=2));return String.fromCharCode(n%26+65)===t.charAt(8)},"el-GR":function(t){for(var e=t.split("").map((function(t){return parseInt(t,10)})),n=0,r=0;r<8;r++)n+=e[r]*Math.pow(2,8-r);return n%11%10===e[8]},"en-IE":function(t){var e=ie(t.split("").slice(0,7).map((function(t){return parseInt(t,10)})),8);return 9===t.length&&"W"!==t[8]&&(e+=9*(t[8].charCodeAt(0)-64)),0==(e%=23)?"W"===t[7].toUpperCase():t[7].toUpperCase()===String.fromCharCode(64+e)},"en-US":function(t){return-1!==function(){var t=[];for(var e in ae)ae.hasOwnProperty(e)&&t.push.apply(t,n(ae[e]));return t}().indexOf(t.substr(0,2))},"es-ES":function(t){var e=t.toUpperCase().split("");if(isNaN(parseInt(e[0],10))&&e.length>1){var n=0;switch(e[0]){case"Y":n=1;break;case"Z":n=2}e.splice(0,1,n)}else for(;e.length<9;)e.unshift(0);e=e.join("");var r=parseInt(e.slice(0,8),10)%23;return e[8]===["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"][r]},"et-EE":function(t){var e=t.slice(1,3);switch(t.slice(0,1)){case"1":case"2":e="18".concat(e);break;case"3":case"4":e="19".concat(e);break;default:e="20".concat(e)}if(!nt("".concat(e,"/").concat(t.slice(3,5),"/").concat(t.slice(5,7)),"YYYY/MM/DD"))return!1;for(var n=t.split("").map((function(t){return parseInt(t,10)})),r=0,o=1,i=0;i<10;i++)r+=n[i]*o,10===(o+=1)&&(o=1);if(r%11==10){r=0,o=3;for(var a=0;a<10;a++)r+=n[a]*o,10===(o+=1)&&(o=1);if(r%11==10)return 0===n[10]}return r%11===n[10]},"fi-FI":function(t){var e=t.slice(4,6);switch(t.slice(6,7)){case"+":e="18".concat(e);break;case"-":e="19".concat(e);break;default:e="20".concat(e)}if(!nt("".concat(e,"/").concat(t.slice(2,4),"/").concat(t.slice(0,2)),"YYYY/MM/DD"))return!1;var n=parseInt(t.slice(0,6)+t.slice(7,10),10)%31;return n<10?n===parseInt(t.slice(10),10):["A","B","C","D","E","F","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y"][n-=10]===t.slice(10)},"fr-BE":function(t){if(("00"!==t.slice(2,4)||"00"!==t.slice(4,6))&&!nt("".concat(t.slice(0,2),"/").concat(t.slice(2,4),"/").concat(t.slice(4,6)),"YY/MM/DD"))return!1;var e=97-parseInt(t.slice(0,9),10)%97,n=parseInt(t.slice(9,11),10);return e===n||(e=97-parseInt("2".concat(t.slice(0,9)),10)%97)===n},"fr-FR":function(t){return t=t.replace(/\s/g,""),parseInt(t.slice(0,10),10)%511===parseInt(t.slice(10,13),10)},"fr-LU":function(t){return!!nt("".concat(t.slice(0,4),"/").concat(t.slice(4,6),"/").concat(t.slice(6,8)),"YYYY/MM/DD")&&!!oe(t.slice(0,12))&&function(t){for(var e=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],n=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],r=t.split("").reverse().join(""),o=0,i=0;i<r.length;i++)o=e[o][n[i%8][parseInt(r[i],10)]];return 0===o}("".concat(t.slice(0,11)).concat(t[12]))},"hr-HR":function(t){return re(t)},"hu-HU":function(t){for(var e=t.split("").map((function(t){return parseInt(t,10)})),n=8,r=1;r<9;r++)n+=e[r]*(r+1);return n%11===e[9]},"it-IT":function(t){var e=t.toUpperCase().split("");if(!se(e.slice(0,3)))return!1;if(!se(e.slice(3,6)))return!1;for(var n={L:"0",M:"1",N:"2",P:"3",Q:"4",R:"5",S:"6",T:"7",U:"8",V:"9"},r=0,o=[6,7,9,10,12,13,14];r<o.length;r++){var i=o[r];e[i]in n&&e.splice(i,1,n[e[i]])}var a={A:"01",B:"02",C:"03",D:"04",E:"05",H:"06",L:"07",M:"08",P:"09",R:"10",S:"11",T:"12"}[e[8]],s=parseInt(e[9]+e[10],10);if(s>40&&(s-=40),s<10&&(s="0".concat(s)),!nt("".concat(e[6]).concat(e[7],"/").concat(a,"/").concat(s),"YY/MM/DD"))return!1;for(var l=0,c=1;c<e.length-1;c+=2){var d=parseInt(e[c],10);isNaN(d)&&(d=e[c].charCodeAt(0)-65),l+=d}for(var u={A:1,B:0,C:5,D:7,E:9,F:13,G:15,H:17,I:19,J:21,K:2,L:4,M:18,N:20,O:11,P:3,Q:6,R:8,S:12,T:14,U:16,V:10,W:22,X:25,Y:24,Z:23,0:1,1:0},f=0;f<e.length-1;f+=2){var p=0;if(e[f]in u)p=u[e[f]];else{var h=parseInt(e[f],10);p=2*h+1,h>4&&(p+=2)}l+=p}return String.fromCharCode(65+l%26)===e[15]},"lv-LV":function(t){var e=(t=t.replace(/\W/,"")).slice(0,2);if("32"!==e){if("00"!==t.slice(2,4)){var n=t.slice(4,6);switch(t[6]){case"0":n="18".concat(n);break;case"1":n="19".concat(n);break;default:n="20".concat(n)}if(!nt("".concat(n,"/").concat(t.slice(2,4),"/").concat(e),"YYYY/MM/DD"))return!1}for(var r=1101,o=[1,6,3,7,9,10,5,8,4,2],i=0;i<t.length-1;i++)r-=parseInt(t[i],10)*o[i];return parseInt(t[10],10)===r%11}return!0},"mt-MT":function(t){if(9!==t.length){for(var e=t.toUpperCase().split("");e.length<8;)e.unshift(0);switch(t[7]){case"A":case"P":if(0===parseInt(e[6],10))return!1;break;default:var n=parseInt(e.join("").slice(0,5),10);if(n>32e3)return!1;if(n===parseInt(e.join("").slice(5,7),10))return!1}}return!0},"nl-NL":function(t){return ie(t.split("").slice(0,8).map((function(t){return parseInt(t,10)})),9)%11===parseInt(t[8],10)},"pl-PL":function(t){if(10===t.length){for(var e=[6,5,7,2,3,4,5,6,7],n=0,r=0;r<e.length;r++)n+=parseInt(t[r],10)*e[r];return 10!=(n%=11)&&n===parseInt(t[9],10)}var o=t.slice(0,2),i=parseInt(t.slice(2,4),10);if(i>80?(o="18".concat(o),i-=80):i>60?(o="22".concat(o),i-=60):i>40?(o="21".concat(o),i-=40):i>20?(o="20".concat(o),i-=20):o="19".concat(o),i<10&&(i="0".concat(i)),!nt("".concat(o,"/").concat(i,"/").concat(t.slice(4,6)),"YYYY/MM/DD"))return!1;for(var a=0,s=1,l=0;l<t.length-1;l++)a+=parseInt(t[l],10)*s%10,(s+=2)>10?s=1:5===s&&(s+=2);return(a=10-a%10)===parseInt(t[10],10)},"pt-BR":function(t){if(11===t.length){var e,n;if(e=0,"11111111111"===t||"22222222222"===t||"33333333333"===t||"44444444444"===t||"55555555555"===t||"66666666666"===t||"77777777777"===t||"88888888888"===t||"99999999999"===t||"00000000000"===t)return!1;for(var r=1;r<=9;r++)e+=parseInt(t.substring(r-1,r),10)*(11-r);if(10==(n=10*e%11)&&(n=0),n!==parseInt(t.substring(9,10),10))return!1;e=0;for(var o=1;o<=10;o++)e+=parseInt(t.substring(o-1,o),10)*(12-o);return 10==(n=10*e%11)&&(n=0),n===parseInt(t.substring(10,11),10)}if("00000000000000"===t||"11111111111111"===t||"22222222222222"===t||"33333333333333"===t||"44444444444444"===t||"55555555555555"===t||"66666666666666"===t||"77777777777777"===t||"88888888888888"===t||"99999999999999"===t)return!1;for(var i=t.length-2,a=t.substring(0,i),s=t.substring(i),l=0,c=i-7,d=i;d>=1;d--)l+=a.charAt(i-d)*c,(c-=1)<2&&(c=9);var u=l%11<2?0:11-l%11;if(u!==parseInt(s.charAt(0),10))return!1;i+=1,a=t.substring(0,i),l=0,c=i-7;for(var f=i;f>=1;f--)l+=a.charAt(i-f)*c,(c-=1)<2&&(c=9);return(u=l%11<2?0:11-l%11)===parseInt(s.charAt(1),10)},"pt-PT":function(t){var e=11-ie(t.split("").slice(0,8).map((function(t){return parseInt(t,10)})),9)%11;return e>9?0===parseInt(t[8],10):e===parseInt(t[8],10)},"ro-RO":function(t){if("9000"!==t.slice(0,4)){var e=t.slice(1,3);switch(t[0]){case"1":case"2":e="19".concat(e);break;case"3":case"4":e="18".concat(e);break;case"5":case"6":e="20".concat(e)}var n="".concat(e,"/").concat(t.slice(3,5),"/").concat(t.slice(5,7));if(8===n.length){if(!nt(n,"YY/MM/DD"))return!1}else if(!nt(n,"YYYY/MM/DD"))return!1;for(var r=t.split("").map((function(t){return parseInt(t,10)})),o=[2,7,9,1,4,6,3,5,8,2,7,9],i=0,a=0;a<o.length;a++)i+=r[a]*o[a];return i%11==10?1===r[12]:r[12]===i%11}return!0},"sk-SK":function(t){if(9===t.length){if("000"===(t=t.replace(/\W/,"")).slice(6))return!1;var e=parseInt(t.slice(0,2),10);if(e>53)return!1;e=e<10?"190".concat(e):"19".concat(e);var n=parseInt(t.slice(2,4),10);if(n>50&&(n-=50),n<10&&(n="0".concat(n)),!nt("".concat(e,"/").concat(n,"/").concat(t.slice(4,6)),"YYYY/MM/DD"))return!1}return!0},"sl-SI":function(t){var e=11-ie(t.split("").slice(0,7).map((function(t){return parseInt(t,10)})),8)%11;return 10===e?0===parseInt(t[7],10):e===parseInt(t[7],10)},"sv-SE":function(t){var e=t.slice(0);t.length>11&&(e=e.slice(2));var n="",r=e.slice(2,4),o=parseInt(e.slice(4,6),10);if(t.length>11)n=t.slice(0,4);else if(n=t.slice(0,2),11===t.length&&o<60){var i=(new Date).getFullYear().toString(),a=parseInt(i.slice(0,2),10);if(i=parseInt(i,10),"-"===t[6])n=parseInt("".concat(a).concat(n),10)>i?"".concat(a-1).concat(n):"".concat(a).concat(n);else if(n="".concat(a-1).concat(n),i-parseInt(n,10)<100)return!1}o>60&&(o-=60),o<10&&(o="0".concat(o));var s="".concat(n,"/").concat(r,"/").concat(o);if(8===s.length){if(!nt(s,"YY/MM/DD"))return!1}else if(!nt(s,"YYYY/MM/DD"))return!1;return oe(t.replace(/\W/,""))}}),de=(ce["lb-LU"]=ce["fr-LU"],ce["lt-LT"]=ce["et-EE"],ce["nl-BE"]=ce["fr-BE"],/[-\\\/!@#$%\^&\*\(\)\+\=\[\]]+/g),ue={"de-AT":de,"de-DE":/[\/\\]/g,"fr-BE":de};ue["nl-BE"]=ue["fr-BE"];var fe={"am-AM":/^(\+?374|0)((10|[9|7][0-9])\d{6}$|[2-4]\d{7}$)/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)[569]\d{7}$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-OM":/^((\+|00)968)?(9[1-9])\d{6}$/,"ar-PS":/^(\+?970|0)5[6|9](\d{7})$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^((\+49|0)[1|3])([0|5][0-45-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)([1-9])\d{1,9}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"dv-MV":/^(\+?960)?(7[2-9]|91|9[3-9])\d{7}$/,"el-GR":/^(\+?30|0)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-BM":/^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}))/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28|55|59)\d{7}$/,"en-GY":/^(\+592|0)6\d{6}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"en-KI":/^((\+686|686)?)?( )?((6|7)(2|3|8)[0-9]{6})$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NA":/^(\+?264|0)(6|8)\d{7}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PK":/^((00|\+)?92|0)3[0-6]\d{8}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[3689]\d{7}$/,"en-SL":/^(\+?232|0)\d{8}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"en-BW":/^(\+?267)?(7[1-8]{1})\d{6}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-CU":/^(\+53|0053)?5\d{7}/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-SV":/^(\+?503)?[67]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"es-VE":/^(\+?58)?(2|4)\d{9}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-BF":/^(\+226|0)[67]\d{7}$/,"fr-CM":/^(\+?237)6[0-9]{8}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-PF":/^(\+?689)?8[789]\d{6}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36|06)(20|30|31|50|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(5|79)\d{7}$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"lv-LV":/^(\+?371)2\d{7}$/,"ms-MY":/^(\+?6?01){1}(([0145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"mz-MZ":/^(\+?258)?8[234567]\d{7}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[2-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"pt-AO":/^(\+244)\d{9}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"si-LK":/^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"sq-AL":/^(\+355|0)6[789]\d{6}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"tg-TJ":/^(\+?992)?[5][5]\d{7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"tk-TM":/^(\+993|993|8)\d{8}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"dz-BT":/^(\+?975|0)?(17|16|77|02)\d{6}$/};fe["en-CA"]=fe["en-US"],fe["fr-CA"]=fe["en-CA"],fe["fr-BE"]=fe["nl-BE"],fe["zh-HK"]=fe["en-HK"],fe["zh-MO"]=fe["en-MO"],fe["ga-IE"]=fe["en-IE"],fe["fr-CH"]=fe["de-CH"],fe["it-CH"]=fe["fr-CH"];var pe=Object.keys(fe),he=/^(0x)[0-9a-f]{40}$/i,ge={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1},me=/^(bc1)[a-z0-9]{25,39}$/,ve=/^(1|3)[A-HJ-NP-Za-km-z1-9]{25,39}$/,be=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,ye=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,we=function(t){var e=t.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(e){var n=Number(e[1]),r=Number(e[2]);return n%4==0&&n%100!=0||n%400==0?r<=366:r<=365}var o=t.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),i=o[1],a=o[2],s=o[3],l=a?"0".concat(a).slice(-2):a,c=s?"0".concat(s).slice(-2):s,d=new Date("".concat(i,"-").concat(l||"01","-").concat(c||"01"));return!a||!s||d.getUTCFullYear()===i&&d.getUTCMonth()+1===a&&d.getUTCDate()===s},xe=/([01][0-9]|2[0-3])/,_e=/[0-5][0-9]/,Ee=new RegExp("[-+]".concat(xe.source,":").concat(_e.source)),$e=new RegExp("([zZ]|".concat(Ee.source,")")),Ae=new RegExp("".concat(xe.source,":").concat(_e.source,":").concat(/([0-5][0-9]|60)/.source).concat(/(\.[0-9]+)?/.source)),Se=new RegExp("".concat(/[0-9]{4}/.source,"-").concat(/(0[1-9]|1[0-2])/.source,"-").concat(/([12]\d|0[1-9]|3[01])/.source)),Ce=new RegExp("".concat(Ae.source).concat($e.source)),Te=new RegExp("^".concat(Se.source,"[ tT]").concat(Ce.source,"$")),Le=new Set(["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"]),ke=new Set(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UYW","UZS","VES","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]),Oe=/^[A-Z2-7]+=*$/,Me=/^[A-HJ-NP-Za-km-z1-9]*$/,Pe=/^[a-z]+\/[a-z0-9\-\+]+$/i,Ie=/^[a-z\-]+=[a-z0-9\-]+$/i,Re=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i,Ne=/^magnet:\?xt(?:\.1)?=urn:(?:aich|bitprint|btih|ed2k|ed2khash|kzhash|md5|sha1|tree:tiger):[a-z0-9]{32}(?:[a-z0-9]{8})?($|&)/i,Be=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+]{1,100}$/i,De=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,He=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i,Fe=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,je=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/,Ze=/^(([1-8]?\d)\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|90\D+0\D+0)\D+[NSns]?$/i,Ge=/^\s*([1-7]?\d{1,2}\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|180\D+0\D+0)\D+[EWew]?$/i,ze={checkDMS:!1},Ue=/^\d{4}$/,We=/^\d{5}$/,Ke=/^\d{6}$/,Ye={AD:/^AD\d{3}$/,AT:Ue,AU:Ue,AZ:/^AZ\d{4}$/,BE:Ue,BG:Ue,BR:/^\d{5}-\d{3}$/,BY:/2[1-4]{1}\d{4}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:Ue,CN:/^(0[1-7]|1[012356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[1-5]|8[1345]|9[09])\d{4}$/,CZ:/^\d{3}\s?\d{2}$/,DE:We,DK:Ue,DO:We,DZ:We,EE:We,ES:/^(5[0-2]{1}|[0-4]{1}\d{1})\d{3}$/,FI:We,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HT:/^HT\d{4}$/,HU:Ue,ID:We,IE:/^(?!.*(?:o))[A-Za-z]\d[\dw]\s\w{4}$/i,IL:/^(\d{5}|\d{7})$/,IN:/^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,IR:/\b(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}\b/,IS:/^\d{3}$/,IT:We,JP:/^\d{3}\-\d{4}$/,KE:We,KR:/^(\d{5}|\d{6})$/,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:Ue,LV:/^LV\-\d{4}$/,LK:We,MX:We,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,MY:We,NL:/^\d{4}\s?[a-z]{2}$/i,NO:Ue,NP:/^(10|21|22|32|33|34|44|45|56|57)\d{3}$|^(977)$/i,NZ:Ue,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:Ke,RU:Ke,SA:We,SE:/^[1-9]\d{2}\s?\d{2}$/,SG:Ke,SI:Ue,SK:/^\d{3}\s?\d{2}$/,TH:We,TN:Ue,TW:/^\d{3}(\d{2})?$/,UA:We,US:/^\d{5}(-\d{4})?$/,ZA:Ue,ZM:We},Ve=Object.keys(Ye);function Xe(t,e){a(t);var n=e?new RegExp("^[".concat(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+"),"g"):/^\s+/g;return t.replace(n,"")}function Je(t,e){if(a(t),e){var n=new RegExp("[".concat(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+$"),"g");return t.replace(n,"")}for(var r=t.length-1;/\s/.test(t.charAt(r));)r-=1;return t.slice(0,r+1)}function qe(t,e){return a(t),t.replace(new RegExp("[".concat(e,"]+"),"g"),"")}var Qe={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},tn=["icloud.com","me.com"],en=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],nn=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],rn=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function on(t){return t.length>1?t:""}var an=/^[^\s-_](?!.*?[-_]{2,})[a-z0-9-\\][^\s]*[^-_\s]$/,sn={"cs-CZ":function(t){return/^(([ABCDEFHKIJKLMNPRSTUVXYZ]|[0-9])-?){5,8}$/.test(t)},"de-DE":function(t){return/^((AW|UL|AK|GA|AÖ|LF|AZ|AM|AS|ZE|AN|AB|A|KG|KH|BA|EW|BZ|HY|KM|BT|HP|B|BC|BI|BO|FN|TT|ÜB|BN|AH|BS|FR|HB|ZZ|BB|BK|BÖ|OC|OK|CW|CE|C|CO|LH|CB|KW|LC|LN|DA|DI|DE|DH|SY|NÖ|DO|DD|DU|DN|D|EI|EA|EE|FI|EM|EL|EN|PF|ED|EF|ER|AU|ZP|E|ES|NT|EU|FL|FO|FT|FF|F|FS|FD|FÜ|GE|G|GI|GF|GS|ZR|GG|GP|GR|NY|ZI|GÖ|GZ|GT|HA|HH|HM|HU|WL|HZ|WR|RN|HK|HD|HN|HS|GK|HE|HF|RZ|HI|HG|HO|HX|IK|IL|IN|J|JL|KL|KA|KS|KF|KE|KI|KT|KO|KN|KR|KC|KU|K|LD|LL|LA|L|OP|LM|LI|LB|LU|LÖ|HL|LG|MD|GN|MZ|MA|ML|MR|MY|AT|DM|MC|NZ|RM|RG|MM|ME|MB|MI|FG|DL|HC|MW|RL|MK|MG|MÜ|WS|MH|M|MS|NU|NB|ND|NM|NK|NW|NR|NI|NF|DZ|EB|OZ|TG|TO|N|OA|GM|OB|CA|EH|FW|OF|OL|OE|OG|BH|LR|OS|AA|GD|OH|KY|NP|WK|PB|PA|PE|PI|PS|P|PM|PR|RA|RV|RE|R|H|SB|WN|RS|RD|RT|BM|NE|GV|RP|SU|GL|RO|GÜ|RH|EG|RW|PN|SK|MQ|RU|SZ|RI|SL|SM|SC|HR|FZ|VS|SW|SN|CR|SE|SI|SO|LP|SG|NH|SP|IZ|ST|BF|TE|HV|OD|SR|S|AC|DW|ZW|TF|TS|TR|TÜ|UM|PZ|TP|UE|UN|UH|MN|KK|VB|V|AE|PL|RC|VG|GW|PW|VR|VK|KB|WA|WT|BE|WM|WE|AP|MO|WW|FB|WZ|WI|WB|JE|WF|WO|W|WÜ|BL|Z|GC)[- ]?[A-Z]{1,2}[- ]?\d{1,4}|(AIC|FDB|ABG|SLN|SAW|KLZ|BUL|ESB|NAB|SUL|WST|ABI|AZE|BTF|KÖT|DKB|FEU|ROT|ALZ|SMÜ|WER|AUR|NOR|DÜW|BRK|HAB|TÖL|WOR|BAD|BAR|BER|BIW|EBS|KEM|MÜB|PEG|BGL|BGD|REI|WIL|BKS|BIR|WAT|BOR|BOH|BOT|BRB|BLK|HHM|NEB|NMB|WSF|LEO|HDL|WMS|WZL|BÜS|CHA|KÖZ|ROD|WÜM|CLP|NEC|COC|ZEL|COE|CUX|DAH|LDS|DEG|DEL|RSL|DLG|DGF|LAN|HEI|MED|DON|KIB|ROK|JÜL|MON|SLE|EBE|EIC|HIG|WBS|BIT|PRÜ|LIB|EMD|WIT|ERH|HÖS|ERZ|ANA|ASZ|MAB|MEK|STL|SZB|FDS|HCH|HOR|WOL|FRG|GRA|WOS|FRI|FFB|GAP|GER|BRL|CLZ|GTH|NOH|HGW|GRZ|LÖB|NOL|WSW|DUD|HMÜ|OHA|KRU|HAL|HAM|HBS|QLB|HVL|NAU|HAS|EBN|GEO|HOH|HDH|ERK|HER|WAN|HEF|ROF|HBN|ALF|HSK|USI|NAI|REH|SAN|KÜN|ÖHR|HOL|WAR|ARN|BRG|GNT|HOG|WOH|KEH|MAI|PAR|RID|ROL|KLE|GEL|KUS|KYF|ART|SDH|LDK|DIL|MAL|VIB|LER|BNA|GHA|GRM|MTL|WUR|LEV|LIF|STE|WEL|LIP|VAI|LUP|HGN|LBZ|LWL|PCH|STB|DAN|MKK|SLÜ|MSP|TBB|MGH|MTK|BIN|MSH|EIL|HET|SGH|BID|MYK|MSE|MST|MÜR|WRN|MEI|GRH|RIE|MZG|MIL|OBB|BED|FLÖ|MOL|FRW|SEE|SRB|AIB|MOS|BCH|ILL|SOB|NMS|NEA|SEF|UFF|NEW|VOH|NDH|TDO|NWM|GDB|GVM|WIS|NOM|EIN|GAN|LAU|HEB|OHV|OSL|SFB|ERB|LOS|BSK|KEL|BSB|MEL|WTL|OAL|FÜS|MOD|OHZ|OPR|BÜR|PAF|PLÖ|CAS|GLA|REG|VIT|ECK|SIM|GOA|EMS|DIZ|GOH|RÜD|SWA|NES|KÖN|MET|LRO|BÜZ|DBR|ROS|TET|HRO|ROW|BRV|HIP|PAN|GRI|SHK|EIS|SRO|SOK|LBS|SCZ|MER|QFT|SLF|SLS|HOM|SLK|ASL|BBG|SBK|SFT|SHG|MGN|MEG|ZIG|SAD|NEN|OVI|SHA|BLB|SIG|SON|SPN|FOR|GUB|SPB|IGB|WND|STD|STA|SDL|OBG|HST|BOG|SHL|PIR|FTL|SEB|SÖM|SÜW|TIR|SAB|TUT|ANG|SDT|LÜN|LSZ|MHL|VEC|VER|VIE|OVL|ANK|OVP|SBG|UEM|UER|WLG|GMN|NVP|RDG|RÜG|DAU|FKB|WAF|WAK|SLZ|WEN|SOG|APD|WUG|GUN|ESW|WIZ|WES|DIN|BRA|BÜD|WHV|HWI|GHC|WTM|WOB|WUN|MAK|SEL|OCH|HOT|WDA)[- ]?(([A-Z][- ]?\d{1,4})|([A-Z]{2}[- ]?\d{1,3})))[- ]?(E|H)?$/.test(t)},"de-LI":function(t){return/^FL[- ]?\d{1,5}[UZ]?$/.test(t)},"fi-FI":function(t){return/^(?=.{4,7})(([A-Z]{1,3}|[0-9]{1,3})[\s-]?([A-Z]{1,3}|[0-9]{1,5}))$/.test(t)},"pt-PT":function(t){return/^([A-Z]{2}|[0-9]{2})[ -·]?([A-Z]{2}|[0-9]{2})[ -·]?([A-Z]{2}|[0-9]{2})$/.test(t)},"sq-AL":function(t){return/^[A-Z]{2}[- ]?((\d{3}[- ]?(([A-Z]{2})|T))|(R[- ]?\d{3}))$/.test(t)},"pt-BR":function(t){return/^[A-Z]{3}[ -]?[0-9][A-Z][0-9]{2}|[A-Z]{3}[ -]?[0-9]{4}$/.test(t)}},ln=/^[A-Z]$/,cn=/^[a-z]$/,dn=/^[0-9]$/,un=/^[-#!$@%^&*()_+|~=`{}\[\]:";'<>?,.\/ ]$/,fn={minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1,returnScore:!1,pointsPerUnique:1,pointsPerRepeat:.5,pointsForContainingLower:10,pointsForContainingUpper:10,pointsForContainingNumber:10,pointsForContainingSymbol:10};function pn(t){var e=function(t){var e={};return Array.from(t).forEach((function(t){e[t]?e[t]+=1:e[t]=1})),e}(t),n={length:t.length,uniqueChars:Object.keys(e).length,uppercaseCount:0,lowercaseCount:0,numberCount:0,symbolCount:0};return Object.keys(e).forEach((function(t){ln.test(t)?n.uppercaseCount+=e[t]:cn.test(t)?n.lowercaseCount+=e[t]:dn.test(t)?n.numberCount+=e[t]:un.test(t)&&(n.symbolCount+=e[t])})),n}function hn(t,e){var n=0;return n+=t.uniqueChars*e.pointsPerUnique,n+=(t.length-t.uniqueChars)*e.pointsPerRepeat,t.lowercaseCount>0&&(n+=e.pointsForContainingLower),t.uppercaseCount>0&&(n+=e.pointsForContainingUpper),t.numberCount>0&&(n+=e.pointsForContainingNumber),t.symbolCount>0&&(n+=e.pointsForContainingSymbol),n}var gn={GB:/^GB((\d{3} \d{4} ([0-8][0-9]|9[0-6]))|(\d{9} \d{3})|(((GD[0-4])|(HA[5-9]))[0-9]{2}))$/,IT:/^(IT)?[0-9]{11}$/,NL:/^(NL)?[0-9]{9}B[0-9]{2}$/};return{version:"13.7.0",toDate:s,toFloat:S,toInt:function(t,e){return a(t),parseInt(t,e||10)},toBoolean:function(t,e){return a(t),e?"1"===t||/^true$/i.test(t):"0"!==t&&!/^false$/i.test(t)&&""!==t},equals:function(t,e){return a(t),t===e},contains:function(t,e,n){return a(t),(n=T(n,L)).ignoreCase?t.toLowerCase().split(C(e).toLowerCase()).length>n.minOccurrences:t.split(C(e)).length>n.minOccurrences},matches:function(t,e,n){return a(t),"[object RegExp]"!==Object.prototype.toString.call(e)&&(e=new RegExp(e,n)),e.test(t)},isEmail:function(t,e){if(a(t),(e=T(e,H)).require_display_name||e.allow_display_name){var n=t.match(F);if(n){var r=n[1];if(t=t.replace(r,"").replace(/(^<|>$)/g,""),r.endsWith(" ")&&(r=r.substr(0,r.length-1)),!function(t){var e=t.replace(/^"(.+)"$/,"$1");if(!e.trim())return!1;if(/[\.";<>]/.test(e)){if(e===t)return!1;if(e.split('"').length!==e.split('\\"').length)return!1}return!0}(r))return!1}else if(e.require_display_name)return!1}if(!e.ignore_max_length&&t.length>254)return!1;var o=t.split("@"),i=o.pop(),s=i.toLowerCase();if(e.host_blacklist.includes(s))return!1;var l=o.join("@");if(e.domain_specific_validation&&("gmail.com"===s||"googlemail.com"===s)){var c=(l=l.toLowerCase()).split("+")[0];if(!k(c.replace(/\./g,""),{min:6,max:30}))return!1;for(var d=c.split("."),u=0;u<d.length;u++)if(!Z.test(d[u]))return!1}if(!(!1!==e.ignore_max_length||k(l,{max:64})&&k(i,{max:254})))return!1;if(!M(i,{require_tld:e.require_tld})){if(!e.allow_ip_domain)return!1;if(!D(i)){if(!i.startsWith("[")||!i.endsWith("]"))return!1;var f=i.substr(1,i.length-2);if(0===f.length||!D(f))return!1}}if('"'===l[0])return l=l.slice(1,l.length-1),e.allow_utf8_local_part?U.test(l):G.test(l);for(var p=e.allow_utf8_local_part?z:j,h=l.split("."),g=0;g<h.length;g++)if(!p.test(h[g]))return!1;return!e.blacklisted_chars||-1===l.search(new RegExp("[".concat(e.blacklisted_chars,"]+"),"g"))},isURL:function(t,n){if(a(t),!t||/[\s<>]/.test(t))return!1;if(0===t.indexOf("mailto:"))return!1;if((n=T(n,W)).validate_length&&t.length>=2083)return!1;if(!n.allow_fragments&&t.includes("#"))return!1;if(!n.allow_query_components&&(t.includes("?")||t.includes("&")))return!1;var r,o,i,s,l,c,d,u;if(d=t.split("#"),t=d.shift(),d=t.split("?"),t=d.shift(),(d=t.split("://")).length>1){if(r=d.shift().toLowerCase(),n.require_valid_protocol&&-1===n.protocols.indexOf(r))return!1}else{if(n.require_protocol)return!1;if("//"===t.substr(0,2)){if(!n.allow_protocol_relative_urls)return!1;d[0]=t.substr(2)}}if(""===(t=d.join("://")))return!1;if(d=t.split("/"),""===(t=d.shift())&&!n.require_host)return!0;if((d=t.split("@")).length>1){if(n.disallow_auth)return!1;if(""===d[0])return!1;if((o=d.shift()).indexOf(":")>=0&&o.split(":").length>2)return!1;var f=e(o.split(":"),2),p=f[0],h=f[1];if(""===p&&""===h)return!1}c=null,u=null;var g=(s=d.join("@")).match(K);if(g?(i="",u=g[1],c=g[2]||null):(i=(d=s.split(":")).shift(),d.length&&(c=d.join(":"))),null!==c&&c.length>0){if(l=parseInt(c,10),!/^[0-9]+$/.test(c)||l<=0||l>65535)return!1}else if(n.require_port)return!1;return n.host_whitelist?V(i,n.host_whitelist):!!(D(i)||M(i,n)||u&&D(u,6))&&(i=i||u,!n.host_blacklist||!V(i,n.host_blacklist))},isMACAddress:function(t,e){return a(t),e&&(e.no_colons||e.no_separators)?J.test(t):X.test(t)||q.test(t)},isIP:D,isIPRange:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";a(t);var n=t.split("/");if(2!==n.length)return!1;if(!Q.test(n[1]))return!1;if(n[1].length>1&&n[1].startsWith("0"))return!1;var r=D(n[0],e);if(!r)return!1;var o=null;switch(String(e)){case"4":o=32;break;case"6":o=tt;break;default:o=D(n[0],"6")?tt:32}return n[1]<=o&&n[1]>=0},isFQDN:M,isBoolean:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt;return a(t),e.loose?it.includes(t.toLowerCase()):ot.includes(t)},isIBAN:function(t){return a(t),function(t){var e=t.replace(/[\s\-]+/gi,"").toUpperCase(),n=e.slice(0,2).toUpperCase();return n in Rt&&Rt[n].test(e)}(t)&&function(t){var e=t.replace(/[^A-Z0-9]+/gi,"").toUpperCase(),n=(e.slice(4)+e.slice(0,4)).replace(/[A-Z]/g,(function(t){return t.charCodeAt(0)-55})),r=n.match(/\d{1,7}/g).reduce((function(t,e){return Number(t+e)%97}),"");return 1===r}(t)},isBIC:function(t){return a(t),!!Dt.has(t.slice(4,6).toUpperCase())&&Ht.test(t)},isAlpha:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a(t);var r=t,o=n.ignore;if(o)if(o instanceof RegExp)r=r.replace(o,"");else{if("string"!=typeof o)throw new Error("ignore should be instance of a String or RegExp");r=r.replace(new RegExp("[".concat(o.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"")}if(e in c)return c[e].test(r);throw new Error("Invalid locale '".concat(e,"'"))},isAlphaLocales:st,isAlphanumeric:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a(t);var r=t,o=n.ignore;if(o)if(o instanceof RegExp)r=r.replace(o,"");else{if("string"!=typeof o)throw new Error("ignore should be instance of a String or RegExp");r=r.replace(new RegExp("[".concat(o.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"")}if(e in d)return d[e].test(r);throw new Error("Invalid locale '".concat(e,"'"))},isAlphanumericLocales:lt,isNumeric:function(t,e){return a(t),e&&e.no_symbols?ct.test(t):new RegExp("^[+-]?([0-9]*[".concat((e||{}).locale?u[e.locale]:".","])?[0-9]+$")).test(t)},isPassportNumber:function(t,e){a(t);var n=t.replace(/\s/g,"").toUpperCase();return e.toUpperCase()in dt&&dt[e].test(n)},isPort:function(t){return pt(t,{min:0,max:65535})},isLowercase:function(t){return a(t),t===t.toLowerCase()},isUppercase:function(t){return a(t),t===t.toUpperCase()},isAscii:function(t){return a(t),mt.test(t)},isFullWidth:function(t){return a(t),vt.test(t)},isHalfWidth:function(t){return a(t),bt.test(t)},isVariableWidth:function(t){return a(t),vt.test(t)&&bt.test(t)},isMultibyte:function(t){return a(t),yt.test(t)},isSemVer:function(t){return a(t),wt.test(t)},isSurrogatePair:function(t){return a(t),xt.test(t)},isInt:pt,isIMEI:function(t,e){a(t);var n=ht;if((e=e||{}).allow_hyphens&&(n=gt),!n.test(t))return!1;t=t.replace(/-/g,"");for(var r=0,o=2,i=0;i<14;i++){var s=t.substring(14-i-1,14-i),l=parseInt(s,10)*o;r+=l>=10?l%10+1:l,1===o?o+=1:o-=1}return(10-r%10)%10===parseInt(t.substring(14,15),10)},isFloat:$,isFloatLocales:A,isDecimal:function(t,e){if(a(t),(e=T(e,_t)).locale in u)return!function(t,e){return t.some((function(t){return e===t}))}(Et,t.replace(/ /g,""))&&function(t){return new RegExp("^[-+]?([0-9]+)?(\\".concat(u[t.locale],"[0-9]{").concat(t.decimal_digits,"})").concat(t.force_decimal?"":"?","$"))}(e).test(t);throw new Error("Invalid locale '".concat(e.locale,"'"))},isHexadecimal:At,isOctal:function(t){return a(t),St.test(t)},isDivisibleBy:function(t,e){return a(t),S(t)%parseInt(e,10)==0},isHexColor:function(t){return a(t),Ct.test(t)},isRgbColor:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return a(t),e?Tt.test(t)||Lt.test(t)||kt.test(t)||Ot.test(t):Tt.test(t)||Lt.test(t)},isHSL:function(t){a(t);var e=t.replace(/\s+/g," ").replace(/\s?(hsla?\(|\)|,)\s?/gi,"$1");return-1!==e.indexOf(",")?Mt.test(e):Pt.test(e)},isISRC:function(t){return a(t),It.test(t)},isMD5:function(t){return a(t),Ft.test(t)},isHash:function(t,e){return a(t),new RegExp("^[a-fA-F0-9]{".concat(jt[e],"}$")).test(t)},isJWT:function(t){a(t);var e=t.split("."),n=e.length;return!(n>3||n<2)&&e.reduce((function(t,e){return t&&Ut(e,{urlSafe:!0})}),!0)},isJSON:function(e,n){a(e);try{n=T(n,Wt);var r=[];n.allow_primitives&&(r=[null,!1,!0]);var o=JSON.parse(e);return r.includes(o)||!!o&&"object"===t(o)}catch(e){}return!1},isEmpty:function(t,e){return a(t),0===((e=T(e,Kt)).ignore_whitespace?t.trim().length:t.length)},isLength:function(e,n){var r,o;a(e),"object"===t(n)?(r=n.min||0,o=n.max):(r=arguments[1]||0,o=arguments[2]);var i=e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],s=e.length-i.length;return s>=r&&(void 0===o||s<=o)},isLocale:function(t){return a(t),"en_US_POSIX"===t||"ca_ES_VALENCIA"===t||at.test(t)},isByteLength:k,isUUID:function(t,e){a(t);var n=Yt[[void 0,null].includes(e)?"all":e];return!!n&&n.test(t)},isMongoId:function(t){return a(t),At(t)&&24===t.length},isAfter:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);a(t);var n=s(e),r=s(t);return!!(r&&n&&r>n)},isBefore:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);a(t);var n=s(e),r=s(t);return!!(r&&n&&r<n)},isIn:function(e,n){var r;if(a(e),"[object Array]"===Object.prototype.toString.call(n)){var o=[];for(r in n)({}).hasOwnProperty.call(n,r)&&(o[r]=C(n[r]));return o.indexOf(e)>=0}return"object"===t(n)?n.hasOwnProperty(e):!(!n||"function"!=typeof n.indexOf)&&n.indexOf(e)>=0},isCreditCard:function(t){a(t);var e=t.replace(/[- ]+/g,"");if(!Vt.test(e))return!1;for(var n,r,o,i=0,s=e.length-1;s>=0;s--)n=e.substring(s,s+1),r=parseInt(n,10),i+=o&&(r*=2)>=10?r%10+1:r,o=!o;return!(i%10!=0||!e)},isIdentityCard:function(t,e){if(a(t),e in Xt)return Xt[e](t);if("any"===e){for(var n in Xt)if(Xt.hasOwnProperty(n)&&(0,Xt[n])(t))return!0;return!1}throw new Error("Invalid locale '".concat(e,"'"))},isEAN:function(t){a(t);var e=Number(t.slice(-1));return Jt.test(t)&&e===function(t){var e=t.slice(0,-1).split("").map((function(e,n){return Number(e)*function(t,e){return 8===t||14===t?e%2==0?3:1:e%2==0?1:3}(t.length,n)})).reduce((function(t,e){return t+e}),0),n=10-e%10;return n<10?n:0}(t)},isISIN:function(t){if(a(t),!qt.test(t))return!1;for(var e=!0,n=0,r=t.length-2;r>=0;r--)if(t[r]>="A"&&t[r]<="Z")for(var o=t[r].charCodeAt(0)-55,i=0,s=[o%10,Math.trunc(o/10)];i<s.length;i++){var l=s[i];n+=e?l>=5?1+2*(l-5):2*l:l,e=!e}else{var c=t[r].charCodeAt(0)-"0".charCodeAt(0);n+=e?c>=5?1+2*(c-5):2*c:c,e=!e}var d=10*Math.trunc((n+9)/10)-n;return+t[t.length-1]===d},isISBN:function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(a(e),!(n=String(n)))return t(e,10)||t(e,13);var r,o=e.replace(/[\s-]+/g,""),i=0;if("10"===n){if(!Qt.test(o))return!1;for(r=0;r<9;r++)i+=(r+1)*o.charAt(r);if("X"===o.charAt(9)?i+=100:i+=10*o.charAt(9),i%11==0)return!!o}else if("13"===n){if(!te.test(o))return!1;for(r=0;r<12;r++)i+=ee[r%2]*o.charAt(r);if(o.charAt(12)-(10-i%10)%10==0)return!!o}return!1},isISSN:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(t);var n=ne;if(n=e.require_hyphen?n.replace("?",""):n,!(n=e.case_sensitive?new RegExp(n):new RegExp(n,"i")).test(t))return!1;for(var r=t.replace("-","").toUpperCase(),o=0,i=0;i<r.length;i++){var s=r[i];o+=("X"===s?10:+s)*(8-i)}return o%11==0},isMobilePhone:function(t,e,n){if(a(t),n&&n.strictMode&&!t.startsWith("+"))return!1;if(Array.isArray(e))return e.some((function(e){return!(!fe.hasOwnProperty(e)||!fe[e].test(t))}));if(e in fe)return fe[e].test(t);if(!e||"any"===e){for(var r in fe)if(fe.hasOwnProperty(r)&&fe[r].test(t))return!0;return!1}throw new Error("Invalid locale '".concat(e,"'"))},isMobilePhoneLocales:pe,isPostalCode:function(t,e){if(a(t),e in Ye)return Ye[e].test(t);if("any"===e){for(var n in Ye)if(Ye.hasOwnProperty(n)&&Ye[n].test(t))return!0;return!1}throw new Error("Invalid locale '".concat(e,"'"))},isPostalCodeLocales:Ve,isEthereumAddress:function(t){return a(t),he.test(t)},isCurrency:function(t,e){return a(t),function(t){var e="\\d{".concat(t.digits_after_decimal[0],"}");t.digits_after_decimal.forEach((function(t,n){0!==n&&(e="".concat(e,"|\\d{").concat(t,"}"))}));var n="(".concat(t.symbol.replace(/\W/,(function(t){return"\\".concat(t)})),")").concat(t.require_symbol?"":"?"),r="-?",o="[1-9]\\d{0,2}(\\".concat(t.thousands_separator,"\\d{3})*"),i="(".concat(["0","[1-9]\\d*",o].join("|"),")?"),a="(\\".concat(t.decimal_separator,"(").concat(e,"))").concat(t.require_decimal?"":"?"),s=i+(t.allow_decimal||t.require_decimal?a:"");return t.allow_negatives&&!t.parens_for_negatives&&(t.negative_sign_after_digits?s+=r:t.negative_sign_before_digits&&(s=r+s)),t.allow_negative_sign_placeholder?s="( (?!\\-))?".concat(s):t.allow_space_after_symbol?s=" ?".concat(s):t.allow_space_after_digits&&(s+="( (?!$))?"),t.symbol_after_digits?s+=n:s=n+s,t.allow_negatives&&(t.parens_for_negatives?s="(\\(".concat(s,"\\)|").concat(s,")"):t.negative_sign_before_digits||t.negative_sign_after_digits||(s=r+s)),new RegExp("^(?!-? )(?=.*\\d)".concat(s,"$"))}(e=T(e,ge)).test(t)},isBtcAddress:function(t){return a(t),t.startsWith("bc1")?me.test(t):ve.test(t)},isISO8601:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(t);var n=e.strictSeparator?ye.test(t):be.test(t);return n&&e.strict?we(t):n},isRFC3339:function(t){return a(t),Te.test(t)},isISO31661Alpha2:function(t){return a(t),Bt.has(t.toUpperCase())},isISO31661Alpha3:function(t){return a(t),Le.has(t.toUpperCase())},isISO4217:function(t){return a(t),ke.has(t.toUpperCase())},isBase32:function(t){return a(t),!(t.length%8!=0||!Oe.test(t))},isBase58:function(t){return a(t),!!Me.test(t)},isBase64:Ut,isDataURI:function(t){a(t);var e=t.split(",");if(e.length<2)return!1;var n=e.shift().trim().split(";"),r=n.shift();if("data:"!==r.substr(0,5))return!1;var o=r.substr(5);if(""!==o&&!Pe.test(o))return!1;for(var i=0;i<n.length;i++)if((i!==n.length-1||"base64"!==n[i].toLowerCase())&&!Ie.test(n[i]))return!1;for(var s=0;s<e.length;s++)if(!Re.test(e[s]))return!1;return!0},isMagnetURI:function(t){return a(t),Ne.test(t.trim())},isMimeType:function(t){return a(t),Be.test(t)||De.test(t)||He.test(t)},isLatLong:function(t,e){if(a(t),e=T(e,ze),!t.includes(","))return!1;var n=t.split(",");return!(n[0].startsWith("(")&&!n[1].endsWith(")")||n[1].endsWith(")")&&!n[0].startsWith("("))&&(e.checkDMS?Ze.test(n[0])&&Ge.test(n[1]):Fe.test(n[0])&&je.test(n[1]))},ltrim:Xe,rtrim:Je,trim:function(t,e){return Je(Xe(t,e),e)},escape:function(t){return a(t),t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")},unescape:function(t){return a(t),t.replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`").replace(/&amp;/g,"&")},stripLow:function(t,e){return a(t),qe(t,e?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F")},whitelist:function(t,e){return a(t),t.replace(new RegExp("[^".concat(e,"]+"),"g"),"")},blacklist:qe,isWhitelisted:function(t,e){a(t);for(var n=t.length-1;n>=0;n--)if(-1===e.indexOf(t[n]))return!1;return!0},normalizeEmail:function(t,e){e=T(e,Qe);var n=t.split("@"),r=n.pop(),o=[n.join("@"),r];if(o[1]=o[1].toLowerCase(),"gmail.com"===o[1]||"googlemail.com"===o[1]){if(e.gmail_remove_subaddress&&(o[0]=o[0].split("+")[0]),e.gmail_remove_dots&&(o[0]=o[0].replace(/\.+/g,on)),!o[0].length)return!1;(e.all_lowercase||e.gmail_lowercase)&&(o[0]=o[0].toLowerCase()),o[1]=e.gmail_convert_googlemaildotcom?"gmail.com":o[1]}else if(tn.indexOf(o[1])>=0){if(e.icloud_remove_subaddress&&(o[0]=o[0].split("+")[0]),!o[0].length)return!1;(e.all_lowercase||e.icloud_lowercase)&&(o[0]=o[0].toLowerCase())}else if(en.indexOf(o[1])>=0){if(e.outlookdotcom_remove_subaddress&&(o[0]=o[0].split("+")[0]),!o[0].length)return!1;(e.all_lowercase||e.outlookdotcom_lowercase)&&(o[0]=o[0].toLowerCase())}else if(nn.indexOf(o[1])>=0){if(e.yahoo_remove_subaddress){var i=o[0].split("-");o[0]=i.length>1?i.slice(0,-1).join("-"):i[0]}if(!o[0].length)return!1;(e.all_lowercase||e.yahoo_lowercase)&&(o[0]=o[0].toLowerCase())}else rn.indexOf(o[1])>=0?((e.all_lowercase||e.yandex_lowercase)&&(o[0]=o[0].toLowerCase()),o[1]="yandex.ru"):e.all_lowercase&&(o[0]=o[0].toLowerCase());return o.join("@")},toString,isSlug:function(t){return a(t),an.test(t)},isStrongPassword:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(t);var n=pn(t);return(e=T(e||{},fn)).returnScore?hn(n,e):n.length>=e.minLength&&n.lowercaseCount>=e.minLowercase&&n.uppercaseCount>=e.minUppercase&&n.numberCount>=e.minNumbers&&n.symbolCount>=e.minSymbols},isTaxID:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";a(t);var n=t.slice(0);if(e in le)return e in ue&&(n=n.replace(ue[e],"")),!!le[e].test(n)&&(!(e in ce)||ce[e](n));throw new Error("Invalid locale '".concat(e,"'"))},isDate:nt,isLicensePlate:function(t,e){if(a(t),e in sn)return sn[e](t);if("any"===e){for(var n in sn)if((0,sn[n])(t))return!0;return!1}throw new Error("Invalid locale '".concat(e,"'"))},isVAT:function(t,e){if(a(t),a(e),e in gn)return gn[e].test(t);throw new Error("Invalid country code: '".concat(e,"'"))},ibanLocales:Nt}}()}},n={};!function t(r){var o=n[r];return void 0===o&&(o=n[r]={exports:{}},e[r].call(o.exports,o,o.exports,t)),o.exports}(461)})();